<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>GT 6.0 GridFTP: User's Guide</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><meta name="description" content="Introduction The GridFTP User's Guide provides general end user-oriented information."><link rel="home" href="#gridftpUser" title="GT 6.0 GridFTP: User's Guide"><link rel="next" href="#gridftp-user-quickstart" title="Chapter 1. Using GridFTP for Data Movement"><link href="http://www.globus.org/toolkit/css/default.css" rel="stylesheet" type="text/css"><link rel="stylesheet" type="text/css" href="/toolkit/css/print.css" media="print"><!-- calling in special style sheet if detected browser is IE 7 --><!--[if IE 7]>
                                                
                                                                <link rel="stylesheet" type="text/css" href="/toolkit/css/ie7.css" />
                                                
                                                <![endif]--><link rel="alternate" title="Globus Toolkit RSS" href="/toolkit/rss/downloadNews/downloadNews.xml" type="application/rss+xml"><script><!--
                                                function GlobusSubmit()
                                                {
                                                var f=document.GlobusSearchForm;
                                                
                                                f.action="http://www.google.com/custom";
                                                if (f.elements[0].checked) {
                                                f.q.value = f.qinit.value + " -inurl:mail_archive " ;
                                                } else {
                                                f.q.value = f.qinit.value + " inurl:mail_archive " ;
                                                }
                                                }
                                                --></script></head><body class="section-3"><?php include_once("../../includes/docbook_sidebar.inc");?><div class="book" title="GT 6.0 GridFTP: User's Guide"><div class="titlepage"><div><div><h1 class="title"><a name="gridftpUser"></a>GT 6.0 GridFTP: User's Guide</h1></div><div><div class="abstract" title="Introduction"><p class="title"><b>Introduction</b></p><p>The GridFTP User's Guide provides general end user-oriented information.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#gridftp-user-quickstart">1. Using GridFTP for Data Movement</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-quickstart-building">1. GridFTP clients</a></span></dt><dt><span class="section"><a href="#gridftp-user-quickstart-config">2. Configuring the GridFTP client</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-config-client-firewall">2.1. If client is behind a firewall</a></span></dt><dt><span class="section"><a href="#gridftp-user-quickstart-config-security">2.2. Configuring security</a></span></dt><dd><dl><dt><span class="section"><a href="#idm338232691120">2.2.1. SSH Security</a></span></dt><dt><span class="section"><a href="#idm338232689968">2.2.2. GSI Security</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#gridftp-user-basic">3. Basic procedure for using
    globus-url-copy</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-putting">3.1. Uploading files to a server</a></span></dt><dt><span class="section"><a href="#gridftp-user-getting">3.2. Downloading files from a server</a></span></dt><dt><span class="section"><a href="#gridftp-user-thirdpartytransfers">3.3. Third party transfers between
    two remote servers</a></span></dt><dt><span class="section"><a href="#gridftp-user-forinfo">3.4. For more information</a></span></dt></dl></dd><dt><span class="section"><a href="#gridftp-user-ftp">4. Using standard FTP clients with GridFTP server</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced">5. Advanced Features</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-advanced-failures">5.1. Failures and retries</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-load-balancing">5.2.  Load Balancing</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-udt">5.3. Using UDT as an alternative transport protocol for TCP</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-encryption">5.4. Encryption and Integrity protection</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-striping">5.5. Striping</a></span></dt></dl></dd><dt><span class="section"><a href="#gridftp-user-experimental">6. Experimental Features</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-experimental-multicasting">6.1. Multicasting</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-multicasting-advanced">6.1.1. Advanced multicasting options</a></span></dt><dt><span class="section"><a href="#gridftp-multicast-networkoverlay">6.1.2. Network
      Overlay</a></span></dt></dl></dd><dt><span class="section"><a href="#gridftp-user-advanced-bottleneck">6.2. Bottleneck detection</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#gridftp-user-command">2. GridFTP Client Tool</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#globus-url-copy">globus-url-copy</a></span><span class="refpurpose"> — Multi-protocol data movement</span></dt></dl></dd><dt><span class="chapter"><a href="#gridftp-guis">3. Graphical User Interface</a></span></dt><dd><dl><dt><span class="section"><a href="#idm338225465424">1. Globus Online</a></span></dt></dl></dd><dt><span class="chapter"><a href="#gridftp-troubleshooting">4. Troubleshooting</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-error-codes">1. Error Codes in GridFTP</a></span></dt><dt><span class="section"><a href="#idm338219621296">2. Establish control channel connection</a></span></dt><dt><span class="section"><a href="#idm338219618272">3. Try running globus-url-copy</a></span></dt><dt><span class="section"><a href="#idm338222064064">4. If your server starts...</a></span></dt><dt><span class="section"><a href="#gridftp-troubleshooting-latency">5. High latency for GridFTP server connections</a></span></dt></dl></dd><dt><span class="chapter"><a href="#gridftp-usage">5. Usage statistics collection by the Globus Alliance </a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-usage-stats">1. GridFTP-specific usage statistics</a></span></dt></dl></dd><dt><span class="glossary"><a href="#glossary-gridftpUser">Glossary</a></span></dt><dt><span class="index"><a href="#idm338232567600">Index</a></span></dt></dl></div><div class="chapter" title="Chapter 1. Using GridFTP for Data Movement"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-quickstart"></a>Chapter 1. Using GridFTP for Data Movement</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#gridftp-user-quickstart-building">1. GridFTP clients</a></span></dt><dt><span class="section"><a href="#gridftp-user-quickstart-config">2. Configuring the GridFTP client</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-config-client-firewall">2.1. If client is behind a firewall</a></span></dt><dt><span class="section"><a href="#gridftp-user-quickstart-config-security">2.2. Configuring security</a></span></dt><dd><dl><dt><span class="section"><a href="#idm338232691120">2.2.1. SSH Security</a></span></dt><dt><span class="section"><a href="#idm338232689968">2.2.2. GSI Security</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#gridftp-user-basic">3. Basic procedure for using
    globus-url-copy</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-putting">3.1. Uploading files to a server</a></span></dt><dt><span class="section"><a href="#gridftp-user-getting">3.2. Downloading files from a server</a></span></dt><dt><span class="section"><a href="#gridftp-user-thirdpartytransfers">3.3. Third party transfers between
    two remote servers</a></span></dt><dt><span class="section"><a href="#gridftp-user-forinfo">3.4. For more information</a></span></dt></dl></dd><dt><span class="section"><a href="#gridftp-user-ftp">4. Using standard FTP clients with GridFTP server</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced">5. Advanced Features</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-advanced-failures">5.1. Failures and retries</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-load-balancing">5.2.  Load Balancing</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-udt">5.3. Using UDT as an alternative transport protocol for TCP</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-encryption">5.4. Encryption and Integrity protection</a></span></dt><dt><span class="section"><a href="#gridftp-user-advanced-striping">5.5. Striping</a></span></dt></dl></dd><dt><span class="section"><a href="#gridftp-user-experimental">6. Experimental Features</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-experimental-multicasting">6.1. Multicasting</a></span></dt><dd><dl><dt><span class="section"><a href="#gridftp-user-multicasting-advanced">6.1.1. Advanced multicasting options</a></span></dt><dt><span class="section"><a href="#gridftp-multicast-networkoverlay">6.1.2. Network
      Overlay</a></span></dt></dl></dd><dt><span class="section"><a href="#gridftp-user-advanced-bottleneck">6.2. Bottleneck detection</a></span></dt></dl></dd></dl></div><div class="section" title="1. GridFTP clients"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-quickstart-building"></a>1. GridFTP clients</h2></div></div></div><p> <a class="ulink" href="http://www.globusonline.org" target="_top">Globus Online</a> is the
   recommended interface to move data to and from
   GridFTP servers. Globus Online provides a web GUI, command line interface and
   a
   REST API for GridFTP data movement. It provides automatic fault recovery and
   automatic tuning of optimization parameters to achieve high performance.
   </p><p>
   The Globus Toolkit provides a GridFTP client called
   <code class="computeroutput">globus-url-copy</code>, a command line interface,
   suitable for scripting. For example,
   the following command:</p><pre class="screen">globus-url-copy gsiftp://remote.host.edu/path/to/file
   file:///path/on/local/host</pre><p>would transfer a file from a remote host to the locally accessible path
   specified
   in the second URL.</p><p> The Globus Toolkit also provides <a class="ulink" href="http://www.globus.org/api/c-globus-6.0/globus_ftp_client/html/index.html" target="_top">FTP
   client libraries in C</a> and the
   <a class="ulink" href="http://www.globus.org/toolkit/jglobus/" target="_top">jGlobus</a> provides
   Java client libraries for building custom GridFTP clients.
    </p></div><div class="section" title="2. Configuring the GridFTP client"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-quickstart-config"></a>2. Configuring the GridFTP client</h2></div></div></div><div class="section" title="2.1. If client is behind a firewall"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-config-client-firewall"></a>2.1. If client is behind a firewall</h3></div></div></div><p><a name="gridftp-client-firewall-intro"></a>If the GridFTP <span class="emphasis"><em>client</em></span> is behind a firewall:</p><div class="orderedlist"><a name="gridftp-client-firewall-config"></a><ol class="orderedlist" type="1"><li class="listitem"><p>Contact your network administrator to open up a range of ports (for GridFTP data
          channel connections) for the incoming connections. If the firewall blocks the outgoing
          connections, open up a range of ports for outgoing connections as well.</p></li><li class="listitem"><p>Set the environment variable GLOBUS_TCP_PORT_RANGE
          </p><pre class="screen">export GLOBUS_TCP_PORT_RANGE=min,max </pre><p> where min,max specify the port
          range that you have opened for the incoming connections on the firewall. This restricts
          the listening ports of the GridFTP client to this range. Recommended range is 1000 (e.g.,
          50000-51000) but it really depends on how much use you expect.</p></li><li class="listitem"><p>If you have a firewall blocking the outgoing connections and you have opened a range
          of (local) ports, set the environment variable GLOBUS_TCP_SOURCE_RANGE:
          </p><pre class="screen">export GLOBUS_TCP_PORT_RANGE=min,max </pre><p> where min,max specify the port
          range that you have opened for the outgoing connections on the
	  firewall. This restricts the GridFTP client to bind to a local port in
	  this range for
          outbound connections. Recommended range is twice the
          range used for GLOBUS_TCP_PORT_RANGE, because if parallel TCP streams are used for
          transfers, the listening port would remain the same for each connection but the connecting
          port would be different for each connection.</p></li></ol></div><p><a name="gridftp-client-firewall-moreinfo"></a>Additional information on Globus Toolkit Firewall Requirements is available <a class="ulink" href="http://www.globus.org/toolkit/security/firewalls/" target="_top">here</a>.</p></div><div class="section" title="2.2. Configuring security"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-quickstart-config-security"></a>2.2. Configuring security</h3></div></div></div><div class="section" title="2.2.1. SSH Security"><div class="titlepage"><div><div><h4 class="title"><a name="idm338232691120"></a>2.2.1. SSH Security</h4></div></div></div><p>There is no additional configuration required to use GridFTP in conjunction with
      SSH.</p></div><div class="section" title="2.2.2. GSI Security"><div class="titlepage"><div><div><h4 class="title"><a name="idm338232689968"></a>2.2.2. GSI Security</h4></div></div></div><p>In order to use GSI security for the transfers, you need to obtain and install a user
      certificate from a certificate authority trusted by the GridFTP servers that you wish to move
      data in and out of, and configure the client to trust the certificate authority that signed
      the certificates of the GridFTP server(s)</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a href="../../admin/install/#gtadmin-basic-host" class="olink">Obtaining user
         certificates</a></p></li><li class="listitem"><p><a href="../../gsic/admin/#gsic-configuring-trustCA" class="olink">Configuring the
         client to trust a particular certificate authority</a></p></li><li class="listitem"><p><a href="../../gsic/user/#grid-proxy-init" class="olink">Creating a proxy
         credential</a></p></li></ul></div></div></div></div><div class="section" title="3. Basic procedure for using globus-url-copy"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-basic"></a>3. Basic procedure for using
    globus-url-copy</h2></div></div></div><a class="indexterm" name="idm338232683744"></a><a class="indexterm" name="idm338232682720"></a><p>If you just want the "rules of thumb" on getting started (without all the details), the
    following options using <code class="computeroutput">globus-url-copy</code> will normally give
    acceptable performance: </p><p>For a single file transfer:</p><pre class="screen">globus-url-copy -vb -p 4 <em class="replaceable"><code>source_url</code></em> <em class="replaceable"><code>destination_url</code></em></pre><p>where: </p><div class="variablelist"><dl><dt><span class="term">-vb</span></dt><dd><p>specifies verbose mode and displays: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"> number of bytes transferred, </li><li class="listitem"> performance since the last update (currently every 5 seconds), and </li><li class="listitem"> average performance for the whole transfer. </li></ul></div></dd><dt><span class="term">-p</span></dt><dd><p> Specifies the number of parallel data connections that should be used. This is one of
        the most commonly used options. </p><p><a href="#globus-url-copy-parallelismvalue" class="olink">How do I
         pick a value?</a></p></dd></dl></div><p>For a directory transfer:</p><pre class="screen">globus-url-copy -vb -p 4  -r -cd - cc 4 <em class="replaceable"><code>source_url</code></em> <em class="replaceable"><code>destination_url</code></em></pre><p>where: </p><div class="variablelist"><dl><dt><a name="concurrent"></a><span class="term">-cc</span></dt><dd><p>Specifies the number of concurrent FTP connections to use for multiple transfers.</p></dd><dt><span class="term">-cd</span></dt><dd><p>Creates destination directories, if needed.</p></dd><dt><span class="term">-r</span></dt><dd><p>Copies files in subdirectories.</p></dd></dl></div><p>The source/destination URLs will normally be one of the
    following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><em class="replaceable"><code>file:///path/to/my/file</code></em> if you are accessing a file on a
      file system accessible by the host on which you are running your
      <a href="#client" class="glossterm"><em class="glossterm">client</em></a>.</li><li class="listitem"><em class="replaceable"><code>gsiftp://hostname/path/to/remote/file</code></em> if you are accessing
      a file from a GridFTP <a href="#server" class="glossterm"><em class="glossterm">server</em></a>.</li></ul></div><div class="section" title="3.1. Uploading files to a server"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-putting"></a>3.1. Uploading files to a server</h3></div></div></div><a class="indexterm" name="idm338232660640"></a><a class="indexterm" name="idm338232659616"></a><p>One of the most basic tasks in GridFTP is to "put" files, i.e., moving a file from your
     file system to the server. So for example, if you want to move the file <code class="filename">/tmp/foo</code> from a file system accessible to the host on which you are running your
     client to a file name <code class="filename">/tmp/bar</code> on a host named <code class="filename">remote.machine.my.edu</code> running a GridFTP server, you would use this command:</p><pre class="screen">globus-url-copy -vb -p 4 file:///tmp/foo gsiftp://remote.machine.my.edu/tmp/bar</pre><p>
     </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In theory, <code class="filename">remote.machine.my.edu</code> could be the same host as the
       one on which you are running your client, but that is normally only done in testing
       situations. </p></td></tr></table></div><p>
      </p></div><div class="section" title="3.2. Downloading files from a server"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-getting"></a>3.2. Downloading files from a server</h3></div></div></div><a class="indexterm" name="idm338232653792"></a><a class="indexterm" name="idm338232652768"></a><p>A get, i.e, moving a file from a server to your file system, would just reverse the source
     and destination URLs:</p><p>
     </p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p> Remember <em class="replaceable"><code>file:</code></em> always refers to your file
       system.</p></td></tr></table></div><p>
     </p><pre class="screen">globus-url-copy -vb -p 4 gsiftp://remote.machine.my.edu/tmp/bar file:///tmp/foo</pre></div><div class="section" title="3.3. Third party transfers between two remote servers"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-thirdpartytransfers"></a>3.3. Third party transfers between
    two remote servers</h3></div></div></div><a class="indexterm" name="idm338232648800"></a><a class="indexterm" name="idm338232647776"></a><p>Finally, if you want to move a file between two GridFTP servers (a <a href="#third-party-transfers" class="glossterm"><em class="glossterm">third party transfer</em></a>), both URLs would use
      <code class="filename">gsiftp:</code> as the
      protocol:</p><pre class="screen">globus-url-copy -vb -p 4 gsiftp://<em class="replaceable"><code>other.machine.my.edu</code></em>/tmp/foo gsiftp://<em class="replaceable"><code>remote.machine.my.edu</code></em>/tmp/bar</pre></div><div class="section" title="3.4. For more information"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-forinfo"></a>3.4. For more information</h3></div></div></div><p>If you want more information and details on URLs and the <a href="#globus-url-copy-commandlineoptions" class="olink">command line options</a>, the <a href="../key/#gridftpKey" class="olink">GridFTP Key Concepts</a> gives basic definitions and an overview of the GridFTP protocol as well
     as our implementation of it.</p></div></div><div class="section" title="4. Using standard FTP clients with GridFTP server"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-ftp"></a>4. Using standard FTP clients with GridFTP server</h2></div></div></div><p>You can use any standard FTP client to communicate with the GridFTP server in the following
  cases:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>GridFTP server is configured to allow anonymous access or username/password based
  authentication. Note that this method is not secure but if the data on the GridFTP server is
  world readable or if the GridFTP server is accessible only to the clients on a trusted internal
  network, the GridFTP server may be configured to allow anonymous access or username/password based authentication</p></li><li class="listitem"><p>Your local system administrator has installed "GridFTP Where There is FTP (GWTFTP)", which
   acts as a proxy between standard FTP clients and GridFTP servers. More information on GWTFTP is available at <a href="../admin/#gridftp-admin-gwtftp" class="olink">Section 3, “GridFTP Where There Is FTP (GWTFTP)”</a>.</p></li></ul></div></div><div class="section" title="5. Advanced Features"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-advanced"></a>5. Advanced Features</h2></div></div></div><div class="section" title="5.1. Failures and retries"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-advanced-failures"></a>5.1. Failures and retries</h3></div></div></div><p>To retry a transfer after a server or network failure, use the <code class="option">-rst</code> option. 
     To store the untransferred 
     urls for restarting the transfer after a client failure, use the <code class="option">-df</code> option. 
     More information about these
     options is available <a href="#globus-url-copy-reliability" class="olink">here</a>.</p><p>For example, <span class="command"><strong>globus-url-copy</strong></span> can be invoked in a loop for long running transfers, 
     as shown in the script below:</p><pre class="screen">
     #!/bin/sh
     STATEFILE=/path/to/statefile; 
     while  [ ! -e $STATEFILE -o -s $STATEFILE ]; 
     do 
     globus-url-copy -rst -p 4  -cc 4 -cd -vb -r -df $STATEFILE gsiftp://srchost/srcdirpath/ gsiftp://dsthost/dstdirpath/; 
     sleep 10; 
     done;</pre></div><div class="section" title="5.2.  Load Balancing"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-advanced-load-balancing"></a>5.2.  Load Balancing</h3></div></div></div><p>When there are multiple GridFTP servers avalibale at endpoints,
    <code class="option">-af</code> option allows concurrent transfers to be spread across
    multiple GridFTP servers rather than multiple connections to a single
    GridFTP server.</p><p>For example, <span class="command"><strong>globus-url-copy</strong></span> can be invoked
     as shown below:</p><pre class="screen">
     globus-url-copy -cc 4 -af /tmp/alias-file -f /tmp/xfer-file
     </pre><p>
     Contents of /tmp/alias-file look something like this: </p><pre class="screen">
     @source
     gridftp1.source-cluster.org
     gridftp2.source-cluster.org
     @destination
     gridftp1.destination-cluster.org
     gridftp2.destination-cluster.org
     gridftp3.destination-cluster.org
     gridftp4.destination-cluster.org
     </pre><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
     Each line should either be an alias (noted with the @ symbol), or a
     hostname[:port]. Currently, only the aliases @source and @destination are
     valid,
     and they are used for every source or destination url.
     </p></td></tr></table></div><p> Contents of /tmp/xfer-file look something like this: </p><pre class="screen">
     gsiftp:///tmp/x1 gsiftp:///tmp/x1
     gsiftp:///tmp/x2 gsiftp:///tmp/x2
     gsiftp:///tmp/x3 gsiftp:///tmp/x3
     gsiftp:///tmp/x4 gsiftp:///tmp/x4
     </pre><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p> The host part in the url is ignored. 
     </p></td></tr></table></div><p> In the above example, the following transfers will happen
     concurrently: </p><pre class="screen">
     gsiftp://gridftp1.source-cluster.org/tmp/x1 gsiftp://gridftp1.destination-cluster.org/tmp/x1
     gsiftp://gridftp2.source-cluster.org/tmp/x2 gsiftp://gridftp2.destination-cluster.org/tmp/x2
     gsiftp://gridftp1.source-cluster.org/tmp/x3 gsiftp://gridftp3.destination-cluster.org/tmp/x3
     gsiftp://gridftp2.source-cluster.org/tmp/x4 gsiftp://gridftp4.destination-cluster.org/tmp/x4
     </pre></div><div class="section" title="5.3. Using UDT as an alternative transport protocol for TCP"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-advanced-udt"></a>5.3. Using UDT as an alternative transport protocol for TCP</h3></div></div></div><p>UDT is an application-level protocol that uses UDP for data transport. It addresses some of the
     limitations of TCP in high-bandwidth and high-delay networks and achieves better performance
     than TCP on those networks. To use UDT as the underlying transport protocol for the GridFTP
     transfers, use the <code class="option">-udt</code> option.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Note: In order to use this for a third-party transfer, the server must be configured to 
     <a href="../admin/#gridftp-config-udt" class="olink">enable UDT</a>. 
     In order to use this for a client-server transfer, you
     need to enable multi-threading in <span class="command"><strong>globus-url-copy</strong></span>. 
     To switch to threaded flavor, set the environment variable
     'GLOBUS_THREAD_MODEL=pthread'.
      </p></td></tr></table></div></div><div class="section" title="5.4. Encryption and Integrity protection"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-advanced-encryption"></a>5.4. Encryption and Integrity protection</h3></div></div></div><p>The data channel is authenticated by default. Integrity protection and encryption are optional. 
     To integrity protect the data, use the <code class="option">-dcsafe</code> option. For encrypted data transfer, use the <code class="option">-dcpriv</code> option.</p></div><div class="section" title="5.5. Striping"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-advanced-striping"></a>5.5. Striping</h3></div></div></div><p>The striping functionality enables one to use a set of computers at both ends of a network to transfer data. 
     At both the source and destination ends, the computers need to have a shared file system so that the dataset 
     is accessible from any computer.</p><p>This feature is especially useful in configurations where individual nodes 
     at the source and destination clusters have significantly less network capacity when compared to the network 
     capacity available between the clusters. An example would be clusters with the individual nodes connected by 
     1 Gbit/s Ethernet connections to a switch that is itself connected to the external network at 10 Gbit/s or faster.</p><p>To perform striped data movement, use the <code class="option">-stripe</code> option. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This option is useful only if the server is <a href="../admin/#gridftp-admin-striped" class="olink">configured for striped data movement</a>.</p></td></tr></table></div></div></div><div class="section" title="6. Experimental Features"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-experimental"></a>6. Experimental Features</h2></div></div></div><div class="section" title="6.1. Multicasting"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-experimental-multicasting"></a>6.1. Multicasting</h3></div></div></div><a class="indexterm" name="idm338232612896"></a><a class="indexterm" name="idm338232611872"></a><p>To transfer a single file to many destinations in a multicast/broadcast, use the new
     <code class="option">-mc</code> option.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>To use this option, the admin must enable multicasting. Click <a href="../admin/#gridftp-config-multi" class="olink">here</a> for more
       information.</p></td></tr></table></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p> This option is EXPERIMENTAL </p></td></tr></table></div><pre class="screen">globus-url-copy -vb -p 4 -mc <em class="replaceable"><code>filename</code></em> <em class="replaceable"><code>source_url</code></em></pre><p>The
      <em class="replaceable"><code>filename</code></em> must contain a line-separated list of destination urls. For
      example:
      </p><pre class="screen">gsiftp://localhost:5000/home/user/tst1
       gsiftp://localhost:5000/home/user/tst3
       gsiftp://localhost:5000/home/user/tst4
      </pre><p>
      For more flexibility, you can also specify a single destination url on the command line in
      addition to the urls in the file. Examples are:
      </p><pre class="screen">globus-url-copy -MC multicast.file gsiftp://localhost/home/user/src_file</pre><p> or
      </p><pre class="screen">globus-url-copy -MC multicast.file gsiftp://localhost/home/user/src_file gsiftp://localhost/home/user/dest_file1</pre><div class="section" title="6.1.1. Advanced multicasting options"><div class="titlepage"><div><div><h4 class="title"><a name="gridftp-user-multicasting-advanced"></a>6.1.1. Advanced multicasting options</h4></div></div></div><a class="indexterm" name="idm338232603760"></a><a class="indexterm" name="idm338232602480"></a><p>Along with specifying the list of destination urls in a file, a set of options for each
      url can be specified. This is done by appending a <code class="computeroutput">?</code> to the
      resource string in the url followed by semicolon-separated key value pairs. For
      example:</p><pre class="screen">gsiftp://dst1.domain.com:5000/home/user/tst1?cc=1;tcpbs=10M;P=4</pre><p>This
       indicates that the receiving host <code class="filename">dst1.domain.com</code> will use 4 parallel
       stream, a tcp buffer size of 10 MB, and will select 1 host when forwarding on data blocks. This
       url is specified in the <code class="option">-mc</code> file as described above.</p><p>The following
        is a list of key=value options and their meanings:</p><div class="variablelist"><dl><dt><span class="term">P=<em class="replaceable"><code>integer</code></em></span></dt><dd>The number of parallel streams this node will use when forwarding.</dd><dt><span class="term">cc=<em class="replaceable"><code>integer</code></em></span></dt><dd>The number of urls to which this node will forward data.</dd><dt><span class="term">tcpbs=<em class="replaceable"><code>formatted integer</code></em></span></dt><dd>The TCP buffer size this node will use when forwarding.</dd><dt><span class="term">urls=<em class="replaceable"><code>string list</code></em></span></dt><dd>The list of urls that must be children of this node when the spanning tree is
         complete.</dd><dt><span class="term">local_write=<em class="replaceable"><code>boolean: y|n</code></em></span></dt><dd>Determines if this data will be written to a local disk, or just forwarded on to the
         next hop. This is explained more in the <a href="#gridftp-multicast-networkoverlay" class="olink">Network Overlay</a> section.</dd><dt><span class="term">subject=<em class="replaceable"><code>string</code></em></span></dt><dd>The DN name to expect from the servers this node is connecting to.</dd></dl></div></div><div class="section" title="6.1.2. Network Overlay"><div class="titlepage"><div><div><h4 class="title"><a name="gridftp-multicast-networkoverlay"></a>6.1.2. Network
      Overlay</h4></div></div></div><a class="indexterm" name="idm338232585408"></a><a class="indexterm" name="idm338232584128"></a><p>In addition to allowing multicast, this function also allows for creating user-defined
       network routes. </p><p>If the <code class="option">local_write</code> option is set to
        <code class="computeroutput">n</code>, then no data will be written to the local disk, the data
        will only be forwarded on. </p><p>If the <code class="option">local_write</code> option is set to
         <code class="computeroutput">n</code> and is used with the <code class="option">cc=1</code> option, the data
         will be forwarded on to exactly one location. </p><p>This allows the user to create a
          network overlay of data hops using each GridFTP server as a router to the ultimate
          destination.</p></div></div><div class="section" title="6.2. Bottleneck detection"><div class="titlepage"><div><div><h3 class="title"><a name="gridftp-user-advanced-bottleneck"></a>6.2. Bottleneck detection</h3></div></div></div><p>To determine whether the disk or the network is the bottleneck for the file transfer, 
     use the <code class="option">-nlb</code> option.
     This option uses NetLogger to estimate speeds of disk and network read/write system calls, 
     and attempt to determine the bottleneck component.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In order to use this, the server must be configured to 
     <a class="ulink" href="http://www.cedps.net/index.php/Gridftp-netlogger" target="_top">enable netlogger bottleneck detection</a>.</p></td></tr></table></div><p>Example:
     </p><pre class="screen">globus-url-copy -p 2 -nlb -vb  gsiftp://host1:port/path/myfile gsiftp://host2:port/path/myfile</pre><p>
    </p><p>This will output something like the following:</p><pre class="screen">
     Total instantaneous throughput:
     disk read    = 17022.2 Mbits/s
     disk write   = 26630.8 Mbits/s
     net read     = 509.0 Mbits/s
     net write    = 1053.4 Mbits/s
     Bottleneck: network
    </pre></div></div></div><div class="chapter" title="Chapter 2. GridFTP Client Tool"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-user-command"></a>Chapter 2. GridFTP Client Tool</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="refentrytitle"><a href="#globus-url-copy">globus-url-copy</a></span><span class="refpurpose"> — Multi-protocol data movement</span></dt></dl></div><div class="refentry" title="globus-url-copy"><a name="globus-url-copy"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>globus-url-copy — Multi-protocol data movement</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">globus-url-copy</code> </p></div></div><div class="refsect1" title="Tool description"><a name="idm338226642624"></a><h2>Tool description</h2><a class="indexterm" name="idm338225664944"></a><a class="indexterm" name="idm338225848768"></a><p><span class="command"><strong>globus-url-copy</strong></span> is a scriptable command line tool that can do
      multi-protocol data movement. It supports gsiftp:// (GridFTP), ftp://, http://, https://, and
      file:/// protocol specifiers in the URL. For GridFTP, globus-url-copy supports all implemented
      functionality. Versions from GT 3.2 and later support file globbing and directory
      moves.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a href="#globus-url-copy-before" class="olink">Before you begin</a></p></li><li class="listitem"><p><a href="#globus-url-copy-syntax" class="olink">Command syntax</a></p></li><li class="listitem"><p><a href="#globus-url-copy-commandlineoptions" class="olink">Command
            line options</a>
          </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p><a href="#globus-url-copy-informationaloptions" class="olink">Informational
                  options</a></p></li><li class="listitem"><p><a href="#globus-url-copy-utilityoptions" class="olink">Utility options</a></p></li><li class="listitem"><p><a href="#globus-url-copy-reliability" class="olink">Reliability
                options</a></p></li><li class="listitem"><p><a href="#globus-url-copy-performanceoptions" class="olink">Performance
                  options</a></p></li><li class="listitem"><p><a href="#globus-url-copy-securityoptions" class="olink">Security-related
                  options</a></p></li></ul></div></li><li class="listitem"><p><a href="#globus-url-copy-defaultusage" class="olink">Default usage</a></p></li><li class="listitem"><p><a href="#globus-url-copy-modes" class="olink">MODES in GridFTP</a></p></li><li class="listitem"><p><a href="#globus-url-copy-manualserver" class="olink">If you run a GridFTP server by
            hand</a></p></li><li class="listitem"><p><a href="#globus-url-copy-tcpbuffervalue" class="olink">How do I choose a value for the TCP
            buffer size (<code class="option">-tcp-bs</code>) option?</a></p></li><li class="listitem"><p><a href="#globus-url-copy-parallelismvalue" class="olink">How do I choose a value for the
            parallelism (<code class="option">-p</code>) option?</a></p></li><li class="listitem"><p><a href="#globus-url-copy-limitations" class="olink">Limitations</a></p></li><li class="listitem"><p><a href="#globus-url-copy-interactiveclients" class="olink">Interactive clients for
            GridFTP</a></p></li></ul></div></div><div class="refsect1" title="Before you begin"><a name="globus-url-copy-before"></a><h2>Before you begin</h2><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>To use <code class="filename">gsiftp://</code> and <code class="filename">https://</code> protocols in
        globus-url-copy, you must have a <a href="../../admin/install/#gtadmin-basic-host" class="olink">certificate</a>. However, you may use <code class="filename">ftp://</code>, <code class="filename">http://</code> or <code class="filename">sshftp://</code> protocols without a
        certificate.</p></td></tr></table></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>First, as with all things Grid, you <span class="emphasis"><em>must</em></span> have a valid proxy
          certificate to run globus-url-copy in certain protocols (<code class="filename">gsiftp://</code>
          and <code class="filename">https://</code>, as noted above). If you are using <code class="filename">ftp://</code>, <code class="filename">http://</code> or <code class="filename">sshftp://</code>
          protocols, you may skip ahead to <a href="#globus-url-copy-syntax" class="olink">Command
            syntax</a>
        </p><p>If you do not have a certificate, you must <a href="../../admin/install/#gtadmin-basic-host" class="olink">obtain one</a>. </p><p>If you are doing this for testing in your own environment, the <a href="../../admin/install/appendix.html#gtadmin-simpleca" class="olink">SimpleCA</a> provided with the
          Globus Toolkit should suffice. </p><p>If not, you must contact the Virtual Organization (VO) with which you are associated
          to find out whom to ask for a certificate. </p><p>One common source is the <a class="ulink" href="http://www.doegrids.org/pages/cert-request.htm" target="_top">DOE Science Grid CA</a>, although you must confirm whether or not the resources you
          wish to access will accept their certificates. </p><p>Instructions for proper installation of the certificate should be provided from the
          source of the certificate. </p><p>Please note when your certificates expire; they will need to be renewed or you may
          lose access to your resources.</p></li><li class="listitem"><p>Now that you have a certificate, you must generate a temporary proxy. Do this by
          running: </p><pre class="screen">grid-proxy-init </pre><p>Further documentation for <span class="command"><strong>grid-proxy-init</strong></span> can be found <a href="../../gsic/developer/#grid-proxy-init" class="olink">here</a>.</p></li><li class="listitem"><p>You are now ready to use <span class="command"><strong>globus-url-copy</strong></span>! See the following
          sections for syntax and command line options and other considerations.</p></li></ol></div></div><div class="refsect1" title="Command syntax"><a name="globus-url-copy-syntax"></a><h2>Command syntax</h2><p>The basic syntax for <span class="command"><strong>globus-url-copy</strong></span> is:
      </p><pre class="screen">globus-url-copy [optional command line switches] <em class="replaceable"><code>Source_URL</code></em> <em class="replaceable"><code>Destination_URL</code></em> </pre><p>
      where:</p><div class="informaltable"><table border="1" width="700px"><colgroup><col><col></colgroup><tbody><tr><td>[optional command line switches]</td><td>See <a href="#globus-url-copy-commandlineoptions" class="olink">Command line options</a> below for a list of available options. </td></tr><tr><td>
              <p><em class="replaceable"><code>Source_URL</code></em></p>
            </td><td>
              <p>Specifies the original URL of the file(s) to be copied. </p>
              <p>If this is a directory, all files within that directory will be copied. </p>
            </td></tr><tr><td>
              <p><em class="replaceable"><code>Destination_URL</code></em></p>
            </td><td>
              <p> Specifies the URL where you want to copy the files.</p>
              <p>If you want to copy multiple files, this must be a directory. </p>
            </td></tr></tbody></table></div><p>
      </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Any url specifying a directory must end with <span class="command"><strong>/</strong></span>.</p></td></tr></table></div><p>
    </p><div class="refsect2" title="URL prefixes"><a name="urlprefixes"></a><h3>URL prefixes</h3><p>Versions from GT 3.2 and later support the following URL prefixes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="command"><strong>file://</strong></span> (on a local machine only)</li><li class="listitem"><span class="command"><strong>ftp://</strong></span></li><li class="listitem">
            <span class="command"><strong>gsiftp://</strong></span></li><li class="listitem"><span class="command"><strong>http://</strong></span></li><li class="listitem"><span class="command"><strong>https://</strong></span></li></ul></div><p>Versions from GT 4.2 and later support the following URL prefix (in addition to the
        above-mentioned URL prefixes):</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="command"><strong>sshftp://</strong></span>
          </li></ul></div><p>
        </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>We do <span class="emphasis"><em>not</em></span> provide an interactive client similar to the
            generic FTP client provided with Linux. See the <a href="#globus-url-copy-interactiveclients" class="olink">Interactive Clients</a> section
            below for information on an interactive client developed by NCSA/NMI/TeraGrid.</p></td></tr></table></div><p>
      </p></div><div class="refsect2" title="URL formats"><a name="syncurlformats"></a><h3>URL formats</h3><p>URLs can be any valid URL as defined by RFC 1738 that have a <a href="#urlprefixes" class="olink">protocol</a> we support. In general, they have the following
        format: <span class="command"><strong><em class="replaceable"><code>protocol</code></em>://<em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>/<em class="replaceable"><code>path</code></em></strong></span>.</p><p>
        </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If the path ends with a trailing / (i.e. <code class="filename">/path/to/directory/</code>) it will be considered to be a directory and all files
            in that directory will be moved. If you want a recursive directory move, you need to add
            the <a href="#globus-url-copy-utilityoptions" class="olink"> -r / -recurse</a> switch
            described below.</p></td></tr></table></div><p>
      </p><div class="table"><a name="idm338223772096"></a><p class="title"><b>Table 2.1. URL formats</b></p><div class="table-contents"><table summary="URL formats" border="1" width="700px"><colgroup><col><col></colgroup><tbody><tr><td><code class="filename">gsiftp://myhost.mydomain.com:2812/data/foo.dat</code></td><td>Fully specified.</td></tr><tr><td><code class="filename">http://myhost.mydomain.com/mywebpage/default.html</code></td><td>Port is not specified; therefore, GridFTP uses protocol default (in this case,
                  <code class="computeroutput">80</code>).</td></tr><tr><td><code class="filename">file:///foo.dat</code></td><td>Host is not specified; therefore, GridFTP uses your local host. Port is not
                specified; therefore, GridFTP uses protocol default (in this case, <code class="computeroutput">80</code>).</td></tr><tr><td><code class="filename">file:/foo.dat</code></td><td>This is also valid but is not recommended because, while many servers
                (including ours) accept this format, it is <span class="emphasis"><em>not</em></span> RFC conformant
                and is not recommended.</td></tr></tbody></table></div></div><br class="table-break"><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>For GridFTP (<code class="filename">gsiftp://</code>) and FTP (<code class="filename">ftp://</code>), it
          is legal to specify a user name and password in the the URL as follows:</p><pre class="screen"> gsiftp://<em class="replaceable"><code>myname</code></em>:[<em class="replaceable"><code>mypassword</code></em>]@<em class="replaceable"><code>myhost.mydomain.com/foo.dat</code></em></pre><p>If you are using GSI security, then you may specify the username (but you may
            <span class="emphasis"><em>not</em></span> include the <code class="computeroutput">:</code> or the password)
          and the grid-mapfile will be searched to see if that is a valid account mapping for your
          distinguished name (DN). If it is found, the <a href="#server" class="glossterm"><em class="glossterm">server</em></a> will setuid to
          that account. If not, it will fail. It will NOT fail back to your default account.</p><p>If you are using anonymous FTP, the username <span class="emphasis"><em>must</em></span> be one of the
          usernames listed as a valid anonymous name and the password can be anything.</p><p>If you are using password authentication, you must specify both your username and
          password. THIS IS HIGHLY DISCOURAGED, AS YOU ARE SENDING YOUR PASSWORD IN THE CLEAR ON THE
          NETWORK. This is worse than no security; it is a false illusion of security.</p></td></tr></table></div></div></div><div class="refsect1" title="Command line options"><a name="globus-url-copy-commandlineoptions"></a><h2>Command line options</h2><div class="refsect2" title="Informational Options"><a name="globus-url-copy-informationaloptions"></a><h3>Informational Options</h3><div class="variablelist"><dl><dt><span class="term">-help | -usage</span></dt><dd><p>Prints help.</p></dd><dt><span class="term">-version</span></dt><dd><p>Prints the version of this program.</p></dd><dt><span class="term">-versions</span></dt><dd><p>Prints the versions of all modules that this program uses.</p></dd><dt><span class="term">-q | -quiet</span></dt><dd><p>Suppresses all output for successful operation.</p></dd><dt><span class="term">-vb | -verbose</span></dt><dd><p>During the transfer, displays: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"> number of bytes transferred, </li><li class="listitem"> performance since the last update (currently every 5 seconds), and
                  </li><li class="listitem"> average performance for the whole transfer. </li></ul></div></dd><dt><span class="term">-dbg | -debugftp</span></dt><dd><p> Debugs FTP connections and prints the entire control channel protocol exchange to
              STDERR. </p><p>Very useful for debugging. Please provide this any time you are requesting
              assistance with a globus-url-copy problem. </p></dd><dt><span class="term">-list &lt;url&gt;</span></dt><dd><p> This option will display a directory listing for the given url.</p></dd><dt><span class="term">-nl-bottleneck | -nlb</span></dt><dd><p>This option uses NetLogger to estimate speeds of disk and network read/write system calls, and attempt to determine the bottleneck component.
            </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In order to use this, the server must be configured to <a class="ulink" href="http://www.cedps.net/index.php/Gridftp-netlogger" target="_top">enable netlogger bottleneck detection</a>.</p></td></tr></table></div><p>
          </p></dd></dl></div></div><div class="refsect2" title="Utility Ease of Use Options"><a name="globus-url-copy-utilityoptions"></a><h3>Utility Ease of Use Options</h3><div class="variablelist"><dl><dt><span class="term">-a | -ascii</span></dt><dd><p>Converts the file to/from ASCII format to/from local file format.</p></dd><dt><span class="term">-b | -binary</span></dt><dd><p>Does not apply any conversion to the files. This option is turned on by
              default.</p></dd><dt><span class="term">-cd | -create-dest</span></dt><dd><p>Create destination directories, if needed</p></dd><dt><span class="term">-f <em class="replaceable"><code>filename</code></em></span></dt><dd><p> Reads a list of URL pairs from a filename. </p><p>Each line should contain:</p><pre class="screen"><em class="replaceable"><code>sourceURL</code></em> <em class="replaceable"><code>destURL</code></em> </pre><p> Enclose URLs with spaces in double quotes ("). Blank lines and lines beginning
              with the hash sign (#) will be ignored. </p></dd><dt><span class="term">-r | -recurse</span></dt><dd><p>Copies files in subdirectories.</p></dd><dt><span class="term">-rp | -relative-paths</span></dt><dd><p>
The path portion of ftp urls will be interpereted as relative to the
      user's starting directory on the server.  By default, all paths are
      root-relative.  When this flag is set, the path portion of the ftp url
      must start with %2F if it designates a root-relative path.
	</p></dd><dt><span class="term">-notpt | -no-third-party-transfers</span></dt><dd><p> Turns third-party transfers off (on by default). </p><p>Site firewall and/or software configuration may prevent a connection between the
              two servers (a <a href="#third-party-transfers" class="glossterm"><em class="glossterm">third party
                transfer</em></a>). If this is the case, globus-url-copy will "relay" the data.
              It will do a GET from the source and a PUT to the destination. </p><p>This obviously causes a performance penalty but will allow you to complete a
              transfer you otherwise could not do. </p></dd></dl></div></div><div class="refsect2" title="Reliability Options"><a name="globus-url-copy-reliability"></a><h3>Reliability Options</h3><div class="variablelist"><dl><dt><span class="term">-rst | -restart</span></dt><dd><p>Restarts failed FTP operations.</p></dd><dt><span class="term">-rst-retries &lt;retries&gt;</span></dt><dd><p> Specifies the maximum number of times to retry the operation before giving up on
              the transfer. </p><p>Use 0 for infinite. </p><p>The default value is 5. </p></dd><dt><span class="term">-rst-interval &lt;seconds&gt;</span></dt><dd><p>Specifies the interval in seconds to wait after a failure before retrying the
              transfer. </p><p>Use 0 for an exponential backoff. </p><p>The default value is 0. </p></dd><dt><span class="term">-rst-timeout &lt;seconds&gt;</span></dt><dd><p> Specifies the maximum time after a failure to keep retrying. </p><p>Use 0 for no timeout. </p><p>The default value is 0. </p></dd><dt><span class="term">-df &lt;filename&gt; | -dumpfile &lt;filename&gt;</span></dt><dd><p>Specifies path to the file where untransferred urls will be saved for later
              restarting. The resulting file is the same format as the <code class="option">-f</code> input
              file. If the file exists, it will be read and all other url input will be
              ignored.</p></dd><dt><span class="term">-do &lt;filename&gt; | -dump-only &lt;filename&gt;</span></dt><dd><p>
Perform no write operations on the destination.  Instead, all files
       that would be transferred are enumerated and dumped to the specified
       file.  Resulting file is the same format as the -f input file.
       Note: if you intend to use this file as input for a future transfer,
       the -create-dest option will be required if any destination
       directories do not already exist.
	      </p></dd><dt><span class="term">-stall-timeout | -st &lt;seconds&gt;</span></dt><dd><p>Specifies how long before cancelling/restarting a transfer with no data movement.
              Set to 0 to disable. Default is 600 seconds.</p></dd></dl></div></div><div class="refsect2" title="Performance Options"><a name="globus-url-copy-performanceoptions"></a><h3>Performance Options </h3><div class="variablelist"><dl><dt><span class="term">-tcp-bs &lt;size&gt; | -tcp-buffer-size &lt;size&gt;</span></dt><dd><p> Specifies the size (in bytes) of the TCP buffer to be used by the underlying ftp
              data channels. </p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>This is critical to good performance over the WAN. </p></td></tr></table></div><p><a href="#globus-url-copy-tcpbuffervalue" class="olink">How do I pick a value?</a>
            </p></dd><dt><span class="term">-p &lt;parallelism&gt; | -parallel &lt;parallelism&gt;</span></dt><dd><p> Specifies the number of parallel data connections that should be used. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This is one of the most commonly used options. </p></td></tr></table></div><p><a href="#globus-url-copy-parallelismvalue" class="olink">How do I pick a value?</a>
            </p></dd><dt><span class="term">-bs &lt;block size&gt; | -block-size &lt;block size&gt;</span></dt><dd><p> Specifies the size (in bytes) of the buffer to be used by the underlying transfer
              methods.</p></dd><dt><a name="gridftp-user-pipelining"></a><span class="term">-pp</span></dt><dd><p> Allows pipelining.
              GridFTP is a command response protocol. A client sends one command and then waits for
              a "Finished response" before sending another. Adding this overhead on a per-file basis
              for a large data set partitioned into many small files makes the performance suffer.
              Pipelining allows the client to have many outstanding, unacknowledged transfer
              commands at once. Instead of being forced to wait for the "Finished response" message,
              the client is free to send transfer commands at any time.</p></dd><dt><span class="term">-mc <em class="replaceable"><code>filename</code></em>
            <em class="replaceable"><code>source_url</code></em></span></dt><dd><p> Transfers a single file to many destinations.
              Filename is a line-separated list of destination urls. For more information on this
              option, click <a href="#gridftp-user-experimental-multicasting" class="olink">here</a>.</p><p>Multicasting must be <a href="../admin/#gridftp-config-multi" class="olink">enabled for use</a> on the
		server side.</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>This option is EXPERIMENTAL. </p></td></tr></table></div></dd><dt><a name="concurrency"></a><span class="term"> -concurrency | -cc</span></dt><dd><p>Specifies the number of concurrent FTP connections to use for multiple
              transfers.</p></dd><dt><span class="term"> -udt</span></dt><dd><p>Uses UDT, a reliable UDP-based transport protocol, for data transfers.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Note: In order to use this option, the server must be configured to use <a href="../admin/#gridftp-config-udt" class="olink">UDT</a>. For third party
              transfers, no change is required on the client side. For client-server transfers, you
              need to enable threading in the client. To switch to
	      threaded flavor, set the environment variable
	      'GLOBUS_THREAD_MODEL=pthread'.
              </p></td></tr></table></div></dd><dt><span class="term"> -fast</span></dt><dd><p>Recommended when using GridFTP servers. Use MODE E for all data transfers,
              including reusing data channels between list and transfer operations.</p></dd></dl></div></div><div class="refsect2" title="Security Related Options"><a name="globus-url-copy-securityoptions"></a><h3>Security Related Options</h3><div class="variablelist"><dl><dt><span class="term">-s &lt;subject&gt; | -subject &lt;subject&gt;</span></dt><dd><p> Specifies a subject to match with both the source and destination servers. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Used when the server does not have access to the host certificate (usually when
                you are running the server as a user). See <a href="#globus-url-copy-manualserver" class="olink">the section called “If you run a GridFTP server by hand...”</a>.</p></td></tr></table></div></dd><dt><span class="term">-ss &lt;subject&gt; | -source-subject &lt;subject&gt;</span></dt><dd><p> Specifies a subject to match with the source server.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Used when the server does not have access to the host certificate (usually when
                you are running the server as a user). See <a href="#globus-url-copy-manualserver" class="olink">the section called “If you run a GridFTP server by hand...”</a>.</p></td></tr></table></div></dd><dt><span class="term">-ds &lt;subject&gt; | -dest-subject &lt;subject&gt;</span></dt><dd><p> Specifies a subject to match with the destination server.</p><p>
              </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Used when the server does not have access to the host certificate (usually
                  when you are running the server as a user). See <a href="#globus-url-copy-manualserver" class="olink">the section called “If you run a GridFTP server by hand...”</a>.</p></td></tr></table></div><p>
            </p></dd><dt><span class="term">-nodcau | -no-data-channel-authentication</span></dt><dd><p> Turns off data channel authentication for FTP transfers (the default is to
              authenticate the data channel). </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>We do <span class="emphasis"><em>not</em></span> recommend this option, as it is a security
                  risk. </p></td></tr></table></div></dd><dt><span class="term">-dcsafe | -data-channel-safe</span></dt><dd><p> Sets data channel protection mode to SAFE. </p><p>Otherwise known as <span class="emphasis"><em>integrity</em></span> or
                <span class="emphasis"><em>checksumming</em></span>. </p><p>Guarantees that the data channel has not been altered, though a malicious party
              may have observed the data. </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Rarely used as there is a substantial performance penalty. </p></td></tr></table></div></dd><dt><span class="term">-dcpriv | -data-channel-private</span></dt><dd><p> Sets data channel protection mode to PRIVATE. </p><p>The data channel is encrypted and checksummed. </p><p>Guarantees that the data channel has not been altered and, if observed, it won't
              be understandable. </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>VERY rarely used due to the VERY substantial performance penalty. </p></td></tr></table></div></dd></dl></div></div><div class="refsect2" title="Advanced Options"><a name="globus-url-copy-advancedoptions"></a><h3>Advanced Options</h3><div class="variablelist"><dl><dt><span class="term">-stripe</span></dt><dd><p> Enables striped transfers on supported servers. </p></dd><dt><span class="term">-striped-block-size | -sbs</span></dt><dd><p>Sets layout mode and blocksize for striped transfers.</p><p>If not set, the server defaults will be used. </p><p>If set to 0, partitioned mode will be used. </p><p>If set to &gt;0, blocked mode will be used, with this setting used as the
              blocksize.</p></dd><dt><span class="term">-t &lt;transfer time in seconds&gt;</span></dt><dd><p> Runs the transfer for the specified number of seconds and then ends. Useful for
              performance testing or forced restart loops.</p></dd><dt><span class="term">-ipv6</span></dt><dd><p> Uses ipv6 when available. </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>This option is EXPERIMENTAL. Use at your own risk.</p></td></tr></table></div></dd><dt><span class="term"> -dp | -delayed-pasv</span></dt><dd><p> Enables delayed passive.</p></dd><dt><span class="term">-g2 | -gridftp2</span></dt><dd><p> Uses GridFTP v2 protocol enhancements when possible.</p></dd><dt><span class="term">-mn | -module-name &lt;gridftp storage module name&gt;</span></dt><dd><p> Specifies the backend storage module to use for both the source and destination
              in a GridFTP transfer.</p></dd><dt><span class="term">-mp | -module-parameters &lt;gridftp storage module parameters&gt;</span></dt><dd><p> Specifies the backend storage module arguments to use for both the source and
              destination in a GridFTP transfer.</p></dd><dt><span class="term">-smn | -src-module-name &lt;gridftp storage module name&gt;</span></dt><dd><p> Specifies the backend storage module to use for the source file in a GridFTP
              transfer.</p></dd><dt><span class="term">-smp | -src-module-parameters &lt;gridftp storage module parameters&gt;</span></dt><dd><p> Specifies the backend storage module arguments to use for the source file in a
              GridFTP transfer.</p></dd><dt><span class="term">-dmn | -dst-module-name &lt;gridftp storage module name&gt;</span></dt><dd><p> Specifies the backend storage module to use for the destination file in a GridFTP
              transfer.</p></dd><dt><span class="term">-dmp | -dst-module-parameters &lt;gridftp storage module parameters&gt;</span></dt><dd><p> Specifies the backend storage module arguments to use for the destination file in
              a GridFTP transfer.</p></dd><dt><span class="term">-aa | -authz-assert &lt;authorization assertion file&gt;</span></dt><dd><p> Uses the assertions in the specified file to authorize access to both the source
              and destination servers.</p></dd><dt><span class="term">-saa | -src-authz-assert &lt;authorization assertion file&gt;</span></dt><dd><p> Uses the assertions in the specified file to authorize access to the source
              server.</p></dd><dt><span class="term">-daa | -dst-authz-assert &lt;authorization assertion file&gt;</span></dt><dd><p> Uses the assertions in the specified file to authorize access to the destination
              server.</p></dd><dt><span class="term">-cache-aa | -cache-authz-assert</span></dt><dd><p> Caches the authorization assertion for subsequent transfers.</p></dd><dt><span class="term">-cache-saa | -cache-src-authz-assert</span></dt><dd><p> Caches the source authorization assertion for subsequent transfers.</p></dd><dt><span class="term">-cache-daa | -cache-dst-authz-assert</span></dt><dd><p> Caches the destination authorization assertion for subsequent transfers.</p></dd><dt><span class="term">-nl-bottleneck | -nlb</span></dt><dd><p> Uses NetLogger to estimate speeds of disk and network read/write system calls,
              and attempt to determine the bottleneck component.</p><p>Note: In order to use this, the server must be configured to enable netlogger
              bottleneck detection.</p></dd><dt><span class="term">-src-pipe | -SP &lt;command line&gt;</span></dt><dd><p> Sets the source end of a remote transfer to use piped-in input with the given
              command line. </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Do not use with the <code class="option">-fsstack</code> option.</p></td></tr></table></div></dd><dt><span class="term">-dst-pipe | -DP &lt;command line&gt;</span></dt><dd><p> Sets the destination end of a remote transfer to write data to then standard
              input of the program run via the given command line. </p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Do not use with the <code class="option">-fsstack</code> option.</p></td></tr></table></div></dd><dt><span class="term">-pipe &lt;command line&gt;</span></dt><dd><p> Sets both <code class="option">-src-pipe</code> and <code class="option">-dst-pipe</code> to the same
              value.</p></dd><dt><span class="term">-dcstack | -data-channel-stack</span></dt><dd><p> Specifies the XIO driver stack for the network on both the source and and the
              destination. Both must be GridFTP servers.</p></dd><dt><span class="term">-fsstack | -file-system-stack</span></dt><dd><p> Specifies the XIO driver stack for the disk on both the source and the
              destination. Both must be GridFTP servers.</p></dd><dt><span class="term">-src-dcstack | -source-data-channel-stack</span></dt><dd><p> Specifies the XIO driver stack for the network on the source GridFTP
              server.</p></dd><dt><span class="term">-src-fsstack | -source-file-system-stack</span></dt><dd><p> Specifies the XIO driver stack for the disk on the source GridFTP server.</p></dd><dt><span class="term">-dst-dcstack | -dest-data-channel-stack</span></dt><dd><p> Specifies the XIO driver stack for the network on the destination GridFTP
              server.</p></dd><dt><span class="term">-dst-fsstack | -dest-file-system-stack</span></dt><dd><p> Specifies the XIO driver stack for the disk on the destination GridFTP
              server.</p></dd><dt><span class="term">-cred &lt;path to credentials or proxy file&gt;, -src-cred | -sc &lt;path to
            credentials or proxy file&gt;, -dst-cred | -dc &lt;path to credentials or proxy
            file&gt;</span></dt><dd><p> Specifies the credentials to use for source, destination, or both FTP
              connections.</p></dd><dt><span class="term">-af &lt;filename&gt; | -alias-file &lt;filename&gt;</span></dt><dd><p>Specifies a file that maps logical host aliases to lists of physical hosts. When
              used with multiple concurrent connections, each connection uses the next host in the
              list. Each line should either be an alias (noted with the @ symbol), or a
              hostname[:port]. Currently, only the aliases @source and @destination are valid, and
              they are used for every source or destination url.</p></dd></dl></div></div><div class="refsect2" title="Synchronization Options"><a name="globus-url-copy-syncoptions"></a><h3>Synchronization Options</h3><div class="variablelist"><dl><dt><span class="term">-sync </span></dt><dd><p>
	    Only transfer files where the destination does not exist or differs
	    from the source.  -sync-level controls how to determine if files
	    differ.
	      </p></dd><dt><span class="term">-sync-level &lt;number&gt;</span></dt><dd><p>
	    Choose critera for determining if files differ when performing a
	    sync transfer.  Level 0 will only transfer if the destination does
	    not exist.  Level 1 will transfer if the size of the destination
	    does not match the size of the source.  Level 2 will transfer if the
	    timestamp of the destination is older than the timestamp of the
	    source.  Level 3 will perform a checksum of the source and
	    destination and transfer if the checksums do not match. The default
	    sync level is 2.
	      </p></dd></dl></div></div><div class="refsect2" title="Default globus-url-copy usage"><a name="globus-url-copy-defaultusage"></a><h3>Default <span class="command"><strong>globus-url-copy</strong></span> usage</h3><p> A <span class="command"><strong>globus-url-copy</strong></span> invocation using the <span class="command"><strong>gsiftp</strong></span>
        protocol with no options (i.e., using all the defaults) will perform a transfer with the
        following characteristics: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">binary</li><li class="listitem">stream mode (which implies no parallelism)</li><li class="listitem">host default TCP buffer size</li><li class="listitem">encrypted and checksummed control channel</li><li class="listitem">an authenticated data channel</li></ul></div></div><div class="refsect2" title="MODES in GridFTP"><a name="globus-url-copy-modes"></a><h3>MODES in GridFTP</h3><p>GridFTP (as well as normal FTP) defines multiple wire protocols, or MODES, for the data
        channel. </p><p>Most normal FTP servers only implement <a href="#stream-mode" class="glossterm"><em class="glossterm">stream
          mode</em></a> (MODE S) , i.e. the bytes flow in order over a single TCP connection.
        GridFTP defaults to this mode so that it is compatible with normal FTP servers.</p><p>However, GridFTP has another MODE, called Extended Block Mode, or <a href="#extended-block-mode" class="glossterm"><em class="glossterm">MODE E</em></a>. This mode sends the data over
        the data channel in blocks. Each block consists of 8 bits of flags, a 64 bit integer
        indicating the offset from the start of the transfer, and a 64 bit integer indicating the
        length of the block in bytes, followed by a payload of length bytes. Because the offset and
        length are provided, out of order arrival is acceptable, i.e. the 10th block could arrive
        before the 9th because you know explicitly where it belongs. This allows us to use multiple
        TCP channels. If you use the <code class="option">-p | -parallelism</code> option, <span class="command"><strong>globus-url-copy</strong></span> automatically puts the servers into MODE E.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p> Putting <code class="option">-p 1</code> is not the same as no <span class="command"><strong>-p</strong></span> at all.
          Both will use a single stream, but the default will use stream mode and <code class="option">-p
            1</code> will use MODE E. </p></td></tr></table></div></div><div class="refsect2" title="If you run a GridFTP server by hand..."><a name="globus-url-copy-manualserver"></a><h3>If you run a GridFTP server by hand...</h3><p>If you run a GridFTP server by hand, you will need to explicitly specify the subject
        name to expect. The subject option provides <span class="command"><strong>globus-url-copy</strong></span> with a way to
        validate the remote servers with which it is communcating. Not only must the server trust
          <span class="command"><strong>globus-url-copy</strong></span>, but <span class="command"><strong>globus-url-copy</strong></span> must trust that
        it is talking to the correct server. The validation is done by comparing host DNs or
        subjects.</p><p>If the GridFTP server in question is running under a <a href="../../admin/install/#gtadmin-basic-host" class="olink">host certificate</a> then the client assumes a subject
        name based on the server's canonical DNS name. However, if it was started under a user
        certificate, as is the case when a server is started by hand, then the expected subject name
        must be explicitly stated. This is done with the <code class="option">-ss</code>, <code class="option">-sd</code>,
        and <code class="option">-s</code> options.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-ss</code></span></dt><dd><p>Sets the <code class="computeroutput">sourceURL</code> subject.</p></dd><dt><span class="term"><code class="option">-ds</code></span></dt><dd><p>Sets the <code class="computeroutput">destURL</code> subject.</p></dd><dt><span class="term"><code class="option">-s</code></span></dt><dd><p>If you use this option alone, it will set both urls to be the same. You can see an
              example of this usage under the <a href="#gridftp-troubleshooting" class="olink">Troubleshooting</a> section. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This is an <span class="emphasis"><em>unusual</em></span> use of the client. Most times you need
                  to specify both URLs. </p></td></tr></table></div></dd></dl></div></div><div class="refsect2" title="How do I choose a value?"><a name="choosingvalues"></a><h3>How do I choose a value?</h3><div class="refsect3" title="How do I choose a value for the TCP buffer size (-tcp-bs) option?"><a name="globus-url-copy-tcpbuffervalue"></a><h4>How do I choose a value for the TCP buffer size (<code class="option">-tcp-bs</code>)
          option?</h4><p>The value you should pick for the TCP buffer size (<code class="option">-tcp-bs</code>) depends
          on how fast you want to go (your bandwidth) and how far you are moving the data (as
          measured by the Round Trip Time (RTT) or the time it takes a packet to get to the
          destination and back). </p><p>To calculate the value for <code class="option">-tcp-bs</code>, use the following formula (this
          assumes that Mega means 1000^2 rather than 1024^2, which is typical for bandwidth):</p><p><code class="option">-tcp-bs</code> = bandwidth in Megabits per second (Mbs) * RTT in
          milliseconds (ms) * 1000 / 8</p><p>As an example, if you are using fast ethernet (100 Mbs) and the RTT was 50 ms it would
          be:</p><p><code class="option">-tcp-bs</code> = 100 * 50 * 1000 / 8 = 625,000 bytes.</p><p>So, how do you come up with values for bandwidth and RTT? To determine RTT, use either
          ping or traceroute. They both list RTT values.</p><p>
          </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You must be on one end of the transfer and ping the other end. This means that
              if you are doing a <a href="#gridftp-user-thirdpartytransfers" class="olink">third party transfer</a> you have
              to run the ping or traceroute between the two server hosts, not from your
              client.</p></td></tr></table></div><p>
        </p><p>The bandwidth is a little trickier. Any point in the network can be the bottleneck, so
          you either need to talk with your network engineers to find out what the bottleneck link
          is or just assume that your host is the bottleneck and use the speed of your network
          interface card (NIC).</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The value you pick for <code class="option">-tcp-bs</code> limits the top speed you can
            achieve. You will NOT get bandwidth any higher than what you used in the calculation
            (assuming the RTT is actually what you specified; it varies a little with network
            conditions). So, if for some reason you want to limit the bandwidth you get, you can do
            that by judicious choice of <code class="option">-tcp-bs</code> values.</p></td></tr></table></div><p>So where does this formula come from? Because it uses the bandwidth and the RTT (also
          known as the latency or delay) it is called the <span class="emphasis"><em>bandwidth delay
            product</em></span>. The very simple explanation is this: TCP is a reliable protocol. It
          must save a copy of everything it sends out over the network until the other end
          acknowledges that it has been received.</p><p>As a simple example, if I can put one byte per second onto the network, and it takes
          10 seconds for that byte to get there, and 10 seconds for the acknowledgment to get back
          (RTT = 20 seconds), then I would need at least 20 bytes of storage. Then, hopefully, by
          the time I am ready to send byte 21, I have received an acknowledgement for byte 1 and I
          can free that space in my buffer. If you want a more detailed explanation, try the
          following links on TCP tuning:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="ulink" href="http://www.psc.edu/networking/perf_tune.html" target="_top">http://www.psc.edu/networking/perf_tune.html</a></li><li class="listitem"><a class="ulink" href="http://www-didc.lbl.gov/TCP-tuning/" target="_top">http://www-didc.lbl.gov/TCP-tuning/</a></li><li class="listitem"><a class="ulink" href="http://www.ncne.nlanr.net/research/tcp/" target="_top">http://www.ncne.nlanr.net/research/tcp/</a></li></ul></div></div><div class="refsect3" title="How do I choose a value for the parallelism (-p) option?"><a name="globus-url-copy-parallelismvalue"></a><h4>How do I choose a value for the parallelism (<code class="option">-p</code>) option?</h4><p>For most instances, using 4 streams is a very good rule of thumb. Unfortunately, there
          is not a good formula for picking an exact answer. The shape of the graph shown here is
          very characteristic. </p><div class="figure"><a name="parallelism_chart"></a><p class="title"><b>Figure 2.1. Effect of Parallel Streams in GridFTP</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="Parallel_Streams.jpg" align="middle" alt="Effect of Parallel Streams in GridFTP"></div></div></div><br class="figure-break"><p>You get a strong increase in bandwidth, then a sharp knee, after which
          additional streams have very little impact. Where this knee is depends on many things, but
          it is generally between 2 and 10 streams. Higher bandwidth, longer round trip times, and
          more congestion in the network (which you usually can only guess at based on how
          applications are behaving) will move the knee higher (more streams needed). </p><p> In practice, between 4 and 8 streams are usually sufficient. If things look really
          bad, try 16 and see how much difference that makes over 8. However, anything above 16,
          other than for academic interest, is basically wasting resources.</p></div></div></div><div class="refsect1" title="Limitations"><a name="globus-url-copy-limitations"></a><h2>Limitations</h2><p>There are no limitations for <span class="command"><strong>globus-url-copy</strong></span> in GT 6.0. </p></div><div class="refsect1" title="Interactive clients for GridFTP"><a name="globus-url-copy-interactiveclients"></a><h2>Interactive clients for GridFTP </h2><p>The Globus Project does <span class="emphasis"><em>not</em></span> provide an interactive client for
      GridFTP. Any normal FTP client will work with a GridFTP server, but it cannot take advantage
      of the advanced features of GridFTP. The interactive clients listed below take advantage of
      the advanced features of GridFTP.</p><p> There is no endorsement implied by their presence here. We make no assertion as to the
      quality or appropriateness of these tools, we simply provide this for your convenience. We
      will <span class="emphasis"><em>not</em></span> answer questions, accept bugs, or in any way shape or form be
      responsible for these tools, although they should have mechanisms of their own for such
      things. </p><p><a class="indexterm" name="idm338223546064"></a>UberFTP was developed at the
      NCSA under the auspices of NMI and TeraGrid:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"> NCSA Uberftp only download: <a class="ulink" href="http://dims.ncsa.uiuc.edu/set/uberftp/download.html" target="_top">http://dims.ncsa.uiuc.edu/set/uberftp/download.html</a></li><li class="listitem"> UberFTP User's Guide: <a class="ulink" href="http://dims.ncsa.uiuc.edu/set/uberftp/userdoc.html" target="_top">http://dims.ncsa.uiuc.edu/set/uberftp/userdoc.html</a></li></ul></div></div></div></div><div class="chapter" title="Chapter 3. Graphical User Interface"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-guis"></a>Chapter 3. Graphical User Interface</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#idm338225465424">1. Globus Online</a></span></dt></dl></div><a class="indexterm" name="idm338224889696"></a><div class="section" title="1. Globus Online"><div class="titlepage"><div><div><h2 class="title"><a name="idm338225465424"></a>1. Globus Online</h2></div></div></div><p>
    Globus Toolkit does not provide a client with Graphical User Interface
    (GUI) but <a class="ulink" href="http://www.globusonline.org" target="_top">Globus Online</a>
    provides a web GUI for GridFTP data movement.

It has the following features: 
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>With a one-click <a class="ulink" href="https://www.globusonline.org/globus_connect/" target="_top">Globus
		    Connect</a> (modified GridFTP server binary) installed
		    on your local system, you can browse the local file system and transfer files and directories between the local system and remote GridFTP servers 

		    
		    and between
                        two remote GridFTP servers (third-party transfers).</p></li><li class="listitem"><p>Supports file system operations such as creating, deleting and renaming
                        files and directories.</p></li></ul></div><p>
        </p><p> Prerequisites: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> JDK 1.5.0+ </p></li></ul></div><p> Supported Platforms: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Windows </p></li><li class="listitem"><p> Linux </p></li><li class="listitem"><p> MAC </p></li></ul></div><p> The GUI provides two ways for generating a proxy credential required for the data
            transfer: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> Creating a proxy credential using a locally stored key pair. </p></li><li class="listitem"><p> Obtaining a proxy from a MyProxy Server. For more information about MyProxy,
                    please visit: <a class="ulink" href="http://myproxy.ncsa.uiuc.edu/" target="_top">http://myproxy.ncsa.uiuc.edu/</a>. </p></li></ol></div><p><a class="ulink" href="../demo.tar.gz" target="_top">A demo of using the GridFTP GUI is available here</a>. 
            Open the file ending in .htm with any browser with the Flash plugin to start the Flash demo - 
            then just click the green arrows to progress through each screen.</p></div></div><div class="chapter" title="Chapter 4. Troubleshooting"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-troubleshooting"></a>Chapter 4. Troubleshooting</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#gridftp-error-codes">1. Error Codes in GridFTP</a></span></dt><dt><span class="section"><a href="#idm338219621296">2. Establish control channel connection</a></span></dt><dt><span class="section"><a href="#idm338219618272">3. Try running globus-url-copy</a></span></dt><dt><span class="section"><a href="#idm338222064064">4. If your server starts...</a></span></dt><dt><span class="section"><a href="#gridftp-troubleshooting-latency">5. High latency for GridFTP server connections</a></span></dt></dl></div><a class="indexterm" name="idm338225445472"></a><a class="indexterm" name="idm338227625824"></a><p>If you are having problems using the GridFTP <a href="#server" class="glossterm"><em class="glossterm">server</em></a>, try the steps
        listed below. If you have an error, try checking the server logs if you have access to them.
        By default, the server logs to stderr, unless it is running from inetd, or its execution
        mode is detached, in which case logging is disabled by default. </p><p> The command
        line options -d , -log-level, -L and -logdir can affect where logs will be written, as can
        the configuration file options log_single and log_unique. See the <a href="../pi/#globus-gridftp-server" class="olink">globus-gridftp-server(8)</a> for more information on these
            and other configuration options.</p><div class="section" title="1. Error Codes in GridFTP"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-error-codes"></a>1. Error Codes in GridFTP</h2></div></div></div><a class="indexterm" name="idm338226088144"></a><div class="table"><a name="gridftp-errors-table"></a><p class="title"><b>Table 4.1. GridFTP Errors</b></p><div class="table-contents"><table summary="GridFTP Errors" border="1" width="700px"><colgroup><col align="left" class="c1"><col align="left" class="c2"><col align="left" class="c3"></colgroup><thead><tr><th align="left">Error Code</th><th align="left">Definition</th><th align="left">Possible Solutions</th></tr></thead><tbody><tr><td align="left"><code class="code">
    globus_ftp_client: the server responded with an error
530 530-globus_xio: Authentication Error
530-OpenSSL Error: s3_srvr.c:2525: in library: SSL routines, 
     function SSL3_GET_CLIENT_CERTIFICATE: no certificate returned
530-globus_gsi_callback_module: Could not verify credential
530-globus_gsi_callback_module: Can't get the local trusted CA certificate: 
Untrusted self-signed certificate in chain with hash d1b603c3
530 End.
  </code></td><td align="left">This error message indicates that the GridFTP server doesn't trust the certificate authority (CA) that issued your certificate.</td><td align="left">
You need to ask the GridFTP server administrator to install your CA certificate chain in the GridFTP server's trusted certificates directory.
  </td></tr><tr><td align="left"><code class="code">
  globus_ftp_control: gss_init_sec_context failed
OpenSSL Error: s3_clnt.c:951: in library: SSL routines, function 
SSL3_GET_SERVER_CERTIFICATE: certificate verify failed
globus_gsi_callback_module: Could not verify credential
globus_gsi_callback_module: Can't get the local trusted CA certificate: 
Untrusted self-signed certificate in chain with hash d1b603c3
    </code></td><td align="left">This error message indicates that your local system doesn't trust the certificate authority (CA) that issued the certificate on the resource you are connecting to.</td><td align="left">
You need to ask the resource administrator which CA issued their certificate and  install the CA certificate in the local trusted certificates directory.
  </td></tr><tr><td align="left"><code class="code">
  530-globus_xio: Authentication Error
  530-globus_gsi_callback_module: Could not verify credential
  530-globus_gsi_callback_module: Could not verify credential
  530-globus_gsi_callback_module: Invalid CRL: The available CRL has expired
  530 End.
    </code></td><td align="left">This error message indicates one of the following: 
  Certificate
  Revocation List (CRL) for the source or destination server CA at the client has
  expired or CRL for client CA has expired at source or destination server or
  CRL for source (destination) server CA has expired at destination (source)
  server. CRL is a file {CA_hash}.r0 in /etc/grid-security/certificates or
  ${USER_HOME}/.globus/certificates or ${X509_CERT_DIR}
  </td><td align="left">
  The tool available at http://dist.eugridpma.info/distribution/util/fetch-crl/
  can be run in a crontab to keep the CRLs up to date.
  </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section" title="2. Establish control channel connection"><div class="titlepage"><div><div><h2 class="title"><a name="idm338219621296"></a>2. Establish control channel connection</h2></div></div></div><p>Verify that you can establish a control channel connection and that the server has
            started successfully by telnetting to the port on which the server is running: </p><pre class="screen">% telnet localhost 2811
                Trying 127.0.0.1...
                Connected to localhost.
                Escape character is '^]'.
                220 GridFTP Server mldev.mcs.anl.gov 2.0 (gcc32dbg, 1113865414-1) ready.</pre><p>If you see anything other than a 220 banner such as the one above, the server has not
            started correctly.</p><p>Verify that there are no configuration files being unexpectedly loaded from
            /etc/grid-security/gridftp.conf or $GLOBUS_LOCATION/etc/gridftp.conf. If those files
            exist, and you did not intend for them to be used, rename them to .save, or specify -c
            none on the command line and try again.</p><p>If you can log into the machine where the server is, try running the server from the
            command line with only the -s option: </p><pre class="screen">$GLOBUS_LOCATION/sbin/globus-gridftp-server -s</pre><p>The server will print the port it is listening on: </p><pre class="screen">Server listening at gridftp.mcs.anl.gov:57764</pre><p>Now try and telnet to that port. If you still do not get the banner listed above,
            something is preventing the socket connection. Check firewalls, tcp-wrapper, etc.</p><p>If you now get a correct banner, add -p 2811 (you will have to disable (x)inetd on
            port 2811 if you are using them or you will get port already in use):</p><pre class="screen">$GLOBUS_LOCATION/sbin/globus-gridftp-server -s -p 2811</pre><p>Now telnet to port 2811. If this does not work, something is blocking port 2811. Check
            firewalls, tcp-wrapper, etc.</p><p>If this works correctly then re-enable your normal server, but remove all options but
            -i, -s, or -S.</p><p>Now telnet to port 2811. If this does not work, something is wrong with your service
            configuration. Check /etc/services and (x)inetd config, have (x)inetd restarted, etc.</p><p>If this works, begin adding options back one at a time, verifying that you can telnet
            to the server after each option is added. Continue this till you find the problem or get
            all the options you want. </p><p>At this point, you can establish a control connection. Now try running
            globus-url-copy.</p></div><div class="section" title="3. Try running globus-url-copy"><div class="titlepage"><div><div><h2 class="title"><a name="idm338219618272"></a>3. Try running globus-url-copy</h2></div></div></div><p>Once you've verified that you can establish a control connection, try to make a
            transfer using globus-url-copy.</p><p>If you are doing a <a href="#client" class="glossterm"><em class="glossterm">client</em></a>/server transfer (one of your URLs has
                <code class="filename">file:</code> in it) then try:</p><pre class="screen">globus-url-copy -vb -dbg gsiftp://host.server.running.on/dev/zero file:///dev/null</pre><p>This will run until you control-c the transfer. If that works, reverse the direction:</p><pre class="screen">globus-url-copy -vb -dbg file:///dev/zero gsiftp://host.server.running.on/dev/null</pre><p>Again, this will run until you control-c the transfer.</p><p>If you are doing a <a href="#third-party-transfers" class="glossterm"><em class="glossterm">third party
            transfer</em></a>, run this command:</p><pre class="screen">globus-url-copy -vb -dbg gsiftp://host.server1.on/dev/zero gsiftp://host.server2.on/dev/null</pre><p>Again, this will run until you control-c the transfer.</p><p>If the above transfers work, try your transfer again. If it fails, you likely have
            some sort of file permissions problem, typo in a file name, etc.</p></div><div class="section" title="4. If your server starts..."><div class="titlepage"><div><div><h2 class="title"><a name="idm338222064064"></a>4. If your server starts...</h2></div></div></div><p>If the server has started correctly, and your problem is with a security failure or
            gridmap lookup failure, verify that you have security configured properly <a href="../../admin/install/#gtadmin-basic-security" class="olink">here</a>.</p><p>If the server is running and your client successfully authenticates but has a problem
            at some other time during the session, please ask for help on <a class="ulink" href="http://dev.globus.org/wiki/Mailing_Lists" target="_top">gt-user@globus.org</a>. When you
            send mail or submit bugs, please always include as much of the following information as
            possible:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Specs on all hosts involved (OS, processor, RAM, etc).</li><li class="listitem">globus-url-copy -version</li><li class="listitem">globus-url-copy -versions </li><li class="listitem">Output from the telnet test above.</li><li class="listitem">The actual command line you ran with -dbg added. Don't worry if the output
                    gets long.</li><li class="listitem">Check that you are getting a FQDN and /etc/hosts that is sane.</li><li class="listitem">The server configuration and setup (/etc/services entries, (x)inetd
                    configs, etc.).</li><li class="listitem"> Any relevant lines from the server logs (not the entire log
                please).</li></ul></div></div><div class="section" title="5. High latency for GridFTP server connections"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-troubleshooting-latency"></a>5. High latency for GridFTP server connections</h2></div></div></div><p> If you run GridFTP servers via Xinetd and notice high latency for connections and/or
            transfers, check if <code class="filename">/etc/xinetd.conf</code> or the gsiftp service
            configuration inside <code class="filename">/etc/xinetd.d</code> is set to log USERID as follows:
            </p><pre class="screen">log_on_success += USERID
log_on_failure += USERID</pre><p>Such a configuration tells Xinetd to log the remote user using the method defined in
            RFC 1413, which causes an ident client to attempt to query the machine that the
            connection is coming from before the service will run. Even when this succeeds, the
            response can't be trusted, and more often than not it is rejected or simply dropped
            (which results in the longest delays) by the remote firewall.</p><p>Latency can be reduced by making sure Xinetd does <span class="emphasis"><em>not</em></span> log the
            USERID.</p></div></div><div class="chapter" title="Chapter 5. Usage statistics collection by the Globus Alliance"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-usage"></a>Chapter 5. Usage statistics collection by the Globus Alliance </h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#gridftp-usage-stats">1. GridFTP-specific usage statistics</a></span></dt></dl></div><a class="indexterm" name="idm338221251536"></a><div class="section" title="1. GridFTP-specific usage statistics"><div class="titlepage"><div><div><h2 class="title"><a name="gridftp-usage-stats"></a>1. GridFTP-specific usage statistics</h2></div></div></div><p>
The following GridFTP-specific usage statistics are sent in a UDP packet at 
the end of each transfer, in addition to the standard header information 
described in the  <a class="ulink" href="/toolkit/docs/6/6.0/Usage_Stats.html" target="_top">Usage Stats</a> section.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"> Start time of the transfer </li><li class="listitem"> End time of the transfer </li><li class="listitem"> Version string of the server </li><li class="listitem"> TCP buffer size used for the transfer </li><li class="listitem"> Block size used for the transfer </li><li class="listitem"> Total number of bytes transferred </li><li class="listitem"> Number of parallel streams used for the transfer </li><li class="listitem"> Number of stripes used for the transfer </li><li class="listitem"> Type of transfer (STOR, RETR, LIST) </li><li class="listitem"> FTP response code -- Success or failure of the transfer </li></ul></div><p>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../docbook/xsl/docbook-xsl-1.76.1/images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The client (globus-url-copy) does NOT send any data.  It is the <span class="emphasis"><em>servers</em></span> that send the usage statistics.</p></td></tr></table></div><p> 
We have made a concerted effort to collect only data that is not too intrusive 
or private and yet still provides us with information that will help improve 
and gauge the usage of the GridFTP server.  Nevertheless, if you wish to disable 
this feature for GridFTP only, use the <code class="option">-disable-usage-stats</code> option of <a href="../admin/#globus-gridftp-server" class="olink">globus-gridftp-server</a>.  Note that you can disable transmission
of usage statistics globally for all C components by setting 
"GLOBUS_USAGE_OPTOUT=1" in your environment.  
</p><p>Also, please see our <a class="ulink" href="/toolkit/docs/latest-stable/Usage_Stats.html" target="_top">policy statement</a> on
  the collection of usage statistics. </p></div></div><div class="glossary" title="Glossary"><div class="titlepage"><div><div><h2 class="title"><a name="glossary-gridftpUser"></a>Glossary</h2></div></div></div><div class="glossdiv" title="C"><h3 class="title">C</h3><dl><dt><a name="client"></a>client</dt><dd><p>A process that sends commands and receives responses. Note that in GridFTP, the client may or may not take part in the actual movement of data.
                        </p></dd></dl></div><div class="glossdiv" title="E"><h3 class="title">E</h3><dl><dt><a name="extended-block-mode"></a>extended block mode (MODE E)</dt><dd><p> MODE E is a critical GridFTP components because it allows for out of
                              order reception of data. This in turn, means we can send the data down
                              multiple paths and do not need to worry if one of the paths is slower
                              than the others and the data arrives out of order. This enables
                              parallelism and striping within GridFTP. In MODE E, a series of
                              “blocks” are sent over the data channel. Each block consists of:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">an 8 bit flag field, </li><li class="listitem">a 64 bit field indicating the offset in the
                                    transfer,</li><li class="listitem">and a 64 bit field indicating the length of the
                                          payload, </li><li class="listitem">followed by length bytes of payload. </li></ul></div><p>Note that since the offset and length are included in the block, out
                              of order reception is possible, as long as the receiving side can
                              handle it, either via something like a seek on a file, or via some
                              application level buffering and ordering logic that will wait for the
                              out of order blocks. </p></dd></dl></div><div class="glossdiv" title="S"><h3 class="title">S</h3><dl><dt><a name="server"></a>server</dt><dd><p>A process that receives commands and sends responses to
                              those commands. Since it is a server or service, and it receives
                              commands, it must be listening on a port somewhere to receive the
                              commands. Both FTP and GridFTP have IANA registered ports. For FTP it
                              is port 21, for GridFTP it is port 2811. This is normally handled via
                              inetd or xinetd on Unix variants. However, it is also possible to
                              implement a daemon that listens on the specified port. This is
                              described more fully in in the Architecture section of the GridFTP
                              Developer's Guide.</p></dd><dt><a name="stream-mode"></a>stream mode (MODE S)</dt><dd><p> The only mode normally implemented for FTP is MODE S. This is simply
                              sending each byte, one after another over the socket in order, with no
                              application level framing of any kind. This is the default and is what
                              a standard FTP server will use. This is also the default for GridFTP.
                        </p></dd></dl></div><div class="glossdiv" title="T"><h3 class="title">T</h3><dl><dt><a name="third-party-transfers"></a>third party transfers</dt><dd><p>In the simplest terms, a third party transfer moves a file between two
                              GridFTP servers.</p><p> The following is a more detailed, programmatic description. </p><p>In a third party transfer, there are three entities involved. The
                              client, who will only orchestrate, but not actually take place in the
                              data transfer, and two servers one of which will be sending data to
                              the other. This scenario is common in Grid applications where you may
                              wish to stage data from a data store somewhere to a supercomputer you
                              have reserved. The commands are quite similar to the client/server
                              transfer. However, now the client must establish two control channels,
                              one to each server. He will then choose one to listen, and send it the
                              PASV command. When it responds with the IP/port it is listening on,
                              the client will send that IP/port as part of the PORT command to the
                              other server. This will cause the second server to connect to the
                              first server, rather than the client. To initiate the actual movement
                              of the data, the client then sends the RETR filename command to the
                              server that will read from disk and write to the network (the
                              sending server) and will send the STOR filename command to the
                              other server which will read from the network and write to the disk
                              (the receiving server). </p><p>See Also <a class="glossseealso" href="#client-server-transfer">client/server transfer</a>.</p></dd></dl></div></div><div class="index" title="Index"><div class="titlepage"><div><div><h2 class="title"><a name="idm338232567600"></a>Index</h2></div></div></div><div class="index"><div class="indexdiv"><h3>C</h3><dl><dt>commandline
        tool</dt><dd><dl><dt>globus-url-copy, <a class="indexterm" href="#idm338226642624">Tool description</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>E</h3><dl><dt>errors, <a class="indexterm" href="#gridftp-error-codes">Error Codes in GridFTP</a></dt></dl></div><div class="indexdiv"><h3>G</h3><dl><dt>globus-url-copy, <a class="indexterm" href="#idm338226642624">Tool description</a></dt><dt>GUI information for GridFTP, <a class="indexterm" href="#gridftp-guis">Graphical User Interface</a></dt></dl></div><div class="indexdiv"><h3>I</h3><dl><dt>interactive
          clients</dt><dd><dl><dt>UberFTP, <a class="indexterm" href="#globus-url-copy-interactiveclients">Interactive clients for GridFTP </a></dt></dl></dd></dl></div><div class="indexdiv"><h3>M</h3><dl><dt>moving files</dt><dd><dl><dt>basic
    procedure, <a class="indexterm" href="#gridftp-user-basic">Basic procedure for using
    globus-url-copy</a></dt><dt>between two GridFTP servers
      (a third party transfer), <a class="indexterm" href="#gridftp-user-thirdpartytransfers">Third party transfers between
    two remote servers</a></dt><dt>from a server to your file
      system, <a class="indexterm" href="#gridftp-user-getting">Downloading files from a server</a></dt><dt>from your file system to the
      server, <a class="indexterm" href="#gridftp-user-putting">Uploading files to a server</a></dt><dt>single file to many
     destinations, <a class="indexterm" href="#gridftp-user-experimental-multicasting">Multicasting</a></dt><dd><dl><dt>advanced options, <a class="indexterm" href="#gridftp-user-multicasting-advanced">Advanced multicasting options</a></dt><dt>user-defined network routes, <a class="indexterm" href="#gridftp-multicast-networkoverlay">Network
      Overlay</a></dt></dl></dd></dl></dd></dl></div><div class="indexdiv"><h3>T</h3><dl><dt>troubleshooting for GridFTP, <a class="indexterm" href="#gridftp-troubleshooting">Troubleshooting</a></dt></dl></div><div class="indexdiv"><h3>U</h3><dl><dt>usage statistics for GridFTP, <a class="indexterm" href="#gridftp-usage">Usage statistics collection by the Globus Alliance </a></dt></dl></div></div></div></div></body></html>
