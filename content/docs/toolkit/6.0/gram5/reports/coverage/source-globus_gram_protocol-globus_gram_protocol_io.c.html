<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- source.template -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <title>Code Coverage for globus_gram_protocol_io.c</title>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
      <link href="coverage.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
      <table class="srcView">
      
        <tr>
          <td class="lineCount">1</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Copyright 1999-2006 University of Chicago</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">3</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">4</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">5</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * you may not use this file except in compliance with the License.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">6</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * You may obtain a copy of the License at</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">7</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">8</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * http://www.apache.org/licenses/LICENSE-2.0</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">9</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">10</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Unless required by applicable law or agreed to in writing, software</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">11</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">12</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">13</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * See the License for the specific language governing permissions and</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">14</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * limitations under the License.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">15</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">16</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">17</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &quot;globus_i_gram_protocol.h&quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">18</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">19</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &lt;string.h&gt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">20</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">21</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#ifndef DOXYGEN</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">22</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">23</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">24</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_setup_accept_attr(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">25</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *                          attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">26</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *       connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">27</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">28</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">29</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_setup_connect_attr(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">30</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *                     attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">31</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                                 identity);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">32</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">33</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">34</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_bool_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">35</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_authorization_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">36</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	void *				arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">37</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">38</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">39</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	char *				identity,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">40</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	gss_ctx_id_t 			context_handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">41</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">42</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">43</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">44</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_listen_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">45</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">46</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">47</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">48</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">49</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">50</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">51</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_accept_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">52</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">53</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">54</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">55</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">56</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">57</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">58</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_close_listener(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">59</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">60</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">61</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">62</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">63</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">64</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">65</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_connect_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">66</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">67</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">68</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">69</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">70</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">71</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">72</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_write_request_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">73</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">74</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">75</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">76</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">77</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">78</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">79</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">80</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">81</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_read_request_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">82</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">83</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">84</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">85</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">86</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">87</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">88</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">89</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">90</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_write_reply_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">91</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">92</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">93</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">94</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">95</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">96</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">97</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">98</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">99</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_read_reply_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">100</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">101</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">102</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">103</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">104</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">105</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">106</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">107</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">108</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">109</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">110</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">111</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">112</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">113</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">114</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">115</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_parse_request_header(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">116</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const globus_byte_t *		buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">117</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t *			payload_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">118</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char **				uri);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">119</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">120</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">121</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">122</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_parse_reply_header(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">123</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const globus_byte_t *		buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">124</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t *			payload_length);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">125</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">126</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">127</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">128</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_reply(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">129</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">130</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">131</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">132</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">133</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_OID_set				restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">134</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_set_t			restriction_bufers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">135</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">136</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">137</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_delegation_callback_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">138</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">139</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">140</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">141</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">142</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">143</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_post(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">144</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *			url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">145</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t *	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">146</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *			attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">147</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">148</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">149</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_bool_t			keep_open,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">150</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_cred_id_t			cred_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">151</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_OID_set				restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">152</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_set_t			restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">153</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">154</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">155</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_callback_t	callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">156</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">157</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">158</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">159</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">160</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_delegation_read_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">161</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">162</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">163</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">164</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">165</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">166</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">167</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">168</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">169</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_delegation_write_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">170</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">171</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">172</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">173</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">174</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">175</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">176</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">177</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">178</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_accept_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">179</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">180</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">181</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_t			input_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">182</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">183</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">184</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">185</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_init_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">186</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">187</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">188</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_t			input_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">189</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">190</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">191</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">192</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_free_old_credentials();</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">193</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">194</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#endif</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">195</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">196</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">197</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @defgroup globus_gram_protocol_io Message I/O</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">198</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @ingroup globus_gram_protocol_functions</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">199</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">200</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * The functions in this section </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">201</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">202</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">203</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">204</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Create a GRAM Protocol listener.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">205</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @ingroup globus_gram_protocol_io</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">206</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">207</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Creates a GRAM Protocol listener. The listener will automatically</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">208</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * accept new connections on it&#39;s TCP/IP port and parse GRAM requests.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">209</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * The requests will be passed to the specified @a callback function</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">210</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * to the user can unpack the request, handle it, and send a reply</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">211</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * by calling globus_gram_protocol_reply().</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">212</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">213</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param url</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">214</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to a character array which will be allocated to</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">215</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        hold the URL of the listener. This URL may be published or</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">216</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        otherwise passed to applications which need to contact this</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">217</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        protocol server. The URL will be of the form</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">218</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        https://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/. It is the user&#39;s responsibility</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">219</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        to free this memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">220</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">221</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The callback function to be called when a new request has been</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">222</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        received by this listener. This function will be passed the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">223</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        request, which may be unpacked using one of the functions described </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">224</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        in the @link globus_gram_protocol_pack message packing @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">225</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        section of the documentation.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">226</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">227</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to arbitrary user data which will be passed to the callback</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">228</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        function as it&#39;s first parameter.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">229</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">230</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">231</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The listener was created. The @a url parameter points to</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">232</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         a string containing the contact URL for the listener.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">233</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">234</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The GRAM Protocol module was not properly activated.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">235</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">236</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         A memory allocation failed when trying to create the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">237</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         listener.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">238</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">239</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         Some I/O error occurred when trying to create the listener.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">240</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">241</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @see globus_gram_protocol_callback_disallow()</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">242</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">243</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">244</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_allow_attach(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">245</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char **				url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">246</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_callback_t	callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">247</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">248</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">249</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    int					rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">250</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char				hostnamebuf[256];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">251</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    unsigned short			port;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">252</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			res;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">253</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">254</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_listener_t *	listener;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">255</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			node;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">256</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">257</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    *url = GLOBUS_NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">258</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">259</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">260</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if(globus_i_gram_protocol_shutdown_called)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">261</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">262</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">263</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">264</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">265</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">266</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">267</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    handle = globus_libc_malloc(sizeof(globus_io_handle_t));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">268</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if(handle == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">269</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">270</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">271</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">272</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">273</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">274</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_gethostname(hostnamebuf, 256);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">275</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    port = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">276</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">277</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    res = globus_io_tcp_create_listener(&amp;port,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">278</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        -1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">279</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					&amp;globus_i_gram_protocol_default_attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">280</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">281</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if(res != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">282</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">283</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">284</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">285</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto free_handle_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">286</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">287</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">288</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener = globus_libc_malloc(sizeof(globus_i_gram_protocol_listener_t));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">289</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if(listener == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">290</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">291</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">292</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto close_handle_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">293</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">294</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;port = port;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">295</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;allow_attach = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">296</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;handle = handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">297</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;callback = callback;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">298</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;callback_arg = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">299</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;connection_count = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">300</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_cond_init(&amp;listener-&gt;cond, GLOBUS_NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">301</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">302</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_list_insert(&amp;globus_i_gram_protocol_listeners, listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">303</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">304</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    res = globus_io_tcp_register_listen(handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">305</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        globus_l_gram_protocol_listen_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">306</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">307</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if(res != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">308</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">309</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">310</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">311</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto remove_listener_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">312</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">313</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">314</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    (*url) = globus_libc_malloc(17 + strlen(hostnamebuf));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">315</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">316</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if((*url) == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">317</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">318</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto remove_listener_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">319</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">320</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    sprintf(*url, &quot;https://%s:%hu/&quot;, hostnamebuf, port);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">321</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">322</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">323</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">324</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  remove_listener_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">325</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    node = globus_list_search(globus_i_gram_protocol_listeners,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">326</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                              listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">327</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(node)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">328</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">329</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_list_remove(&amp;globus_i_gram_protocol_listeners,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">330</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	                   node);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">331</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">332</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">333</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_libc_free(listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">334</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">335</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  close_handle_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">336</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    res = globus_io_register_close(handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">337</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                   globus_l_gram_protocol_close_listener,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">338</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				   GLOBUS_NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">339</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(res != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">340</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">341</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  free_handle_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">342</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_libc_free(handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">343</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">344</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">345</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">346</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">347</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">348</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">349</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_protocol_allow_attach() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">350</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">351</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">352</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Disable a listener from handling any new requests.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">353</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @ingroup globus_gram_protocol_io</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">354</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">355</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Disables a listener making it unable to receive any new requests,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">356</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * and freeing memory associated with the listener. Will block if a request</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">357</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * is in progress, but once this function returns, no further request callbacks</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">358</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * create by the listener will occur.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">359</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">360</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param url</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">361</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The URL of the listener to disable.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">362</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">363</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">364</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The listener was closed. No further callbacks will be</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">365</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         called on behalf of this listener.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">366</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">367</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The @a url string could not be parsed.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">368</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_CALLBACK_NOT_FOUND</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">369</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The GRAM protocol library doesn&#39;t know of any listener associated</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">370</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         with this URL.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">371</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">372</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @see globus_gram_protocol_allow_attach()</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">373</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">374</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">375</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_callback_disallow(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">376</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *				url)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">377</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">378</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">379</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">380</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_listener_t *	listener;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">381</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">382</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_url_t			parsed_url;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">383</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    unsigned short			port;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">384</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">385</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* get port number from url---we&#39;ll use that as a key</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">386</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * to locate the listener</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">387</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">388</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_url_parse(url, &amp;parsed_url);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">389</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    if(rc == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">390</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">391</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">        port = parsed_url.port;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">392</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">	globus_url_destroy(&amp;parsed_url);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">393</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">394</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">395</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">396</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">397</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">398</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">399</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">400</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">401</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Locate listener with matching port number */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">402</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    handle = GLOBUS_NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">403</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    list = globus_i_gram_protocol_listeners;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">404</td>
          <td class="coverageCount">2063</td>
          <td class="srcCell"><span class="srcLine">    while(!handle &amp;&amp; !globus_list_empty(list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">405</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">406</td>
          <td class="coverageCount">687</td>
          <td class="srcCell"><span class="srcLine">        listener = globus_list_first(list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">407</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">408</td>
          <td class="coverageCount">687</td>
          <td class="srcCell"><span class="srcLine">	if(listener-&gt;port == port)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">409</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">410</td>
          <td class="coverageCount">682</td>
          <td class="srcCell"><span class="srcLine">	    handle = listener-&gt;handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">411</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">412</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">413</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">414</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">	    list = globus_list_rest(list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">415</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">416</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">417</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    if(handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">418</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">419</td>
          <td class="coverageCount">682</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_i_gram_protocol_callback_disallow(listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">420</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">421</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">422</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">423</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_CALLBACK_NOT_FOUND;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">424</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">425</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">426</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">427</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">428</td>
          <td class="coverageCount">688</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">429</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">430</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_protocol_callback_disallow() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">431</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">432</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">433</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">434</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Frame and send a GRAM protocol request.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">435</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @ingroup globus_gram_protocol_io</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">436</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">437</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Connects to the GRAM Protocol server specified by the @a url</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">438</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * parameter, frames the message with HTTP headers, and sends</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">439</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * it. If @a callback is non-NULL, then the function pointed to by</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">440</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * it will be called when a response is received from the server.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">441</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">442</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param url</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">443</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The URL of the server to send the message to. The</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">444</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @a url may be freed once this function returns.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">445</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">446</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to a globus_gram_protocol_handle_t which</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">447</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        will be initialized with a unique handle identifier. This</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">448</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        identifier will be passed to the @a callback function to </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">449</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        allow the caller to differentiate replies to multiple GRAM Protocol</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">450</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        servers.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">451</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param attr</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">452</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to a Globus I/O attribute set, which will be used as</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">453</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        parameters when connecting to the GRAM server. The attribute set</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">454</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        may be GLOBUS_NULL, in which case, the default GRAM Protocol</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">455</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        attributes will be used (authentication to self, SSL-compatible</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">456</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        transport, with message integrity).</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">457</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param message</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">458</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to a message array to be sent to the GRAM server. This is</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">459</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        normally created by calling one of the GRAM Protocol </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">460</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_gram_protocol_pack pack @endlink functions. This</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">461</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        message need not be NULL terminated. The memory associated with</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">462</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @a message may be freed as soon as this function returns.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">463</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param message_size</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">464</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The length of the @a message string. Typically generated as one of</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">465</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        the output parameters to one of the GRAM Protocol </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">466</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_gram_protocol_pack pack @endlink functions.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">467</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">468</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to a callback function to call when the response to this</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">469</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        message is received. This may be GLOBUS_NULL, in which case no</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">470</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        callback will be received, and the caller will be unable to verify</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">471</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        whether the message was successfully received.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">472</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">473</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to arbitrary user data which will be passed to the callback</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">474</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        function as it&#39;s first parameter.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">475</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">476</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">477</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The message was successfully framed, and is in the process of</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">478</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         being sent.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">479</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">480</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The @a url parameter could not be parsed.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">481</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">482</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         A memory allocation failed when trying to frame or send</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">483</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         the message.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">484</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">485</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The GRAM Protocol module was not properly activated.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">486</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">487</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         Some I/O error occurred when trying to send the message.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">488</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">489</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @see globus_gram_protocol_reply()</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">490</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">491</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">492</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_post(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">493</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">494</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t *     handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">495</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *                  attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">496</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *                     message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">497</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t                       message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">498</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_callback_t     callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">499</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              callback_arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">500</td>
          <td class="coverageCount">22838</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">501</td>
          <td class="coverageCount">22838</td>
          <td class="srcCell"><span class="srcLine">    return globus_l_gram_protocol_post(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">502</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">503</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">504</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">505</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">506</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">507</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	GLOBUS_FALSE,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">508</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	GSS_C_NO_CREDENTIAL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">509</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	GSS_C_NO_OID_SET,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">510</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	GSS_C_NO_BUFFER_SET,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">511</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">512</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">513</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">514</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">515</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">516</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_protocol_post() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">517</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">518</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">519</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_post_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">520</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *			url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">521</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t *	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">522</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *			attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">523</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">524</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">525</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_cred_id_t			cred_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">526</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_OID_set				restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">527</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_set_t			restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">528</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">529</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">530</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_callback_t	callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">531</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">532</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">533</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">    return globus_l_gram_protocol_post(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">534</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">535</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">536</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">537</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">538</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">539</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	GLOBUS_TRUE,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">540</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	cred_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">541</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">542</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">543</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">544</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">545</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">546</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">547</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">548</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_protocol_post_delegation() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">549</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">550</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">551</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Frame and send a GRAM protocol reply.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">552</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @ingroup globus_gram_protocol_io</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">553</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">554</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * On an existing handle, frame and send the reply. The reply consists of a</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">555</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * response code and a message.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">556</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">557</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function should only be called in response to a callback containing</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">558</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * a GRAM Protocol request. It should not be called using the same handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">559</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * as created by calling globus_gram_protocol_post().</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">560</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">561</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">562</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The GRAM Protocol handle created when a connection arrives on</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">563</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        a listener created by globus_gram_protocol_allow_attach(). The</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">564</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        handle will be passed to the callback. The user must reply to</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">565</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        all request callbacks which they receive.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">566</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param code</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">567</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A response code. The code should be one from the standard HTTP</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">568</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        response codes described in RFC XXX.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">569</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param message</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">570</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to a message array to be sent to the GRAM client. This is</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">571</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        normally created by calling one of the GRAM Protocol </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">572</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_gram_protocol_pack pack @endlink functions. This</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">573</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        message need not be NULL terminated. The memory associated with</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">574</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @a message may be freed as soon as this function returns.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">575</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param message_size</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">576</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The length of the @a message string. Typically generated as one of</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">577</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        the output parameters to one of the GRAM Protocol </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">578</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_gram_protocol_pack pack @endlink functions.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">579</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">580</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">581</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The reply was successfully framed and is being sent.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">582</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">583</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The GRAM Protocol module was not properly activated.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">584</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">585</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         Some I/O error occurred when trying to send the reply.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">586</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">587</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @see globus_gram_protocol_post()</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">588</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">589</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">590</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_reply(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">591</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t       handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">592</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">593</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">594</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			message_size)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">595</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">596</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    return globus_l_gram_protocol_reply(handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">597</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	  				code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">598</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">599</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">600</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					GSS_C_NO_OID_SET,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">601</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					GSS_C_NO_BUFFER_SET,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">602</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">603</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">604</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">605</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">606</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">607</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_protocol_reply() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">608</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">609</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">610</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_accept_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">611</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t       handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">612</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_OID_set				restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">613</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_set_t			restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">614</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">615</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">616</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_delegation_callback_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">617</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">618</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">619</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">620</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">621</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t * 			reply;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">622</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			replysize;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">623</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">624</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_gram_protocol_pack_status_reply(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">625</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">626</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">627</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">628</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    &amp;reply,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">629</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    &amp;replysize);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">630</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">631</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_protocol_reply(handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">632</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	  				200,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">633</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					reply,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">634</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					replysize,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">635</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">636</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">637</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">638</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">639</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">640</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">641</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_free(reply);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">642</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">643</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">644</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_protocol_accept_delegation() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">645</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">646</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">647</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Extract the GSS Context from a GRAM Connection</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">648</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @ingroup globus_gram_protocol_io</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">649</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">650</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Extract the GSS Context from a existing, connected handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">651</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">652</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function should only be called after the GRAM protocol connection has</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">653</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * been established.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">654</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">655</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">656</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The GRAM Protocol handle created when a connection arrives on</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">657</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        a listener created by globus_gram_protocol_allow_attach(). </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">658</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param context</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">659</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The GSS Context associated with the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">660</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">661</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">662</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The reply was successfully framed and is being sent.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">663</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">664</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *         The GRAM Protocol module was not properly activated.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">665</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">666</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">667</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">668</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_get_sec_context(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">669</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t       handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">670</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_ctx_id_t *                      context)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">671</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">672</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">673</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">674</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">675</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">676</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">677</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">    list = globus_i_gram_protocol_connections;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">678</td>
          <td class="coverageCount">23501</td>
          <td class="srcCell"><span class="srcLine">    while(list != GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">679</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">680</td>
          <td class="coverageCount">11762</td>
          <td class="srcCell"><span class="srcLine">        connection = globus_list_first(list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">681</td>
          <td class="coverageCount">11762</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;handle == handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">682</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">683</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">	    break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">684</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">685</td>
          <td class="coverageCount">23</td>
          <td class="srcCell"><span class="srcLine">	list = globus_list_rest(list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">686</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">687</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">688</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">    if(list == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">689</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">690</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/* No match */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">691</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">692</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">693</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">694</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">695</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">    *context = connection-&gt;context;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">696</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">697</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">    if(*context == GSS_C_NO_CONTEXT)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">698</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">699</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/* No context */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">700</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">701</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto error_exit;        </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">702</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">703</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">704</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">705</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">706</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight"> error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">707</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">708</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">709</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_protocol_get_sec_context() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">710</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">  </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">711</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#ifndef GLOBUS_DONT_DOCUMENT_INTERNAL</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">712</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">713</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Listen callback.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">714</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">715</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function is called when Globus I/O decides that a connection is</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">716</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * ready to be accepted on a listening TCP socket. If the gram protocol module</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">717</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * has not been deactivated, then we create a new connection handle to</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">718</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * register the accept on. Otherwise, we register the close of this listener.  </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">719</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">720</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">721</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The globus_i_gram_protocol_listener_t associated with this</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">722</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        Globus I/O handle.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">723</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">724</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle which is ready for accepting a new connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">725</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">726</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of the listen attempt. This is usally GLOBUS_SUCCESS,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">727</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        unless the listener handle is being closed, or something is</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">728</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        very wrong.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">729</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">730</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">731</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">732</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_listen_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">733</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">734</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">735</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">736</td>
          <td class="coverageCount">12444</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">737</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_listener_t *	listener;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">738</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">739</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">740</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			node;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">741</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t                    accept_attrs;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">742</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">743</td>
          <td class="coverageCount">12444</td>
          <td class="srcCell"><span class="srcLine">    listener = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">744</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">745</td>
          <td class="coverageCount">12444</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">746</td>
          <td class="coverageCount">12444</td>
          <td class="srcCell"><span class="srcLine">    if(globus_i_gram_protocol_shutdown_called || !listener-&gt;allow_attach)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">747</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">748</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">749</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">750</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">751</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">752</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">753</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">754</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection = globus_libc_calloc(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">755</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">756</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    sizeof(globus_i_gram_protocol_connection_t));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">757</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">758</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(connection == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">759</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">760</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">761</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">762</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;read_type = GLOBUS_GRAM_PROTOCOL_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">763</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;callback = listener-&gt;callback;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">764</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;callback_arg = listener-&gt;callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">765</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;io_handle = globus_libc_malloc(sizeof(globus_io_handle_t));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">766</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;io_handle == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">767</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">768</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto free_connection_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">769</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">770</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;listener = listener;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">771</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;handle = ++globus_i_gram_protocol_handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">772</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;accepting = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">773</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_list_insert(&amp;globus_i_gram_protocol_connections, connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">774</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;connection_count++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">775</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">776</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_tcp_get_attr(listener-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">777</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                    &amp;accept_attrs);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">778</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">779</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">780</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">781</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto free_io_handle_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">782</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }    </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">783</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">784</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(globus_l_gram_protocol_setup_accept_attr(&amp;accept_attrs, connection))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">785</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">786</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto free_attrs_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">787</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">788</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">789</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_tcp_register_accept(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">790</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    listener-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">791</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    &amp;accept_attrs,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">792</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">793</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    globus_l_gram_protocol_accept_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">794</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">795</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">796</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">797</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto free_attrs_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">798</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">799</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_io_tcpattr_destroy(&amp;accept_attrs);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">800</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">801</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* If this fails, not much we can do. Disallow attach will</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">802</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * be called eventually to clean this listener up.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">803</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">804</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_io_tcp_register_listen(handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">805</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                  globus_l_gram_protocol_listen_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">806</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				  listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">807</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">808</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">809</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">810</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">811</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  free_attrs_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">812</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_io_tcpattr_destroy(&amp;accept_attrs);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">813</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">814</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  free_io_handle_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">815</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    listener-&gt;connection_count--;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">816</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    node = globus_list_search(globus_i_gram_protocol_connections, connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">817</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(node)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">818</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">819</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_list_remove(&amp;globus_i_gram_protocol_connections, node);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">820</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">821</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_libc_free(connection-&gt;io_handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">822</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">823</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  free_connection_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">824</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_libc_free(connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">825</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">826</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">  error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">827</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">828</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">829</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_listen_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">830</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">831</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">832</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Close callback used when globus_io_tcp_register_listen() fails.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">833</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">834</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Frees the handle.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">835</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">836</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">837</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        This parameter should always be GLOBUS_NULL. It is ignored.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">838</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">839</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the TCP listener Globus I/O handle which is being</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">840</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        closed. This handle will be freed during this function.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">841</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">842</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of the attempt to close the listener. This is ignored.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">843</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">844</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">845</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">846</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_close_listener(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">847</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">848</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">849</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">850</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">851</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_libc_free(handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">852</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">853</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">854</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">855</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_close_listener() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">856</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">857</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">858</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Handle a new GRAM protocol connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">859</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">860</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Allocates a buffer to read in a new GRAM protocol request on the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">861</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * new connection and register a read on that new connection. If an error</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">862</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * occurs or the module is being deactivated, then the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">863</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * connection will be closed and no user callbacks will occur.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">864</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">865</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">866</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">867</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_i_gram_protocol_connection_t connection @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">868</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        structure for this request. This should never be GLOBUS_NULL.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">869</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">870</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle associated with the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">871</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">872</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of the creation of the new connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">873</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">874</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">875</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">876</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_accept_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">877</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">878</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">879</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">880</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">881</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">882</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">883</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">884</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">885</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">886</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">887</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">888</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;accepting = GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">889</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">890</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(globus_i_gram_protocol_shutdown_called)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">891</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">892</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">893</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">894</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">895</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">896</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">897</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">898</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">899</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">900</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;buf =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">901</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        globus_libc_malloc(GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">902</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;bufsize = GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">903</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">904</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;buf == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">905</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">906</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">907</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">908</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">909</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;replybufsize = GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">910</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">911</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">912</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">913</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 connection-&gt;buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">914</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;bufsize,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">915</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">916</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_read_request_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">917</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">918</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">919</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">920</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">921</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">922</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">923</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">924</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">925</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">926</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">927</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">928</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">929</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">930</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* We don&#39;t have to call the user&#39;s callback on this one, since</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">931</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * an accept without a request isn&#39;t useful to the caller.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">932</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">933</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">934</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    result = globus_io_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">935</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">936</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    globus_l_gram_protocol_connection_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">937</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">938</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">939</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">940</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">941</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* If we can&#39;t close the handle, we&#39;d still like to clean up</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">942</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * our memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">943</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">944</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">945</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">946</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">947</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">948</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">949</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">950</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_accept_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">951</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">952</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">953</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Server read callback.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">954</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">955</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Reads a GRAM Protocol request and unframes the message from the HTTP</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">956</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * headers. This callback may be called multiple times during a connection if</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">957</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * the whole message is not available at one time.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">958</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">959</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">960</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">961</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_i_gram_protocol_connection_t connection @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">962</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        structure for this request. This should never be GLOBUS_NULL.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">963</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">964</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle associated with the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">965</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">966</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of the creation of the new connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">967</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param buf</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">968</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the location in the connection&#39;s buffer that this</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">969</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        part read has been begun with.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">970</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param nbytes</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">971</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The amount of data read during this read.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">972</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">973</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">974</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">975</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_read_request_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">976</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">977</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">978</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">979</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">980</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">981</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">982</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_object_t *			err;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">983</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">984</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">985</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *				p;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">986</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">987</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			header_length;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">988</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">989</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">990</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">991</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">992</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">993</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        err = globus_error_get(result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">994</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">995</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	if(!globus_io_eof(err) || !connection-&gt;got_header)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">996</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">997</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    globus_object_free(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">998</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">999</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1000</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1001</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1002</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(!connection-&gt;got_header)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1003</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1004</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">        if(connection-&gt;n_read == 0 &amp;&amp; ((*buf == &#39;0&#39;) || (*buf == &#39;D&#39;)))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1005</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1006</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* Delegation packet? */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1007</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1008</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    goto reregister_read;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1009</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1010</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1011</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;n_read += nbytes;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1012</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;buf[connection-&gt;n_read] = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1013</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1014</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	p = strstr((const char *)connection-&gt;buf, CRLF CRLF);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1015</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	header_length = (const char *)p - (const char *)connection-&gt;buf;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1016</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1017</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	if(p)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1018</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1019</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;got_header = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1020</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1021</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    rc = globus_l_gram_protocol_parse_request_header(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1022</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	             connection-&gt;buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1023</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		     &amp;connection-&gt;payload_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1024</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		     &amp;connection-&gt;uri);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1025</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    if(rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1026</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1027</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1028</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1029</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* p + 4 is the beginning of the payload (after CRLF CRLF) */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1030</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    memmove(connection-&gt;buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1031</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    p + 4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1032</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;n_read - header_length - 4);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1033</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;n_read = connection-&gt;n_read - header_length - 4;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1034</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;buf[connection-&gt;n_read] = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1035</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    nbytes = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1036</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1037</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1038</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1039</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    goto reregister_read;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1040</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1041</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1042</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;got_header)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1043</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1044</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">        if(connection-&gt;n_read &lt; connection-&gt;payload_length)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1045</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1046</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    goto reregister_read;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1047</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1048</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/* Call user callback... users should not free the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1049</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * buffers, unlike the original code.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1050</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1051</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;callback)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1052</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1053</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;callback(connection-&gt;callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1054</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				 connection-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1055</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				 connection-&gt;buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1056</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				 connection-&gt;payload_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1057</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				 GLOBUS_SUCCESS,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1058</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				 connection-&gt;uri);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1059</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1060</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1061</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1062</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1063</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  reregister_read:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1064</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1065</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1066</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;buf + connection-&gt;n_read,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1067</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;bufsize - connection-&gt;n_read,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1068</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1069</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_read_request_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1070</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1071</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1072</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1073</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1074</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1075</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1076</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1077</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    result = globus_io_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1078</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1079</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_connection_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1080</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1081</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1082</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1083</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1084</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* If we can&#39;t close the handle, we&#39;d still like to clean up</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1085</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * our memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1086</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1087</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1088</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1089</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1090</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1091</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1092</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1093</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_read_request_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1094</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1095</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1096</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Begin sending a GRAM Protocol message.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1097</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1098</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * After the connection has been established, register the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1099</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * write of the framed GRAM Protocol request on the newly established</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1100</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * TCP/IP connection.  If an error occurs,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1101</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * then the connection will be closed and a user callbacks will be called</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1102</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * with an error code.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1103</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1104</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1105</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1106</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_i_gram_protocol_connection_t connection @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1107</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        structure for this request. This should never be GLOBUS_NULL.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1108</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1109</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle associated with the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1110</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1111</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of the establishment of this new connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1112</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1113</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1114</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1115</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_connect_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1116</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1117</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1118</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1119</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1120</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_object_t *			err;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1121</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    int					rc = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1122</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *				errstring;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1123</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1124</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1125</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1126</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1127</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;accepting = GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1128</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1129</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1130</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">	err = globus_error_get(result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1131</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1132</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">	if(globus_object_type_match(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1133</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	       globus_object_get_type(err),</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1134</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	       GLOBUS_IO_ERROR_TYPE_SECURITY_FAILED))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1135</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1136</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">	    errstring = globus_error_print_friendly(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1137</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">	    rc = GLOBUS_GRAM_PROTOCOL_ERROR_AUTHORIZATION;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1138</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">	    globus_gram_protocol_error_7_hack_replace_message(errstring);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1139</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">	    globus_free(errstring);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1140</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1141</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1142</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1143</td>
          <td class="coverageCount">25</td>
          <td class="srcCell"><span class="srcLine">	    rc = GLOBUS_GRAM_PROTOCOL_ERROR_CONNECTION_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1144</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1145</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">	result = globus_error_put(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1146</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1147</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1148</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1149</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Write the framed GRAM request */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1150</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_write(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1151</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1152</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1153</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;bufsize,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1154</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_write_request_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1155</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1156</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1157</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1158</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1159</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1160</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1161</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1162</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1163</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1164</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1165</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">  error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1166</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1167</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1168</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1169</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * Since the user requested the POST with a callback, they</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1170</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * should get their callback</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1171</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1172</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;callback)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1173</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1174</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;callback(connection-&gt;callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1175</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1176</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     GLOBUS_NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1177</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1178</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     rc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1179</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     GLOBUS_NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1180</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1181</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1182</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1183</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1184</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_connection_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1185</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1186</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1187</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1188</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1189</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* If we can&#39;t close the handle, we&#39;d still like to clean up</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1190</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * our memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1191</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1192</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1193</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1194</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1195</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1196</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1197</td>
          <td class="coverageCount">33</td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1198</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1199</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_connect_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1200</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1201</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1202</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Complete sending a GRAM Protocol request.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1203</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1204</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * After Globus I/O has completed writing the GRAM request, register</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1205</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * a read of the reply to this request. If an error occurs,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1206</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * then the connection will be closed and a user callbacks will be called</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1207</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * with an error code.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1208</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1209</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1210</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1211</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_i_gram_protocol_connection_t connection @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1212</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        structure for this request. This should never be GLOBUS_NULL.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1213</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1214</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle associated with the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1215</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1216</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of writing the message.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1217</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param buf</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1218</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The message buffer which was sent to the GRAM Protocol server.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1219</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param nbytes</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1220</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The number of bytes of @a buf written.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1221</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1222</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1223</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1224</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_write_request_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1225</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1226</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1227</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1228</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1229</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1230</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1231</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1232</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1233</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1234</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1235</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1236</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1237</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1238</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1239</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        globus_object_t *               err;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1240</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        char *                          errstring;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1241</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1242</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	err = globus_error_get(result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1243</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1244</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        errstring = globus_error_print_friendly(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1245</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_protocol_error_10_hack_replace_message(errstring);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1246</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_free(errstring);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1247</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_PROTOCOL_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1248</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_object_free(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1249</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1250</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1251</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1252</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Allocate reply buffer */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1253</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;replybuf = globus_libc_malloc(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1254</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                               GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1255</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;replybufsize = GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1256</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1257</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;replybufsize == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1258</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1259</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1260</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1261</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1262</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Read reply from server */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1263</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_read(connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1264</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				     connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1265</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				     connection-&gt;replybufsize,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1266</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				     1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1267</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				     globus_l_gram_protocol_read_reply_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1268</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">				     connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1269</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1270</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    if(result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1271</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1272</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1273</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1274</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1275</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1276</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1277</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1278</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1279</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1280</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1281</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1282</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(connection-&gt;callback)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1283</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1284</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1285</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * Since the user requested the POST with a callback, they</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1286</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * should get their callback</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1287</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1288</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	connection-&gt;callback(connection-&gt;callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1289</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1290</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     GLOBUS_NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1291</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     0,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1292</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     rc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1293</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     GLOBUS_NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1294</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1295</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    result = globus_io_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1296</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1297</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    globus_l_gram_protocol_connection_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1298</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1299</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1300</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1301</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1302</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* If we can&#39;t close the handle, we&#39;d still like to clean up</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1303</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * our memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1304</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1305</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1306</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1307</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1308</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1309</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1310</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1311</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1312</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_write_request_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1313</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1314</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1315</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Complete replying to a GRAM Protocol request.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1316</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1317</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * After Globus I/O has completed writing a normal GRAM reply, register</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1318</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * a close of the connection handle. In the case of a proxy refresh reply,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1319</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * we will start accepting the delegated credential.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1320</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1321</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * If an error occurs, then the connection will be closed. There is no user</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1322</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * callback associated with a normal reply.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1323</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1324</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1325</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1326</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_i_gram_protocol_connection_t connection @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1327</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        structure for this reply. This should never be GLOBUS_NULL.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1328</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1329</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle associated with the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1330</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1331</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of writing the reply.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1332</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param buf</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1333</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The reply buffer which was sent to the GRAM Protocol server.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1334</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param nbytes</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1335</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The number of bytes of @a buf written.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1336</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1337</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1338</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1339</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1340</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_write_reply_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1341</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1342</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1343</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1344</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1345</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1346</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1347</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1348</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">       					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1349</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1350</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1351</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;keep_open)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1352</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1353</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1354</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1355</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    if(connection-&gt;replybuf == NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1356</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1357</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">		connection-&gt;replybuf = globus_libc_malloc(4096);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1358</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">		connection-&gt;replybufsize = 4096;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1359</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1360</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1361</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1362</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1363</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1364</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1365</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    globus_l_gram_protocol_delegation_read_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1366</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1367</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1368</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1369</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1370</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">		return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1371</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1372</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1373</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1374</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1375</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* Error occurred. Call callback with error. */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1376</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    connection-&gt;delegation_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1377</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;delegation_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1378</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1379</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    GSS_C_NO_CREDENTIAL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1380</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    GLOBUS_GRAM_PROTOCOL_ERROR_DELEGATION_FAILED);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1381</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1382</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1383</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1384</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1385</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1386</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    globus_l_gram_protocol_connection_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1387</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1388</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1389</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1390</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1391</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* If we can&#39;t close the handle, we&#39;d still like to clean up</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1392</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * our memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1393</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1394</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1395</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1396</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1397</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1398</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1399</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1400</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_write_reply_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1401</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1402</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1403</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Unpack a reply and call user&#39;s callback.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1404</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1405</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Called when a reply is received on a GRAM Protocol TCP/IP connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1406</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * If the entire reply is present, it is unframed and the user&#39;s POST</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1407</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * callback is called. If it is not present, then another read is registered</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1408</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * on the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1409</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1410</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1411</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1412</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_i_gram_protocol_connection_t connection @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1413</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        structure for this reply. This should never be GLOBUS_NULL.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1414</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1415</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle associated with the connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1416</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1417</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of reading the reply.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1418</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param buf</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1419</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The portion of the reply buffer which was read into.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1420</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param nbytes</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1421</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The number of bytes of @a buf read.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1422</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1423</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1424</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1425</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_read_reply_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1426</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1427</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1428</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1429</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1430</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1431</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1432</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_object_t *			err;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1433</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1434</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1435</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *				p;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1436</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			header_length;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1437</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1438</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1439</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1440</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1441</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1442</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        err = globus_error_get(result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1443</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1444</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	if(!globus_io_eof(err) || !connection-&gt;got_header)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1445</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1446</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            char *                      errstring;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1447</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1448</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            errstring = globus_error_print_friendly(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1449</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_protocol_error_10_hack_replace_message(errstring);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1450</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_free(errstring);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1451</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    globus_object_free(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1452</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1453</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    connection-&gt;rc = GLOBUS_GRAM_PROTOCOL_ERROR_PROTOCOL_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1454</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1455</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    goto callback_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1456</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1457</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1458</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    if(!connection-&gt;got_header)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1459</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1460</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">        if(connection-&gt;n_read == 0 &amp;&amp; ((*buf == &#39;0&#39;) || (*buf == &#39;D&#39;)))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1461</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1462</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* Delegation packet?!? */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1463</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_protocol_error_10_hack_replace_message(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1464</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;server sent unexpected delegation protocol message&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1465</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    connection-&gt;rc = GLOBUS_GRAM_PROTOCOL_ERROR_PROTOCOL_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1466</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1467</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    goto callback_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1468</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1469</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1470</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;n_read += nbytes;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1471</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;replybuf[connection-&gt;n_read] = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1472</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1473</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	p = strstr((const char *)connection-&gt;replybuf, CRLF CRLF);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1474</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	header_length = (const char *)p - (const char *)connection-&gt;replybuf;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1475</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1476</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	if(p)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1477</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1478</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;got_header = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1479</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1480</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;rc = globus_l_gram_protocol_parse_reply_header(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1481</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	             connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1482</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		     &amp;connection-&gt;payload_length);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1483</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1484</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">	    if(connection-&gt;rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1485</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1486</td>
          <td class="coverageCount">297</td>
          <td class="srcCell"><span class="srcLine">	        goto callback_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1487</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1488</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* p + 4 is the beginning of the payload (after CRLF CRLF) */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1489</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">	    memmove(connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1490</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    p + 4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1491</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;n_read - header_length - 4);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1492</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;n_read = connection-&gt;n_read - header_length - 4;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1493</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;replybuf[connection-&gt;n_read] = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1494</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">	    nbytes = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1495</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1496</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1497</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;got_header)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1498</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1499</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">        if(connection-&gt;n_read &gt;= connection-&gt;payload_length)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1500</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1501</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* Got the payload, call back to user now */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1502</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">	    goto callback_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1503</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1504</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1505</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Missing part of the header or payload, register another read */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1506</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_assert((!connection-&gt;got_header) ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1507</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	          (connection-&gt;n_read &lt; connection-&gt;payload_length));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1508</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1509</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1510</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1511</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;replybuf + connection-&gt;n_read,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1512</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;replybufsize - connection-&gt;n_read,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1513</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1514</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_read_reply_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1515</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1516</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1517</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1518</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1519</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1520</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1521</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1522</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* If we couldn&#39;t register the read, the we&#39;ll fall through,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1523</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * callback to user, and close</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1524</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1525</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1526</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">  callback_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1527</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Call user callback... users should not free the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1528</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * buffers, unlike the original code. It&#39;s ok if there is no callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1529</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * just means the caller of globus_gram_protocol_post() doesn&#39;t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1530</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * care about the response----the job manager is like that.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1531</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1532</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;callback &amp;&amp; (connection-&gt;rc || !connection-&gt;keep_open))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1533</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1534</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;callback(connection-&gt;callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1535</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1536</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1537</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;payload_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1538</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;rc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1539</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     GLOBUS_NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1540</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1541</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    if ((!connection-&gt;rc) &amp;&amp; connection-&gt;keep_open)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1542</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1543</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/* In the post  delegation case, we get a reply containing no body.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1544</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * We then start doing delegation.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1545</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1546</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;got_header = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1547</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;n_read = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1548</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1549</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_init_delegation(connection, GSS_C_NO_BUFFER);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1550</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1551</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1552</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1553</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* For reply handling, we just need to close up the connection</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1554</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * after we&#39;ve dispatched the callback.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1555</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1556</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1557</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1558</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_connection_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1559</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1560</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1561</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1562</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1563</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* If we can&#39;t close the handle, we&#39;d still like to clean up</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1564</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * our memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1565</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1566</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1567</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1568</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1569</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1570</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1571</td>
          <td class="coverageCount">22804</td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1572</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1573</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_read_reply_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1574</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1575</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1576</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Free memory associated with a now-closed connection.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1577</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1578</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param callback_arg</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1579</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        A pointer to the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1580</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        @link globus_i_gram_protocol_connection_t connection @endlink</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1581</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        structure associated with this handle.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1582</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param handle</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1583</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The Globus I/O handle which is now closed.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1584</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param result</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1585</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The result of closing the handle.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1586</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1587</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1588</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1589</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1590</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1591</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1592</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1593</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1594</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1595</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1596</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			node;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1597</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1598</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1599</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1600</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1601</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">    node = globus_list_search(globus_i_gram_protocol_connections, connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1602</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1603</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">    if(node)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1604</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1605</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	globus_list_remove(&amp;globus_i_gram_protocol_connections, node);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1606</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1607</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;listener)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1608</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1609</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* Connection was created by an accept() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1610</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;listener-&gt;connection_count--;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1611</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1612</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    if(connection-&gt;listener-&gt;connection_count == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1613</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1614</td>
          <td class="coverageCount">11739</td>
          <td class="srcCell"><span class="srcLine">		globus_cond_signal(&amp;connection-&gt;listener-&gt;cond);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1615</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1616</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1617</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1618</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1619</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1620</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    /* Connection was created by POSTing */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1621</td>
          <td class="coverageCount">22811</td>
          <td class="srcCell"><span class="srcLine">	    globus_i_gram_protocol_num_connects--;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1622</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1623</td>
          <td class="coverageCount">22811</td>
          <td class="srcCell"><span class="srcLine">	    if(globus_i_gram_protocol_num_connects == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1624</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1625</td>
          <td class="coverageCount">22751</td>
          <td class="srcCell"><span class="srcLine">		globus_cond_signal(&amp;globus_i_gram_protocol_cond);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1626</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1627</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1628</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;buf)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1629</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1630</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_free(connection-&gt;buf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1631</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1632</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;replybuf)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1633</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1634</td>
          <td class="coverageCount">34522</td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_free(connection-&gt;replybuf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1635</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1636</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;io_handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1637</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1638</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_free(connection-&gt;io_handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1639</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1640</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;uri)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1641</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1642</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_free(connection-&gt;uri);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1643</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1644</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	globus_libc_free(connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1645</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_free_old_credentials();</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1646</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1647</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1648</td>
          <td class="coverageCount">34555</td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1649</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_connection_close_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1650</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1651</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1652</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Internal function to close a listener.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1653</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1654</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Used by both the deactivation function and the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1655</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * globus_gram_protocol_callback_disallow() to close and free a </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1656</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * listener handle. Waits for all connections created by this listener</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1657</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * to be completed...</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1658</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1659</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1660</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_i_gram_protocol_callback_disallow(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1661</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_listener_t *	listener)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1662</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1663</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			node;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1664</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1665</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1666</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    handle = listener-&gt;handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1667</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1668</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if(listener-&gt;allow_attach == GLOBUS_FALSE)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1669</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1670</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return GLOBUS_SUCCESS; /* sort of */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1671</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1672</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    listener-&gt;allow_attach = GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1673</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1674</td>
          <td class="coverageCount">1611</td>
          <td class="srcCell"><span class="srcLine">    while(listener-&gt;connection_count != 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1675</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1676</td>
          <td class="coverageCount">211</td>
          <td class="srcCell"><span class="srcLine">        globus_cond_wait(&amp;listener-&gt;cond, &amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1677</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1678</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1679</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Need to unlock here to allow callbacks triggered by the blocking close</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1680</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * to be handled.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1681</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1682</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1683</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_io_close(handle); /* What if this fails? */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1684</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1685</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1686</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    node = globus_list_search(globus_i_gram_protocol_listeners, listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1687</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    if(node)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1688</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1689</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">        globus_list_remove(&amp;globus_i_gram_protocol_listeners, node);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1690</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">	globus_cond_destroy(&amp;listener-&gt;cond);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1691</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">	globus_libc_free(handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1692</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">	globus_libc_free(listener);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1693</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1694</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    globus_cond_signal(&amp;globus_i_gram_protocol_cond);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1695</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1696</td>
          <td class="coverageCount">700</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1697</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1698</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_i_gram_protocol_callback_disallow() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1699</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1700</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/********************** replace credentials ******************************/</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1701</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1702</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1703</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_free_old_credentials()</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1704</td>
          <td class="coverageCount">34873</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1705</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *cred_list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1706</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *conn_list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1707</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_cred_id_t cred;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1708</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *conn;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1709</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1710</td>
          <td class="coverageCount">34873</td>
          <td class="srcCell"><span class="srcLine">    cred_list = globus_i_gram_protocol_old_creds;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1711</td>
          <td class="coverageCount">70064</td>
          <td class="srcCell"><span class="srcLine">    while(!globus_list_empty(cred_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1712</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1713</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">	globus_list_t *dead_cred = cred_list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1714</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">	cred = (gss_cred_id_t) globus_list_first(cred_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1715</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1716</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">	conn_list = globus_i_gram_protocol_connections;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1717</td>
          <td class="coverageCount">636</td>
          <td class="srcCell"><span class="srcLine">	while(!globus_list_empty(conn_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1718</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1719</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    conn = (globus_i_gram_protocol_connection_t *) globus_list_first(conn_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1720</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (conn-&gt;accepting)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1721</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1722</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1723</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1724</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1725</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    if (conn-&gt;io_handle != GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1726</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1727</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	        gss_cred_id_t           cur_cred;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1728</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	        </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1729</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	        globus_io_tcp_get_credential(conn-&gt;io_handle, &amp;cur_cred);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1730</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	        if (cur_cred == cred)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1731</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1732</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                    dead_cred = GLOBUS_NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1733</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                    break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1734</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1735</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1736</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1737</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    conn_list = globus_list_rest(conn_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1738</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1739</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1740</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">	cred_list = globus_list_rest(cred_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1741</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1742</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">	if (dead_cred != GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1743</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1744</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">	    globus_list_remove(&amp;globus_i_gram_protocol_old_creds,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1745</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			       dead_cred);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1746</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1747</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">	    if (cred != GSS_C_NO_CREDENTIAL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1748</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1749</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		OM_uint32 minor_status;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1750</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">		gss_release_cred(&amp;minor_status, &amp;cred);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1751</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1752</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1753</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1754</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1755</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1756</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1757</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1758</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1759</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_protocol_set_credentials(gss_cred_id_t new_credentials)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1760</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1761</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *tmp_list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1762</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_listener_t *listener;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1763</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_cred_id_t old_cred;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1764</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1765</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock( &amp;globus_i_gram_protocol_mutex );</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1766</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1767</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    old_cred = globus_i_gram_protocol_credential;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1768</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1769</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_credential = new_credentials;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1770</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1771</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_set_secure_authentication_mode(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1772</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			&amp;globus_i_gram_protocol_default_attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1773</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			GLOBUS_IO_SECURE_AUTHENTICATION_MODE_GSSAPI,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1774</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			globus_i_gram_protocol_credential);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1775</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1776</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    tmp_list = globus_i_gram_protocol_listeners;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1777</td>
          <td class="coverageCount">636</td>
          <td class="srcCell"><span class="srcLine">    while(!globus_list_empty(tmp_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1778</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1779</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	listener = (globus_i_gram_protocol_listener_t *) globus_list_first(tmp_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1780</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_io_tcp_set_credential(listener-&gt;handle, new_credentials);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1781</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1782</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	tmp_list = globus_list_rest(tmp_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1783</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1784</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1785</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    globus_list_insert(&amp;globus_i_gram_protocol_old_creds, old_cred);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1786</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    globus_l_gram_protocol_free_old_credentials();</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1787</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1788</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock( &amp;globus_i_gram_protocol_mutex );</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1789</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1790</td>
          <td class="coverageCount">318</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1791</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1792</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1793</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1794</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* Parsing Functions */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1795</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1796</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1797</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Parse a GRAM Protocol request header.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1798</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1799</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Parses the headers</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1800</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param buf</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1801</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param payload_length</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1802</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1803</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1804</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1805</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_parse_request_header(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1806</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const globus_byte_t *		buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1807</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t *			payload_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1808</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char **				uri)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1809</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1810</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1811</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    long				tmp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1812</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *				tmp_uri;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1813</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *				host;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1814</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1815</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    tmp_uri = (char *) globus_libc_malloc(strlen((char *) buf));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1816</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    host = (char *) globus_libc_malloc(strlen((char *) buf));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1817</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1818</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_lock();</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1819</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    rc = sscanf((const char *) buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1820</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_HTTP_REQUEST_LINE</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1821</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		GLOBUS_GRAM_HTTP_HOST_LINE</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1822</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		GLOBUS_GRAM_HTTP_CONTENT_TYPE_LINE</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1823</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		GLOBUS_GRAM_HTTP_CONTENT_LENGTH_LINE</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1824</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		CRLF,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1825</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		tmp_uri,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1826</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		host,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1827</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;tmp);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1828</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1829</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_unlock();</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1830</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if(rc != 3)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1831</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1832</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_protocol_error_10_hack_replace_message(&quot;GRAM is unable to parse HTTp message&quot; );</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1833</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_PROTOCOL_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1834</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1835</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	*payload_length = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1836</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1837</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1838</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1839</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	*payload_length = tmp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1840</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	*uri = strdup(tmp_uri);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1841</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">	rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1842</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1843</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_free(tmp_uri);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1844</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_free(host);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1845</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1846</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1847</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1848</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_parse_request_header() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1849</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1850</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1851</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Parse a GRAM protocol reply header.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1852</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1853</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1854</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1855</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_parse_reply_header(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1856</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const globus_byte_t *		buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1857</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t *			payload_length)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1858</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1859</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1860</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					code;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1861</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					offset;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1862</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *				reason;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1863</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    long				tmp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1864</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1865</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    reason = (char *) globus_malloc(strlen((char *)buf));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1866</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1867</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    *payload_length = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1868</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1869</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_lock();</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1870</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    rc = sscanf( (char *) buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1871</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 GLOBUS_GRAM_HTTP_PARSE_REPLY_LINE &quot;%n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1872</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 &amp;code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1873</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 reason,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1874</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 &amp;offset);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1875</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_unlock();</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1876</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1877</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    if(rc &lt; 2)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1878</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1879</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_HTTP_UNFRAME_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1880</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1881</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    else if(code == 200)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1882</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1883</td>
          <td class="coverageCount">22800</td>
          <td class="srcCell"><span class="srcLine">	globus_libc_lock();</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1884</td>
          <td class="coverageCount">22800</td>
          <td class="srcCell"><span class="srcLine">	rc = sscanf( (char *)buf + offset,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1885</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		     GLOBUS_GRAM_HTTP_CONTENT_TYPE_LINE</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1886</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		     GLOBUS_GRAM_HTTP_CONTENT_LENGTH_LINE,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1887</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		     &amp;tmp);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1888</td>
          <td class="coverageCount">22800</td>
          <td class="srcCell"><span class="srcLine">	globus_libc_unlock();</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1889</td>
          <td class="coverageCount">22800</td>
          <td class="srcCell"><span class="srcLine">	if(rc != 1)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1890</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1891</td>
          <td class="coverageCount">291</td>
          <td class="srcCell"><span class="srcLine">	    rc = GLOBUS_GRAM_PROTOCOL_ERROR_HTTP_UNFRAME_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1892</td>
          <td class="coverageCount">291</td>
          <td class="srcCell"><span class="srcLine">	    *payload_length = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1893</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1894</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1895</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1896</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">	    *payload_length = tmp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1897</td>
          <td class="coverageCount">22509</td>
          <td class="srcCell"><span class="srcLine">	    rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1898</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1899</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1900</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">    else if(code==400)  /* JM failed to frame reply */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1901</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1902</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_protocol_error_10_hack_replace_message(&quot;job manager failed to frame reply&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1903</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1904</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_PROTOCOL_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1905</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1906</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">    else if(code==403)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1907</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1908</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_AUTHORIZATION;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1909</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1910</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">    else if(code==404)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1911</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1912</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_SERVICE_NOT_FOUND;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1913</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1914</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    else if(code==500)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1915</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1916</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_GATEKEEPER_MISCONFIGURED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1917</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1918</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1919</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1920</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_HTTP_UNFRAME_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1921</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1922</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1923</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    globus_free(reason);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1924</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1925</td>
          <td class="coverageCount">22806</td>
          <td class="srcCell"><span class="srcLine">    return rc; </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1926</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1927</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_parse_reply_header() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1928</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1929</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1930</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1931</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_reply(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1932</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t 	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1933</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1934</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1935</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1936</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_OID_set				restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1937</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_set_t			restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1938</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1939</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1940</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_delegation_callback_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1941</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1942</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1943</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1944</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1945</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1946</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1947</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1948</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1949</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1950</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* lookup up connection using handle as key */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1951</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1952</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    list = globus_i_gram_protocol_connections;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1953</td>
          <td class="coverageCount">23513</td>
          <td class="srcCell"><span class="srcLine">    while(list != GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1954</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1955</td>
          <td class="coverageCount">11768</td>
          <td class="srcCell"><span class="srcLine">        connection = globus_list_first(list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1956</td>
          <td class="coverageCount">11768</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;handle == handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1957</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1958</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">	    break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1959</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1960</td>
          <td class="coverageCount">23</td>
          <td class="srcCell"><span class="srcLine">	list = globus_list_rest(list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1961</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1962</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1963</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    if(list == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1964</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1965</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/* No match */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1966</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1967</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1968</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1969</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1970</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;read_type != GLOBUS_GRAM_PROTOCOL_REQUEST ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1971</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">       connection-&gt;replybuf != GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1972</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1973</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1974</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1975</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1976</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1977</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1978</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* frame reply */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1979</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_gram_protocol_frame_reply(code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1980</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                          message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1981</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					  message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1982</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					  &amp;connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1983</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					  &amp;connection-&gt;replybufsize);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1984</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    if(rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1985</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1986</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1987</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1988</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1989</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    if(callback)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1990</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1991</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;keep_open = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1992</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1993</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_callback = callback;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1994</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_arg = arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1995</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_restriction_oids = restriction_oids;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1996</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_restriction_buffers = restriction_buffers;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1997</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_req_flags = req_flags;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1998</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_time_req = time_req;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1999</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_major_status = GSS_S_CONTINUE_NEEDED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2000</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_minor_status = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2001</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2002</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_write(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2003</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	         connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2004</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2005</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection-&gt;replybufsize,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2006</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_write_reply_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2007</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2008</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2009</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2010</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2011</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2012</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2013</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto free_reply_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2014</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2015</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2016</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2017</td>
          <td class="coverageCount">11745</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2018</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2019</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  free_reply_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2020</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_libc_free(connection-&gt;replybuf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2021</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    connection-&gt;replybuf = GLOBUS_NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2022</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    connection-&gt;replybufsize = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2023</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">  error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2024</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2025</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2026</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2027</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2028</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_reply() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2029</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2030</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2031</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2032</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_post(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2033</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *			url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2034</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_handle_t *	handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2035</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *			attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2036</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2037</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2038</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_bool_t			keep_open,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2039</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_cred_id_t			cred_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2040</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_OID_set				restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2041</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_set_t			restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2042</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2043</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    OM_uint32				time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2044</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_callback_t	callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2045</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2046</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2047</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int					rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2048</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2049</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2050</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			framed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2051</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			framedsize;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2052</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			res;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2053</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_url_t			parsed_url;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2054</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t 			local_attr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2055</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *			node;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2056</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    char *                              local_url = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2057</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    char *                              subject = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2058</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2059</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_url_parse(url, &amp;parsed_url);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2060</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2061</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2062</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2063</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_JOB_CONTACT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2064</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2065</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2066</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2067</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(parsed_url.url_path &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2068</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">       (subject = strrchr(parsed_url.url_path,&#39;:&#39;)))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2069</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2070</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        local_url = strdup(url);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2071</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2072</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if(!local_url)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2073</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2074</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2075</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2076</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2077</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        subject = strrchr(local_url,&#39;:&#39;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2078</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2079</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        *subject = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2080</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        subject++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2081</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2082</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2083</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_gram_protocol_frame_request(local_url ? local_url : url,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2084</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					    message,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2085</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					    message_size,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2086</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					    &amp;framed,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2087</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					    &amp;framedsize);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2088</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2089</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2090</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2091</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2092</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2093</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection = globus_libc_calloc(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2094</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                     1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2095</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		     sizeof(globus_i_gram_protocol_connection_t));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2096</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2097</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(connection == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2098</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2099</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2100</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto free_framed_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2101</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2102</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;callback = callback;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2103</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;callback_arg = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2104</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;buf = framed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2105</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;bufsize = framedsize;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2106</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;accepting = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2107</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(keep_open)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2108</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2109</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;keep_open = keep_open;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2110</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2111</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_major_status = GSS_S_CONTINUE_NEEDED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2112</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_minor_status = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2113</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_cred = cred_handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2114</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_restriction_oids = restriction_oids;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2115</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_restriction_buffers = restriction_buffers;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2116</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_req_flags = req_flags;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2117</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_time_req = time_req;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2118</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;read_type = GLOBUS_GRAM_PROTOCOL_REPLY;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2119</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2120</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_lock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2121</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(globus_i_gram_protocol_shutdown_called)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2122</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2123</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_REQUEST;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2124</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2125</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto free_connection_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2126</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2127</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;handle = ++globus_i_gram_protocol_handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2128</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2129</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2130</td>
          <td class="coverageCount">22518</td>
          <td class="srcCell"><span class="srcLine">	*handle = connection-&gt;handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2131</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2132</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;io_handle = globus_libc_malloc(sizeof(globus_io_handle_t));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2133</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;io_handle == GLOBUS_NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2134</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2135</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2136</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	goto free_connection_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2137</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2138</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_num_connects++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2139</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    globus_list_insert(&amp;globus_i_gram_protocol_connections,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2140</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		       connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2141</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2142</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(!attr &amp;&amp; subject)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2143</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {   </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2144</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_l_gram_protocol_setup_connect_attr(&amp;local_attr, subject);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2145</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2146</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        res = globus_io_tcp_register_connect(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2147</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            parsed_url.host,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2148</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            parsed_url.port,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2149</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &amp;local_attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2150</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            globus_l_gram_protocol_connect_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2151</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2152</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            connection-&gt;io_handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2153</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2154</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_io_tcpattr_destroy(&amp;local_attr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2155</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2156</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2157</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2158</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">        res = globus_io_tcp_register_connect(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2159</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            parsed_url.host,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2160</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            parsed_url.port,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2161</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            attr ? attr : &amp;globus_i_gram_protocol_default_attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2162</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            globus_l_gram_protocol_connect_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2163</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2164</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            connection-&gt;io_handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2165</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2166</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2167</td>
          <td class="coverageCount">22840</td>
          <td class="srcCell"><span class="srcLine">    if(res != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2168</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2169</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_CONNECTION_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2170</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2171</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">	goto remove_connection_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2172</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2173</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2174</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2175</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2176</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    globus_url_destroy(&amp;parsed_url);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2177</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2178</td>
          <td class="coverageCount">22837</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2179</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2180</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine"> remove_connection_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2181</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_num_connects--;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2182</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    node = globus_list_search(globus_i_gram_protocol_connections, connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2183</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    if(node)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2184</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2185</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">	globus_list_remove(&amp;globus_i_gram_protocol_connections, node);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2186</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2187</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_free(connection-&gt;io_handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2188</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine"> free_connection_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2189</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    globus_mutex_unlock(&amp;globus_i_gram_protocol_mutex);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2190</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_free(connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2191</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine"> free_framed_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2192</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_free(framed);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2193</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine"> error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2194</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    if (handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2195</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2196</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        *handle = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2197</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2198</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2199</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    if(local_url)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2200</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2201</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        free(local_url);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2202</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2203</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2204</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    globus_url_destroy(&amp;parsed_url);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2205</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2206</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2207</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2208</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_post() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2209</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2210</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2211</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2212</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_delegation_read_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2213</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2214</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2215</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2216</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2217</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2218</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2219</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_desc			input_token;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2220</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2221</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2222</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2223</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2224</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2225</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;token_length == 0 &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2226</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">       nbytes &gt;= 4)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2227</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2228</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;token_length  = buf[0] &lt;&lt; 24;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2229</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;token_length |= buf[1] &lt;&lt; 16;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2230</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;token_length |= buf[2] &lt;&lt;  8;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2231</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;token_length |= buf[3]      ;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2232</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2233</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	if(connection-&gt;replybufsize &lt; connection-&gt;token_length)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2234</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2235</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_free(connection-&gt;replybuf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2236</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;replybuf =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2237</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		globus_libc_malloc(connection-&gt;token_length);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2238</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;replybufsize = connection-&gt;token_length;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2239</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2240</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2241</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2242</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2243</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2244</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;token_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2245</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;token_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2246</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		globus_l_gram_protocol_delegation_read_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2247</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2248</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2249</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2250</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2251</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2252</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2253</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	nbytes = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2254</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2255</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2256</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">    input_token.value = buf;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2257</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">    input_token.length = nbytes;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2258</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;token_length = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2259</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2260</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2261</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2262</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2263</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2264</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	connection-&gt;delegation_major_status =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2265</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    GSS_S_DEFECTIVE_TOKEN | GSS_S_CALL_INACCESSIBLE_READ;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2266</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2267</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2268</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;read_type == GLOBUS_GRAM_PROTOCOL_REQUEST)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2269</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2270</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_accept_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2271</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2272</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;input_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2273</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2274</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2275</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2276</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	globus_assert(connection-&gt;read_type == GLOBUS_GRAM_PROTOCOL_REPLY);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2277</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_init_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2278</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2279</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;input_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2280</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2281</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2282</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_delegation_read_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2283</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2284</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2285</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2286</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_delegation_write_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2287</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *				callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2288</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2289</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2290</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *			buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2291</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t			nbytes)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2292</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2293</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_desc			input_token;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2294</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2295</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2296</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2297</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">    input_token.value = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2298</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">    input_token.length = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2299</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2300</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2301</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">    globus_libc_free(buf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2302</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2303</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">    connection = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2304</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2305</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2306</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2307</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	connection-&gt;delegation_major_status =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2308</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    GSS_S_DEFECTIVE_TOKEN | GSS_S_CALL_INACCESSIBLE_READ;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2309</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2310</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;read_type == GLOBUS_GRAM_PROTOCOL_REQUEST)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2311</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2312</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_accept_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2313</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2314</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;input_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2315</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2316</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2317</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2318</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	globus_assert(connection-&gt;read_type == GLOBUS_GRAM_PROTOCOL_REPLY);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2319</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	globus_l_gram_protocol_init_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2320</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2321</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;input_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2322</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2323</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2324</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_delegation_write_callback() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2325</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2326</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2327</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2328</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_accept_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2329</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2330</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2331</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_t			input_token)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2332</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2333</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2334</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_desc			output_token;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2335</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    unsigned char *			output_buffer;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2336</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2337</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    output_token.value = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2338</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    output_token.length = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2339</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2340</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    if(input_token-&gt;length != 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2341</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2342</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        gss_ctx_id_t                    context;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2343</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2344</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">        globus_io_tcp_get_security_context(connection-&gt;io_handle, &amp;context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2345</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	        </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2346</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;delegation_major_status = gss_accept_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2347</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;connection-&gt;delegation_minor_status,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2348</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		context,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2349</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;delegation_restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2350</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;delegation_restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2351</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		input_token,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2352</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;delegation_req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2353</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;delegation_time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2354</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2355</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;connection-&gt;delegation_cred,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2356</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2357</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		&amp;output_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2358</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2359</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2360</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	if(output_token.length &gt; 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2361</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2362</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer = globus_libc_malloc(output_token.length+4);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2363</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[0] = (output_token.length &gt;&gt; 24) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2364</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[1] = (output_token.length &gt;&gt; 16) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2365</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[2] = (output_token.length &gt;&gt;  8) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2366</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[3] = (output_token.length      ) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2367</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    memcpy(output_buffer+4, output_token.value, output_token.length);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2368</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2369</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    result = globus_io_register_write(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2370</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2371</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    output_buffer,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2372</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    output_token.length+4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2373</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    globus_l_gram_protocol_delegation_write_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2374</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2375</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_free(output_token.value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2376</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2377</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2378</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2379</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">		return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2380</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2381</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2382</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2383</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">		connection-&gt;delegation_major_status =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2384</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    GSS_S_DEFECTIVE_TOKEN | GSS_S_CALL_INACCESSIBLE_READ;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2385</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2386</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2387</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2388</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;delegation_major_status &amp; GSS_S_CONTINUE_NEEDED)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2389</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2390</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2391</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2392</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2393</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2394</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2395</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		globus_l_gram_protocol_delegation_read_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2396</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2397</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2398</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2399</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2400</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2401</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2402</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2403</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    connection-&gt;delegation_major_status =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2404</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		GSS_S_DEFECTIVE_TOKEN | GSS_S_CALL_INACCESSIBLE_READ;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2405</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2406</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2407</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if(GSS_ERROR(connection-&gt;delegation_major_status))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2408</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2409</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/* TODO: error 7 hack */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2410</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2411</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2412</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Finished with delegation... callback */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2413</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;replybuf)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2414</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2415</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	globus_libc_free(connection-&gt;replybuf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2416</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;replybuf=NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2417</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">	connection-&gt;replybufsize=0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2418</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2419</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;keep_open = GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2420</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;delegation_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2421</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;delegation_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2422</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2423</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;delegation_cred,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2424</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    GSS_ERROR(connection-&gt;delegation_major_status) </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2425</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		? GLOBUS_GRAM_PROTOCOL_ERROR_AUTHORIZATION</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2426</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		: GLOBUS_SUCCESS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2427</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2428</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_accept_delegation() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2429</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2430</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2431</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2432</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_init_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2433</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2434</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2435</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_t			input_token)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2436</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2437</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t			result;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2438</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    gss_buffer_desc			output_token;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2439</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    unsigned char *			output_buffer;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2440</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2441</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">    output_token.value = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2442</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">    output_token.length = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2443</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2444</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;delegation_major_status &amp; GSS_S_CONTINUE_NEEDED)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2445</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2446</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">	if((input_token != GSS_C_NO_BUFFER  &amp;&amp; input_token-&gt;length != 0) ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2447</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	   input_token == GSS_C_NO_BUFFER)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2448</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2449</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    gss_ctx_id_t                context;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2450</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2451</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    globus_io_tcp_get_security_context(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2452</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	        connection-&gt;io_handle, &amp;context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2453</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	        </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2454</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;delegation_major_status = gss_init_delegation(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2455</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    &amp;connection-&gt;delegation_minor_status,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2456</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    context,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2457</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;delegation_cred,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2458</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    GSS_C_NO_OID,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2459</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;delegation_restriction_oids,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2460</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;delegation_restriction_buffers,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2461</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    input_token,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2462</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;delegation_req_flags,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2463</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;delegation_time_req,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2464</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    &amp;output_token);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2465</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2466</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2467</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2468</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">	if(output_token.length &gt; 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2469</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2470</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer = globus_libc_malloc(output_token.length+4);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2471</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[0] = (output_token.length &gt;&gt; 24) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2472</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[1] = (output_token.length &gt;&gt; 16) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2473</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[2] = (output_token.length &gt;&gt;  8) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2474</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    output_buffer[3] = (output_token.length      ) &amp; 0xff;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2475</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    memcpy(output_buffer+4, output_token.value, output_token.length);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2476</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2477</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    result = globus_io_register_write(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2478</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2479</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    output_buffer,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2480</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    output_token.length+4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2481</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    globus_l_gram_protocol_delegation_write_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2482</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2483</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_free(output_token.value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2484</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2485</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">	    if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2486</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2487</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">		return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2488</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2489</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2490</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2491</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">		connection-&gt;delegation_major_status =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2492</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    GSS_S_DEFECTIVE_TOKEN | GSS_S_CALL_INACCESSIBLE_READ;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2493</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2494</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2495</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2496</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2497</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2498</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2499</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2500</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		4,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2501</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		globus_l_gram_protocol_delegation_read_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2502</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2503</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2504</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2505</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2506</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2507</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2508</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2509</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	    connection-&gt;delegation_major_status =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2510</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		GSS_S_DEFECTIVE_TOKEN | GSS_S_CALL_INACCESSIBLE_READ;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2511</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2512</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2513</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">    if(GSS_ERROR(connection-&gt;delegation_major_status))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2514</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2515</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	/* TODO: error 7 hack */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2516</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2517</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2518</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Finished with delegation... register read of delegation status */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2519</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;keep_open = GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2520</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2521</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">    if(connection-&gt;replybufsize &lt; GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2522</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2523</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_libc_free(connection-&gt;replybuf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2524</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	connection-&gt;replybuf =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2525</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    globus_libc_malloc(GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2526</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	connection-&gt;replybufsize = GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2527</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2528</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">    result = globus_io_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2529</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2530</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2531</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;replybufsize,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2532</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2533</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    globus_l_gram_protocol_read_reply_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2534</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2535</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2536</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">    if(result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2537</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2538</td>
          <td class="coverageCount">2</td>
          <td class="srcCell"><span class="srcLine">	return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2539</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2540</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2541</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2542</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	connection-&gt;rc = GLOBUS_GRAM_PROTOCOL_ERROR_NO_RESOURCES;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2543</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2544</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(connection-&gt;callback &amp;&amp; connection-&gt;rc)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2545</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2546</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	connection-&gt;callback(connection-&gt;callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2547</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2548</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;replybuf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2549</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;payload_length,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2550</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     connection-&gt;rc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2551</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			     GLOBUS_NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2552</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2553</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* For reply handling, we just need to close up the connection</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2554</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * after we&#39;ve dispatched the callback.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2555</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2556</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    result = globus_io_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2557</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2558</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 globus_l_gram_protocol_connection_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2559</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		 connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2560</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2561</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2562</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2563</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* If we can&#39;t close the handle, we&#39;d still like to clean up</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2564</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 * our memory.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2565</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2566</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	globus_l_gram_protocol_connection_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2567</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2568</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    connection-&gt;io_handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2569</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    result);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2570</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2571</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2572</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_protocol_init_delegation() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2573</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2574</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2575</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2576</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_bool_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2577</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_authorization_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2578</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	void *				arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2579</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	globus_io_handle_t *		handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2580</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	globus_result_t			result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2581</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	char *				identity,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2582</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	gss_ctx_id_t 			context_handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2583</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2584</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2585</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    					connection;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2586</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2587</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection = (globus_i_gram_protocol_connection_t *) arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2588</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2589</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    connection-&gt;context = context_handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2590</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2591</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2592</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2593</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2594</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2595</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_setup_accept_attr(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2596</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *                          attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2597</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_i_gram_protocol_connection_t *       connection)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2598</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2599</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     res;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2600</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_secure_authorization_data_t  auth_data;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2601</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_object_t *                   err;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2602</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2603</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    res = globus_io_secure_authorization_data_initialize(&amp;auth_data);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2604</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2605</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if (res != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2606</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2607</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto error_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2608</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2609</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    res = globus_io_secure_authorization_data_set_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2610</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &amp;auth_data,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2611</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_protocol_authorization_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2612</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                (void *) connection);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2613</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if (res != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2614</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2615</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto destroy_auth_data;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2616</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2617</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2618</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    res = globus_io_attr_set_secure_authorization_mode(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2619</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2620</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_IO_SECURE_AUTHORIZATION_MODE_CALLBACK,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2621</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &amp;auth_data);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2622</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2623</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    if (res != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2624</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2625</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto destroy_auth_data;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2626</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2627</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2628</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    globus_io_secure_authorization_data_destroy(&amp;auth_data);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2629</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2630</td>
          <td class="coverageCount">11744</td>
          <td class="srcCell"><span class="srcLine">    return GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2631</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2632</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">destroy_auth_data:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2633</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_io_secure_authorization_data_destroy(&amp;auth_data);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2634</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">error_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2635</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    err = globus_error_get(res);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2636</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_object_free(err);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2637</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2638</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return GLOBUS_GRAM_PROTOCOL_ERROR_CONNECTION_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2639</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2640</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2641</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2642</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_protocol_setup_connect_attr(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2643</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_io_attr_t *                     attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2644</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                                 identity)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2645</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2646</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                        res;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2647</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    int                                    rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2648</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    globus_io_secure_authorization_data_t  auth_data = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2649</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2650</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* acquire mutex */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2651</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if ((res = globus_io_tcpattr_init(attr)) != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2652</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2653</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_CONNECTION_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2654</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto out;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2655</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2656</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2657</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if ( (res = globus_io_secure_authorization_data_initialize(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2658</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	                &amp;auth_data))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2659</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 || (res = globus_io_secure_authorization_data_set_identity(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2660</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	                &amp;auth_data,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2661</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        identity))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2662</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 || (res = globus_io_attr_set_secure_authentication_mode(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2663</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	                attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2664</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			GLOBUS_IO_SECURE_AUTHENTICATION_MODE_MUTUAL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2665</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			globus_i_gram_protocol_credential))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2666</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 || (res = globus_io_attr_set_secure_authorization_mode(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2667</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	                attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2668</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			GLOBUS_IO_SECURE_AUTHORIZATION_MODE_IDENTITY,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2669</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			&amp;auth_data))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2670</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	 || (res = globus_io_attr_set_secure_channel_mode(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2671</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	                attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2672</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">			GLOBUS_IO_SECURE_CHANNEL_MODE_SSL_WRAP)) )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2673</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2674</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_io_tcpattr_destroy(attr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2675</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2676</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">	rc = GLOBUS_GRAM_PROTOCOL_ERROR_CONNECTION_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2677</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2678</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2679</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if (auth_data)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2680</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2681</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_io_secure_authorization_data_destroy(&amp;auth_data);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2682</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2683</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2684</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">out:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2685</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2686</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2687</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2688</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
      </table>
  </body>
</html>
