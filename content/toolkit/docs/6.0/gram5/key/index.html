<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<div class="book"><div class="titlepage"><div><div><h1 class="title"><a name="gram5Key"></a>GT 6.0 GRAM5 Key Concepts</h1></div><div><div class="abstract"><p class="title"><b>Overview</b></p><p> The Globus Toolkit provides GRAM5: a service to submit, monitor, and cancel jobs on
        Grid computing resources. In GRAM, a job consists of a computation and, optionally, file
        transfer and management operations related to the computation. Some users, particularly
        interactive ones, benefit from accessing output data files as the job is running. Monitoring
        consists of querying and/or subscribing for status information, such as job state changes. </p><p> Grid computing resources are typically managed by a local resource manager which
        implements allocation and prioritization policies while optimizing the execution of all
        submitted jobs for efficiency and performance according to site policy. GRAM is not a
        resource scheduler, but rather a protocol engine for communicating with a range of different
        local resource schedulers using a standard message format. </p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="chapter"><a href="#gram5-key-concepts">1. Conceptual details</a></span></dt><dd><dl><dt><span class="section"><a href="#idm101982617632">1. Targeted job types</a></span></dt><dt><span class="section"><a href="#idm101982615872">2. Component architecture</a></span></dt><dt><span class="section"><a href="#idm101982608240">3. Security</a></span></dt></dl></dd><dt><span class="chapter"><a href="#gram5-approach">2. GRAM5 Approach</a></span></dt><dd><dl><dt><span class="section"><a href="#gram5-approach-intro">1. Introduction</a></span></dt><dt><span class="section"><a href="#gram5-approach-approach">2. Component architecture approach</a></span></dt><dd><dl><dt><span class="section"><a href="#idm101981347136">2.1. GRAM5 Architecture</a></span></dt><dt><span class="section"><a href="#idm101978468144">2.2. External Components used by GRAM5</a></span></dt><dd><dl><dt><span class="section"><a href="#idm101978467504">2.2.1. Local resource manager </a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="glossary"><a href="#gram5Key-glossary">Glossary</a></span></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="gram5-key-concepts"></a>Chapter 1. Conceptual details</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#idm101982617632">1. Targeted job types</a></span></dt><dt><span class="section"><a href="#idm101982615872">2. Component architecture</a></span></dt><dt><span class="section"><a href="#idm101982608240">3. Security</a></span></dt></dl></div><p> A number of concepts underly the purpose and motivation for GRAM. These concepts are
      divided into broad categories below. </p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="idm101982617632"></a>1. Targeted job types</h2></div></div></div><p> GRAM is meant to address a range of jobs where arbitrary programs, reliable operation,
        stateful monitoring, credential management, and file staging are important. GRAM is not
        meant to serve as a "remote procedure call" (RPC) interface for applications not requiring
        many of these features. Furthermore, its interface model and implementation may be too
        costly for such uses. The GRAM5 service protocols and implementation will always involve
        multiple round-trips to support these advanced features that are not required for simple RPC
        applications. </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="idm101982615872"></a>2. Component architecture</h2></div></div></div><p> Rather than consisting of a monolithic solution, GRAM is based on a component
        architecture at both the protocol and software implementation levels. This component
        approach serves as an ideal which shapes the implementation as well as the abstract design
        and features. </p><div class="informaltable"><table border="1" width="700px"><colgroup><col><col></colgroup><tbody><tr><td>Service model</td><td>
                <p> For GRAM5, the <span class="command"><strong>globus-gatekeeper</strong></span> daemon and GSI library
                  are used for secure communications and service dispatch. </p>
                <p> The <span class="command"><strong>globus-job-manager</strong></span> daemon implements the job
                  management and file transfer functionality. </p>
              </td></tr><tr><td><a href="#local-resource-manager-adapter" class="glossterm"><em class="glossterm">Local Resource Manager Adapters</em></a></td><td>
                <p> GRAM provides a scripted plug-in architecture to enable extension with
                  adapters to control a variety of local resource systems. </p>
              </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="idm101982608240"></a>3. Security</h2></div></div></div><div class="informaltable"><table border="1" width="700px"><colgroup><col><col></colgroup><tbody><tr><td>Secure operation</td><td>
                <p>GRAM5 uses SSL-based protocols to establish identity or provide other security
                  tokens needed to authorize GRAM5 service requests. Once authorized, each instance
                  of the job service runs as a local POSIX user. GRAM5 restricts job monitoring and
                  management operations to those who are authorized by the local site policy.
                </p>
              </td></tr><tr><td>Local system protection domains</td><td>
                <p>To protect users from each other, the GRAM5 job manager and the jobs it starts
                  are executed in separate local security contexts. Additionally, GRAM mechanisms
                  used to interact with the local resource are designed to minimize the privileges
                  required and to minimize the risks of service malfunction or compromise. </p>
              </td></tr><tr><td>Credential delegation and management</td><td>
                <p>A client delegates some of its rights to the GRAM service in order to allow it
                  to perform file transfers on behalf of the client and send state notifications to
                  registered clients. Additionally, GRAM5 provides per-job credentials so that job
                  instances may perform further authentication with other services. </p>
              </td></tr><tr><td>Audit</td><td>
                <p>GRAM uses a range of audit and logging techniques to record a history of job
                  submissions and critical system operations. These records may be used to assist
                  with accounting functions as well as to further mitigate risks from abuse or
                  malfunction.</p>
              </td></tr></tbody></table></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="gram5-approach"></a>Chapter 2. GT 6.0 GRAM5 Approach</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#gram5-approach-intro">1. Introduction</a></span></dt><dt><span class="section"><a href="#gram5-approach-approach">2. Component architecture approach</a></span></dt><dd><dl><dt><span class="section"><a href="#idm101981347136">2.1. GRAM5 Architecture</a></span></dt><dt><span class="section"><a href="#idm101978468144">2.2. External Components used by GRAM5</a></span></dt><dd><dl><dt><span class="section"><a href="#idm101978467504">2.2.1. Local resource manager </a></span></dt></dl></dd></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="gram5-approach-intro"></a>1. Introduction</h2></div></div></div><p> The GRAM5 software implements a solution to the job-management problem described
            above. This solution is specific to operating systems following the POSIX programming
            and security model. </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="gram5-approach-approach"></a>2. Component architecture approach</h2></div></div></div><p> GRAM5's job management services interact with local resource managers (LRMs) and
            other service components of GT 6.0 in order
            to support job execution with coordinated file staging. </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm101981347136"></a>2.1. GRAM5 Architecture</h3></div></div></div><p>The GRAM5 service architecture consists of several components which work together
                to authenticate users, manage jobs, interface with the LRM, and stage files. These
                components are described in the following table. </p><div class="table"><a name="idm101985139648"></a><p class="title"><b>Table 2.1. GRAM5 Service Components</b></p><div class="table-contents"><table summary="GRAM5 Service Components" border="1" width="700px"><colgroup><col><col></colgroup><tbody><tr><td>
                                <p>Gatekeeper</p>
                            </td><td>
                                <p>The <span class="application">globus-gatekeeper</span> service
                                    provides a network interface to the GRAM5 system. It
                                    authenticates client identities and starts Job Manager processes
                                    using the local user account to which the client identity is
                                    mapped. Typically, one instance of the <span class="application">globus-gatekeeper</span> process runs to accept
                                    network connections, and forks a new short-lived process to
                                    process each new conneciton.</p>
                            </td></tr><tr><td>
                                <p>Job Manager</p>
                            </td><td>
                                <p>The <span class="application">globus-job-manager</span> daemon
                                    processes job requests and coordinates file transfers. There is
                                    one long-lived instance of this per user per LRM and one
                                    short-lived instance per job. </p>
                            </td></tr><tr><td>
                                <p>Scheduler Event Generator</p>
                            </td><td>
                                <p>The <span class="application">globus-scheduler-event-generator</span> process
                                    parses LRM-specific data relating to job startup, execution, and
                                    termination into an LRM-independent data format. There is
                                    optionally one instance of this program per LRM.</p>
                            </td></tr><tr><td>
                                <p>LRM Adapter</p>
                            </td><td>
                                <p>The LRM adapter provides an interface between the GRAM5
                                    system components and the LRM. It provides concrete
                                    implementations of the submit, cancel, and poll functionality
                                    for a particular system's LRM and to generate job status change
                                    events.</p>
                            </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm101978468144"></a>2.2. External Components used by GRAM5</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="idm101978467504"></a>2.2.1. Local resource manager </h4></div></div></div><p>GRAM5 uses a local resource manager (LRM) to schedule and run jobs on a
                    compute element. GRAM5 supports several common LRM systems (Condor, Torque,
                     Oracle GridEngine) and can also be configured to manage jobs without
                    an LRM.</p></div></div></div></div><div class="glossary"><div class="titlepage"><div><div><h1 class="title"><a name="gram5Key-glossary"></a>Glossary</h1></div></div></div><div class="glossdiv"><h3 class="title">G</h3><dl><dt><a name="gram"></a><span class="glossterm">Grid Resource Allocation and Management</span> (GRAM)</dt><dd class="glossdef"><p>This component is used to locate, submit, monitor, and cancel jobs on Grid computing resources.</p></dd></dl></div><div class="glossdiv"><h3 class="title">L</h3><dl><dt><a name="local-resource-manager"></a><span class="glossterm">Local Resource Manager</span> (LRM)</dt><dd class="glossdef"><p>
                        A system which controls access to a compute resource,
                        such as a compute cluster or parallel computer.
                        Such systems provide batch execution interfaces,
                        which GRAM uses to execute jobs.
                        <a href="#condor" class="glossterm"><em class="glossterm">Condor</em></a>,
                        <a href="#pbs" class="glossterm"><em class="glossterm">Portable Batch System</em></a>,
                        <a href="#Oracle-GridEngine" class="glossterm"><em class="glossterm">GridEngine</em></a> are examples
                        of local resource managers.
                    </p><p>See Also Condor, Portable Batch System, Oracle GridEngine.</p></dd><dt><a name="local-resource-manager-adapter"></a><span class="glossterm">LRM Adapter</span></dt><dd class="glossdef"><p>
                        The interface code between 
                        a <a href="#local-resource-manager" class="glossterm"><em class="glossterm">Local Resource Manager</em></a> and
                        GRAM. In most cases, this consists of a Perl
                        module that implements the
                        <code class="classname">Globus::GRAM::JobManager</code> class
                        and a <a href="#seg" class="glossterm"><em class="glossterm">Scheduler Event Generator</em></a>
                        module.
                    </p><p>See Also Local Resource Manager.</p></dd></dl></div></div></div>
