<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- source.template -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <title>Code Coverage for globus_gram_job_manager_script.c</title>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
      <link href="coverage.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
      <table class="srcView">
      
        <tr>
          <td class="lineCount">1</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Copyright 1999-2009 University of Chicago</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">3</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">4</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">5</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * you may not use this file except in compliance with the License.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">6</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * You may obtain a copy of the License at</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">7</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">8</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * http://www.apache.org/licenses/LICENSE-2.0</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">9</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">10</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Unless required by applicable law or agreed to in writing, software</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">11</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">12</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">13</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * See the License for the specific language governing permissions and</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">14</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * limitations under the License.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">15</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">16</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">17</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &quot;globus_gram_job_manager.h&quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">18</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &quot;globus_xio_popen_driver.h&quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">19</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &lt;ctype.h&gt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">20</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &lt;stdio.h&gt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">21</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &lt;stdlib.h&gt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">22</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &lt;string.h&gt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">23</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &lt;sys/types.h&gt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">24</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">#include &lt;utime.h&gt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">25</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">26</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_xio_driver_t                     globus_i_gram_job_manager_popen_driver;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">27</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_xio_stack_t                      globus_i_gram_job_manager_popen_stack;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">28</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">29</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">typedef struct globus_gram_script_handle_s</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">30</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">31</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_handle_t                 handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">32</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t                       return_buf[GLOBUS_GRAM_PROTOCOL_MAX_MSG_SIZE];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">33</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     result;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">34</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">35</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">*globus_gram_script_handle_t;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">36</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">37</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">38</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_handle_init(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">39</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">40</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_script_handle_t *       handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">41</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">42</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">43</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">44</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_description(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">45</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">46</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">47</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    va_list                             ap);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">48</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">49</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">50</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">51</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">52</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">53</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        format,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">54</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    ...);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">55</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">56</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">57</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">58</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_fifo_to_iovec(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">59</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">60</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    struct iovec **                     iovec,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">61</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int *                               num_iovec);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">62</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">63</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* Module Specific Types */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">64</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">typedef void (*globus_gram_job_manager_script_callback_t)(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">65</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">66</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">67</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">68</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 starting_state,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">69</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        variable,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">70</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">71</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">72</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">typedef struct</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">73</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">74</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_script_callback_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">75</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        callback;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">76</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">77</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">78</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 starting_jobmanager_state;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">79</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    struct iovec *                      iov;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">80</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 iovcnt;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">81</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_script_handle_t         handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">82</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">83</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_context_t;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">84</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">85</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* Module Specific Prototypes */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">86</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">87</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">88</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">89</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_handle_t                 handle, </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">90</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">91</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *                     buffer,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">92</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t                       len,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">93</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t                       nbytes, </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">94</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_data_descriptor_t        data_desc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">95</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              user_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">96</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">97</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">98</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">99</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_default_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">100</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">101</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">102</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">103</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 starting_state,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">104</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        variable,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">105</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">106</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">107</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">108</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">109</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_query_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">110</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">111</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">112</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">113</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 starting_jobmanager_state,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">114</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        variable,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">115</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">116</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">117</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">118</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">119</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_request_validate(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">120</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">121</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">122</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">123</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">char *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">124</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_prepare_param(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">125</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        param);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">126</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">127</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">128</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">129</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_staging_list(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">130</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">131</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">132</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_staging_type_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">133</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        type);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">134</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">135</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">136</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">137</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_staged_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">138</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">139</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_staging_type_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">140</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        type,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">141</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">142</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">143</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">144</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">145</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_script_queue(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">146</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">147</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_script_context_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">148</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">149</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">150</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">151</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">152</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_process_script_queue_locked(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">153</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">154</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">155</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">156</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">157</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">158</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">159</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_script_handle_t         handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">160</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">161</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">162</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">163</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_script_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">164</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_handle_t                 handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">165</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">166</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              user_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">167</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">168</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">169</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Begin execution of a job manager script</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">170</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">171</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">172</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">173</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">174</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">175</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">176</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_script_callback_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">177</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">178</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">179</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    ...)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">180</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">181</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_script_context_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">182</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        script_context;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">183</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">184</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t                       fifo;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">185</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    va_list                             ap;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">186</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">187</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_fifo_init(&amp;fifo);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">188</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">189</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">190</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">191</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">192</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto fifo_init_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">193</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">194</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(&amp;fifo, &quot;%s\n&quot;, script_cmd);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">195</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">196</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">197</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto enqueue_cmd_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">198</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">199</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    va_start(ap, callback_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">200</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_description(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">201</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &amp;fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">202</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">203</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            ap);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">204</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    va_end(ap);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">205</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">206</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">207</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">208</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto enqueue_description_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">209</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">210</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">211</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(&amp;fifo, &quot;\n&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">212</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">213</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">214</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto enqueue_end_of_cmd_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">215</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">216</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">217</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    script_context = malloc(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">218</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            sizeof(globus_gram_job_manager_script_context_t));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">219</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (script_context == NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">220</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">221</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">222</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto script_context_malloc_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">223</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">224</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">225</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_gram_job_manager_add_reference(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">226</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">227</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">228</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;script&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">229</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">230</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_assert(rc == GLOBUS_SUCCESS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">231</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">232</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    script_context-&gt;callback = callback;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">233</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    script_context-&gt;callback_arg = callback_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">234</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    script_context-&gt;request = request;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">235</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    script_context-&gt;starting_jobmanager_state = request-&gt;jobmanager_state;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">236</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_fifo_to_iovec(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">237</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &amp;fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">238</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &amp;script_context-&gt;iov,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">239</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &amp;script_context-&gt;iovcnt);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">240</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">241</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_script_queue(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">242</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">243</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            script_context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">244</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">245</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">246</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto queue_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">247</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">248</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">249</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">250</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">queue_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">251</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_job_manager_remove_reference(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">252</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">253</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">254</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;script&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">255</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        free(script_context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">256</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">257</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">script_context_malloc_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">258</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">enqueue_end_of_cmd_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">259</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">enqueue_description_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">260</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">enqueue_cmd_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">261</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">262</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">263</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_fifo_destroy_all(&amp;fifo, free);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">264</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">265</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">266</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">267</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        globus_fifo_destroy(&amp;fifo);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">268</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">269</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">fifo_init_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">270</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">271</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">272</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">273</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_script_run() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">274</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">275</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">276</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">277</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">278</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_handle_t                 handle, </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">279</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">280</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_byte_t *                     buffer,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">281</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t                       len,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">282</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_size_t                       nbytes, </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">283</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_data_descriptor_t        data_desc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">284</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              user_arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">285</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">286</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">287</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_script_context_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">288</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        script_context;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">289</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_script_handle_t         script_handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">290</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              script_variable;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">291</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              script_variable_end;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">292</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    unsigned char *                     script_value;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">293</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    globus_bool_t                       eof = GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">294</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              p;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">295</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    int                                 failure_code = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">296</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 i;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">297</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">298</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    script_context = user_arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">299</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    request = script_context-&gt;request;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">300</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    script_handle = script_context-&gt;handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">301</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">302</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">303</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">304</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_LOG_DEBUG,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">305</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;event=gram.script_read.start &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">306</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;level=DEBUG &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">307</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">308</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">309</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;job_contact_path);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">310</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">311</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    if (result)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">312</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">313</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        eof = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">314</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if (!globus_xio_error_is_eof(result))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">315</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">316</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            char *                      errstr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">317</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            char *                      errstr_escaped;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">318</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">319</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            errstr = globus_error_print_friendly(globus_error_peek(result));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">320</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            errstr_escaped = globus_gram_prepare_log_string(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">321</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">322</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            failure_code =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">323</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">324</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">325</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">326</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">327</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_LOG_ERROR,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">328</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;event=gram.script_read.end &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">329</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;level=ERROR &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">330</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">331</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;status=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">332</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;reason=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">333</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">334</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">335</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    (int) -failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">336</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    errstr_escaped ? errstr_escaped : &quot;&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">337</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (errstr)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">338</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">339</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">340</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">341</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (errstr_escaped)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">342</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">343</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(errstr_escaped);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">344</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">345</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">346</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        script_handle-&gt;result = result;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">347</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">348</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">349</td>
          <td class="coverageCount">6390</td>
          <td class="srcCell"><span class="srcLine">    while((p = memchr(script_handle-&gt;return_buf, &#39;\n&#39;, nbytes)) != NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">350</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">351</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        char *                          escaped;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">352</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">353</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">354</td>
          <td class="coverageCount">3632</td>
          <td class="srcCell"><span class="srcLine">        *p = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">355</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">356</td>
          <td class="coverageCount">3632</td>
          <td class="srcCell"><span class="srcLine">        if (request-&gt;config-&gt;log_levels &amp; GLOBUS_GRAM_JOB_MANAGER_LOG_TRACE)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">357</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">358</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            escaped = globus_gram_prepare_log_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">359</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    (char *) &amp;script_handle-&gt;return_buf[0]);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">360</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">361</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">362</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">363</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_LOG_TRACE,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">364</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;event=gram.script_read.info &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">365</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;level=TRACE &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">366</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">367</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;response=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">368</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">369</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">370</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    escaped ? escaped : &quot;&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">371</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">372</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (escaped)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">373</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">374</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(escaped);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">375</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">376</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">377</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">378</td>
          <td class="coverageCount">3632</td>
          <td class="srcCell"><span class="srcLine">        script_variable = (char *) script_handle-&gt;return_buf;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">379</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">380</td>
          <td class="coverageCount">3632</td>
          <td class="srcCell"><span class="srcLine">        if (*script_variable == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">381</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">382</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            /* End of input */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">383</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">            eof = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">384</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">            break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">385</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">386</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">387</td>
          <td class="coverageCount">6880</td>
          <td class="srcCell"><span class="srcLine">        while(*script_variable &amp;&amp; isspace(*script_variable))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">388</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">389</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            script_variable++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">390</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">391</td>
          <td class="coverageCount">3440</td>
          <td class="srcCell"><span class="srcLine">        script_variable_end = script_variable;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">392</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">393</td>
          <td class="coverageCount">61629</td>
          <td class="srcCell"><span class="srcLine">        while(*script_variable_end &amp;&amp; *script_variable_end != &#39;:&#39;)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">394</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">395</td>
          <td class="coverageCount">54749</td>
          <td class="srcCell"><span class="srcLine">            script_variable_end++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">396</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">397</td>
          <td class="coverageCount">3440</td>
          <td class="srcCell"><span class="srcLine">        *script_variable_end = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">398</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">399</td>
          <td class="coverageCount">3440</td>
          <td class="srcCell"><span class="srcLine">        script_value = (unsigned char *) script_variable_end+1;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">400</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">401</td>
          <td class="coverageCount">3440</td>
          <td class="srcCell"><span class="srcLine">        script_context-&gt;callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">402</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_context-&gt;callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">403</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">404</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">405</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_context-&gt;starting_jobmanager_state,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">406</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_variable,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">407</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                (char *) script_value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">408</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">409</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">410</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * We need to log the batch job ID to the accounting file.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">411</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">412</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">413</td>
          <td class="coverageCount">3440</td>
          <td class="srcCell"><span class="srcLine">        if(strcmp(script_variable, &quot;GRAM_SCRIPT_JOB_ID&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">414</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">415</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            const char * gk_jm_id_var = &quot;GATEKEEPER_JM_ID&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">416</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            const char * gk_jm_id  = globus_libc_getenv(gk_jm_id_var);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">417</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            const char * gk_peer   = globus_libc_getenv(&quot;GATEKEEPER_PEER&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">418</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            const char * globus_id = globus_libc_getenv(&quot;GLOBUS_ID&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">419</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            uid_t uid = getuid();</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">420</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            gid_t gid = getgid();</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">421</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            const char *user = request-&gt;config-&gt;logname;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">422</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">423</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            globus_gram_job_manager_request_acct(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">424</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request, &quot;%s %s for %s on %s\n&quot;, gk_jm_id_var,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">425</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                gk_jm_id  ? gk_jm_id  : &quot;none&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">426</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_id ? globus_id : &quot;unknown&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">427</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                gk_peer   ? gk_peer   : &quot;unknown&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">428</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">429</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            globus_gram_job_manager_request_acct(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">430</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request, &quot;%s %s mapped to %s (%u, %u)\n&quot;, gk_jm_id_var,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">431</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                gk_jm_id  ? gk_jm_id  : &quot;none&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">432</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                user, uid, gid);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">433</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">434</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            globus_gram_job_manager_request_acct(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">435</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request, &quot;%s %s has %s %s manager type %s\n&quot;, gk_jm_id_var,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">436</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                gk_jm_id  ? gk_jm_id  : &quot;none&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">437</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_variable, script_value,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">438</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;config-&gt;jobmanager_type);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">439</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">440</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">441</td>
          <td class="coverageCount">3440</td>
          <td class="srcCell"><span class="srcLine">        nbytes -= (p + 1 - ((char *)&amp;script_handle-&gt;return_buf[0]));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">442</td>
          <td class="coverageCount">3440</td>
          <td class="srcCell"><span class="srcLine">        if(nbytes &gt; 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">443</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">444</td>
          <td class="coverageCount">2157</td>
          <td class="srcCell"><span class="srcLine">            memmove(&amp;script_handle-&gt;return_buf[0],</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">445</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    p + 1, </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">446</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    nbytes);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">447</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">448</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">449</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">450</td>
          <td class="coverageCount">1283</td>
          <td class="srcCell"><span class="srcLine">            script_handle-&gt;return_buf[0] = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">451</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">452</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">453</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">454</td>
          <td class="coverageCount">1475</td>
          <td class="srcCell"><span class="srcLine">    if(! eof)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">455</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">456</td>
          <td class="coverageCount">1283</td>
          <td class="srcCell"><span class="srcLine">        result = globus_xio_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">457</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_handle-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">458</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &amp;script_handle-&gt;return_buf[nbytes],</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">459</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                sizeof(script_handle-&gt;return_buf) - nbytes,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">460</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">461</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">462</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_job_manager_script_read,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">463</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">464</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">465</td>
          <td class="coverageCount">1283</td>
          <td class="srcCell"><span class="srcLine">        if(result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">466</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">467</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            char *                      errstr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">468</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            char *                      errstr_escaped;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">469</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">470</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            errstr = globus_error_print_friendly(globus_error_peek(result));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">471</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            errstr_escaped = globus_gram_prepare_log_string(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">472</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">473</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            failure_code = GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">474</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">475</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">476</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    script_context-&gt;request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">477</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_LOG_ERROR,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">478</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;event=gram.script_read.end &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">479</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;level=ERROR &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">480</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">481</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;status=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">482</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;reason=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">483</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">484</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">485</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    -failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">486</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    errstr_escaped ? errstr_escaped : &quot;&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">487</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">488</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (errstr)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">489</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">490</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">491</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">492</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">493</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (errstr_escaped)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">494</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">495</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(errstr_escaped);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">496</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">497</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">498</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">499</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">500</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            /* New callback registered successfully */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">501</td>
          <td class="coverageCount">1283</td>
          <td class="srcCell"><span class="srcLine">            return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">502</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">503</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">504</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">505</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    script_handle = script_context-&gt;handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">506</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">507</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_l_gram_job_manager_script_done(request-&gt;manager, script_handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">508</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">509</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    script_context-&gt;callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">510</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            script_context-&gt;callback_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">511</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">512</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            (result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">513</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                ? GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">514</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                : GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">515</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            script_context-&gt;starting_jobmanager_state,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">516</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">517</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">518</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">519</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">520</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">521</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">522</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_context-&gt;request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">523</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_JOB_MANAGER_LOG_TRACE,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">524</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;event=gram.script_read.end &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">525</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;level=TRACE &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">526</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">527</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;status=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">528</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">529</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">530</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">531</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">532</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_remove_reference(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">533</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">534</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">535</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;script&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">536</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">537</td>
          <td class="coverageCount">57250</td>
          <td class="srcCell"><span class="srcLine">    for (i = 0; i &lt; script_context-&gt;iovcnt; i++)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">538</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">539</td>
          <td class="coverageCount">57058</td>
          <td class="srcCell"><span class="srcLine">        free(script_context-&gt;iov[i].iov_base);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">540</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">541</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    free(script_context-&gt;iov);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">542</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    free(script_context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">543</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">544</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_script_read() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">545</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">546</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">547</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Submit a job request to a local scheduler.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">548</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">549</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function submits the passed job request to the local scheduler</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">550</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * script. </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">551</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">552</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param request</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">553</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The request containing the job description and related information.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">554</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">555</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @return</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">556</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function returns GLOBUS_SUCCESS or a failure code if the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">557</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * job could not be submitted. If successful, this function will call</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">558</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * into the state machine once the job submission result has happened.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">559</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">560</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">561</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_submit(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">562</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">563</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">564</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">    char * script_cmd = &quot;submit&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">565</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">566</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">567</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_request_validate(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">568</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">569</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">570</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">571</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">572</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">573</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">574</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * used to test job manager functionality without actually submitting</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">575</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * job</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">576</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">577</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">    if (request-&gt;dry_run)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">578</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">579</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return GLOBUS_GRAM_PROTOCOL_ERROR_DRYRUN;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">580</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">581</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">582</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">    if (request-&gt;config-&gt;seg_module &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">583</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        strcmp(request-&gt;config-&gt;seg_module, &quot;condor&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">584</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">585</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">586</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">587</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">588</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    globus_l_gram_job_manager_default_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">589</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">590</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;emitcondorprocesses&quot;, &#39;d&#39;, 1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">591</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">592</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">593</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">    else if (request-&gt;config-&gt;seg_module &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">594</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        strcmp(request-&gt;config-&gt;seg_module, &quot;fork&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">595</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">596</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">597</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">598</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">599</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    globus_l_gram_job_manager_default_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">600</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">601</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;useforkstarter&quot;, &#39;d&#39;, 1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">602</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">603</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">604</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">605</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">606</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">607</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">608</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">609</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    globus_l_gram_job_manager_default_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">610</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">611</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">612</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">613</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">614</td>
          <td class="coverageCount">104</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">615</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">616</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_submit() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">617</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">618</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">619</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">620</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">621</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Set job request status and fire callback so it registers</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">622</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">623</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">624</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">625</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">local_globus_set_status(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">626</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">627</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_job_state_t    status)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">628</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">629</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_reltime_t                    delay;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">630</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">631</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">632</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(request-&gt;status != status)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">633</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">634</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_job_manager_request_set_status(request, status);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">635</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        request-&gt;unsent_status_change = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">636</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">637</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">638</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    GlobusTimeReltimeSet(delay, 0, 0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">639</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">640</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    rc = globus_gram_job_manager_state_machine_register(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">641</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">642</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">643</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &amp;delay);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">644</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">645</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">646</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">647</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* local_globus_set_status() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">648</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">649</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">650</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">651</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Modified job_contact in place to remove the port.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">652</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">653</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static void job_contact_strip_port(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">654</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char * job_contact)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">655</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">656</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char * first_end;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">657</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char * second_begin;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">658</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">659</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( job_contact == 0 )</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">660</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">661</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">662</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    first_end = strrchr( job_contact, &#39;:&#39; );</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">663</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( first_end == 0 ) /* malformed job_contact? */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">664</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">665</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">666</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    second_begin = strchr( first_end, &#39;/&#39; );</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">667</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( second_begin == 0 ) /* malformed job_contact? */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">668</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">669</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">670</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    memmove(first_end, second_begin, strlen(second_begin) + 1);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">671</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">672</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">673</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">674</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">675</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">676</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Try to poll status of job request using Condor grid_manager_monitor_agent</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">677</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">678</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * If the Condor grid_manager_monitor_agent is running on the machine, this</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">679</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * function retrieve job request status using that, otherwise it fails. </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">680</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Expected to be called exclusively from globus_gram_job_manager_script_poll.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">681</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">682</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">683</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_poll_fast(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">684</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *    request)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">685</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">686</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int i;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">687</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    char * grid_monitor_output = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">688</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    char * grid_monitor_files[3] = { NULL, NULL, NULL };</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">689</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                /* Path is $GLOBUS_LOCATION/GRID_MONITOR_LOCATION$UID */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">690</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    const char * GRID_MONITOR_LOCATION_1 = &quot;/tmp/grid_manager_monitor_agent_log.&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">691</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    const char * GRID_MONITOR_LOCATION_2 = &quot;/tmp/gram_job_state/grid_manager_monitor_agent_log.&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">692</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    const char * WHITESPACE = &quot; \t&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">693</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    uid_t this_uid = geteuid();</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">694</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    struct stat stat_results;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">695</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    FILE * grid_monitor_file = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">696</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">697</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    time_t MAX_MONITOR_FILE_AGE = (60*5); /* seconds */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">698</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char line[1024];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">699</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char line_job_contact[1024];</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">700</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    int return_val = GLOBUS_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">701</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    time_t status_file_last_update = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">702</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    char * job_contact_match = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">703</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">704</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( ! request ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">705</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        ! request-&gt;config-&gt;globus_location ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">706</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        !request-&gt;job_contact)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">707</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">708</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">709</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">710</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">711</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(this_uid &gt; 999999)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">712</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">713</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* UIDs this large are unlikely, but if they occur the buffer</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">714</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * isn&#39;t large enough to handle it</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">715</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">716</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">717</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">718</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">719</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* The grid monitor&#39;s job status file can be in one of two places.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">720</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * We want to check both.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">721</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">722</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    grid_monitor_files[0] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">723</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;%s%s%d&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">724</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;config-&gt;globus_location,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">725</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GRID_MONITOR_LOCATION_1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">726</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            (int)this_uid);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">727</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( ! grid_monitor_files[0])</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">728</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">729</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">730</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">731</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">732</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    grid_monitor_files[1] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">733</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;%s%s%d&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">734</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;config-&gt;globus_location,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">735</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GRID_MONITOR_LOCATION_2,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">736</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            (int)this_uid);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">737</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( ! grid_monitor_files[1])</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">738</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">739</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">740</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">741</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">742</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    for ( i = 0; grid_monitor_files[i]; i++ )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">743</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">744</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        grid_monitor_output = grid_monitor_files[i];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">745</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">746</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        grid_monitor_file = fopen(grid_monitor_output, &quot;r&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">747</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">748</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if( ! grid_monitor_file )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">749</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">750</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            /* No monitor file?  That&#39;s acceptable, silently fail */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">751</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">752</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">753</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">754</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = stat(grid_monitor_output, &amp;stat_results);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">755</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if( rc != 0 ) {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">756</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            fclose(grid_monitor_file);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">757</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            grid_monitor_file = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">758</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">759</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">760</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">761</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if(stat_results.st_uid != this_uid || !S_ISREG(stat_results.st_mode))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">762</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">763</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            fclose(grid_monitor_file);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">764</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            grid_monitor_file = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">765</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">766</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">767</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">768</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if( (stat_results.st_mtime + MAX_MONITOR_FILE_AGE) &lt; time(NULL) )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">769</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">770</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            fclose(grid_monitor_file);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">771</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            grid_monitor_file = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">772</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">773</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">774</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">775</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">776</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">777</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if ( grid_monitor_file == NULL ) {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">778</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">779</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">780</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">781</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* If we got this far, we&#39;ve decided we trust the file */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">782</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">783</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Read the first line, which is two timestamps as seconds since epoch.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">784</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * The first one is start time of last query pass, the second is finish. */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">785</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( ! fgets(line, sizeof(line), grid_monitor_file) )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">786</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">787</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">788</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">789</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( ! feof(grid_monitor_file) &amp;&amp; line[strlen(line) - 1] != &#39;\n&#39;)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">790</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">791</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">792</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">793</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">794</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    status_file_last_update = atoi(line);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">795</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(status_file_last_update &lt; request-&gt;status_update_time) {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">796</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* We somehow got a status update more recent than the status file.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">797</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * Most likely we successfully executed a traditional poll faster than</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">798</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * the status script processed things.  This status file is fresh</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">799</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * enough, so we should switch over to using that, we want to avoid</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">800</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * firing off a traditional poll.  So, leave the existing status in</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">801</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * place and report a successful poll. */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">802</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        local_globus_set_status(request, request-&gt;status);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">803</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return_val = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">804</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">805</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">806</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">807</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    job_contact_match = malloc(strlen(request-&gt;job_contact) + 1);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">808</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    strcpy(job_contact_match, request-&gt;job_contact);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">809</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    job_contact_strip_port(job_contact_match);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">810</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">811</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* TODO: First pass.  Improve with binary search of file to make</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">812</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * scanning large files fast. Still this is probably plenty fast</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">813</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * enough for fairly large runs. */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">814</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    while( 1 )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">815</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">816</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        size_t len = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">817</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        char * line_bit = line;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">818</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if( ! fgets(line, sizeof(line), grid_monitor_file) )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">819</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">820</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            /* end of file (or error), job isn&#39;t in file.  It might just not</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">821</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">             * have been noticed yet.  Silently skip */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">822</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">823</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">824</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if( ! feof(grid_monitor_file) &amp;&amp; line[strlen(line) - 1] != &#39;\n&#39;)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">825</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">826</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">827</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">828</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">829</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        len = strcspn(line_bit, WHITESPACE);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">830</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if(len == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">831</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">832</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">833</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">834</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">835</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* So long as sizeof(line_job_contact) == sizeof(line),</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">836</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * this is safe */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">837</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        memcpy(line_job_contact, line, len);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">838</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        line_job_contact[len] = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">839</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        job_contact_strip_port(line_job_contact);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">840</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">841</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if( strcmp(line_job_contact, job_contact_match) != 0 )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">842</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">843</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">844</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">845</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">846</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        line_bit += len;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">847</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">848</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        len = strspn(line_bit, WHITESPACE);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">849</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if(len == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">850</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">851</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">852</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">853</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">854</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        line_bit += len;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">855</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">856</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* Found exact match, read status */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">857</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        len = strspn(line_bit, &quot;0123456789&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">858</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if(len == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">859</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">860</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            /* No digits!? */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">861</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto FAST_POLL_EXIT_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">862</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">863</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">864</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        local_globus_set_status(request, atoi(line_bit));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">865</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">866</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return_val = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">867</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto FAST_POLL_EXIT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">868</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">869</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">870</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">FAST_POLL_EXIT_FAILURE:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">871</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return_val = GLOBUS_FAILURE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">872</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">873</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">FAST_POLL_EXIT:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">874</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(grid_monitor_file) </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">875</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        fclose(grid_monitor_file);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">876</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    for ( i = 0; grid_monitor_files[i]; i++ ) {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">877</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        free(grid_monitor_files[i]);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">878</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">879</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( job_contact_match )</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">880</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        free(job_contact_match);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">881</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">882</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return return_val;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">883</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">884</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_poll_fast() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">885</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">886</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">887</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Poll the status of a job request.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">888</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">889</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function invokes a scheduler-specific program to determine</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">890</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * the current status of the job request. The job status field of</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">891</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * the requst structure will be updated with the new status.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">892</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">893</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param request</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">894</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The request containing the job description.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">895</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @return GLOBUS_GRAM_JOBMANAGER_STATUS_UNCHANGED or</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">896</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * GLOBUS_GRAM_JOBMANAGER_STATUS_CHANGED depending whether the job status</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">897</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * is the same as the result from the value of request&#39;s status field. This</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">898</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * field will be updated if the job&#39;s status has changed.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">899</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">900</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">901</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_poll(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">902</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">903</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">904</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    char *                              script_cmd = &quot;poll&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">905</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">906</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">907</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    rc = globus_l_gram_request_validate(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">908</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">909</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">910</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">911</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">912</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">913</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Keep the state file&#39;s timestamp up to date so that</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">914</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * anything scrubbing the state files of old and dead</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">915</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * processes leaves it alone</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">916</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */ </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">917</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(request-&gt;job_state_file)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">918</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">919</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        utime(request-&gt;job_state_file, NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">920</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">921</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">922</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">923</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if( globus_gram_job_manager_script_poll_fast(request) == GLOBUS_SUCCESS )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">924</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">925</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return(GLOBUS_SUCCESS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">926</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">927</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">928</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">929</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">930</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">931</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_job_manager_default_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">932</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">933</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">934</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">935</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">936</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">937</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">938</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">939</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">940</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return(GLOBUS_SUCCESS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">941</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">942</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_poll() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">943</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">944</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">945</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Cancel a GRAM job.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">946</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">947</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function invokes a scheduler-specific program which cancels the</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">948</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * job.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">949</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">950</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param request</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">951</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The job request containing information about the job to be cancelled.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">952</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">953</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">954</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_cancel(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">955</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">956</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_query_t *   query)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">957</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">958</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    char *                              script_cmd = &quot;cancel&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">959</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">960</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">961</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_request_validate(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">962</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">963</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">964</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">965</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">966</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">967</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">968</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">969</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">970</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_job_manager_query_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">971</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                query,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">972</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">973</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">974</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">975</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">976</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">977</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">978</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">979</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    return(GLOBUS_SUCCESS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">980</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">981</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_cancel() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">982</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">983</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">984</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Send a signal to a job scheduler</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">985</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">986</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param request</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">987</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The job request containing information about the job to</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">988</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        signal. The signal and signal_arg data are used by</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">989</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        this function.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">990</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">991</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">992</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_signal(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">993</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">994</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_query_t *   query)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">995</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">996</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    char *                              script_cmd = &quot;signal&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">997</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">998</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">999</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    rc = globus_l_gram_request_validate(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1000</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1001</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1002</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1003</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1004</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1005</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1006</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1007</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * add the signal and signal_arg to the script arg file</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1008</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1009</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1010</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1011</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1012</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_job_manager_query_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1013</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                query,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1014</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;signal&quot;, &#39;d&#39;, query-&gt;signal,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1015</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;signalarg&quot;, &#39;s&#39;, query-&gt;signal_arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1016</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1017</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1018</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    if(rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1019</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1020</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1021</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1022</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    return(GLOBUS_SUCCESS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1023</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1024</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_signal() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1025</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1026</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1027</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_stage_in(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1028</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1029</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1030</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">    char *                              script_cmd = &quot;stage_in&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1031</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1032</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1033</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_request_validate(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1034</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1035</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1036</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1037</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1038</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1039</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1040</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1041</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1042</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_job_manager_default_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1043</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1044</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1045</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1046</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1047</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1048</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1049</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1050</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1051</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">    return(GLOBUS_SUCCESS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1052</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1053</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_stage_in() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1054</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1055</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1056</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_stage_out(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1057</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1058</td>
          <td class="coverageCount">78</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1059</td>
          <td class="coverageCount">78</td>
          <td class="srcCell"><span class="srcLine">    char *                              script_cmd = &quot;stage_out&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1060</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1061</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1062</td>
          <td class="coverageCount">78</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_request_validate(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1063</td>
          <td class="coverageCount">78</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1064</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1065</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1066</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1067</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1068</td>
          <td class="coverageCount">78</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_job_manager_script_run(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1069</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1070</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                script_cmd,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1071</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_job_manager_default_done,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1072</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1073</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1074</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1075</td>
          <td class="coverageCount">78</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1076</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1077</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_stage_out() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1078</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1079</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1080</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Completion callback for done and poll scripts.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1081</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1082</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This is called when a line of output containing a variable:value</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1083</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * pair is read from the script&#39;s execution.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1084</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1085</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1086</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1087</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_default_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1088</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1089</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1090</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1091</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 starting_jobmanager_state,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1092</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        variable,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1093</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        value)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1094</td>
          <td class="coverageCount">3620</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1095</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 script_status;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1096</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1097</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1098</td>
          <td class="coverageCount">3620</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerRequestLock(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1099</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1100</td>
          <td class="coverageCount">3620</td>
          <td class="srcCell"><span class="srcLine">    if(failure_code)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1101</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1102</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        request-&gt;failure_code = failure_code;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1103</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1104</td>
          <td class="coverageCount">3620</td>
          <td class="srcCell"><span class="srcLine">    if(!variable)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1105</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1106</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        globus_reltime_t delay;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1107</td>
          <td class="coverageCount">189</td>
          <td class="srcCell"><span class="srcLine">        GlobusTimeReltimeSet(delay, 0, 0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1108</td>
          <td class="coverageCount">189</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_gram_job_manager_state_machine_register(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1109</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1110</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1111</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &amp;delay);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1112</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1113</td>
          <td class="coverageCount">3431</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_JOB_STATE&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1114</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1115</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">        script_status = atoi(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1116</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1117</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">        if(script_status &lt; 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1118</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1119</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            request-&gt;failure_code = </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1120</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1121</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1122</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">        else if(globus_i_gram_job_manager_script_valid_state_change(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1123</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request, script_status))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1124</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1125</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            if ((script_status == GLOBUS_GRAM_PROTOCOL_JOB_STATE_DONE) &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1126</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    globus_gram_job_manager_rsl_need_stage_out(request))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1127</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1128</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                globus_gram_job_manager_request_set_status(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1129</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1130</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        GLOBUS_GRAM_PROTOCOL_JOB_STATE_STAGE_OUT);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1131</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1132</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1133</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1134</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">                globus_gram_job_manager_request_set_status(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1135</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1136</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        script_status);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1137</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1138</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;unsent_status_change = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1139</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1140</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1141</td>
          <td class="coverageCount">3338</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_ERROR&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1142</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1143</td>
          <td class="coverageCount">14</td>
          <td class="srcCell"><span class="srcLine">        script_status = atoi(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1144</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1145</td>
          <td class="coverageCount">14</td>
          <td class="srcCell"><span class="srcLine">        if(request-&gt;jobmanager_state == starting_jobmanager_state)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1146</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1147</td>
          <td class="coverageCount">14</td>
          <td class="srcCell"><span class="srcLine">            globus_gram_job_manager_request_set_status(request, GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1148</td>
          <td class="coverageCount">14</td>
          <td class="srcCell"><span class="srcLine">            if(script_status &lt;= 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1149</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1150</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                request-&gt;failure_code = </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1151</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1152</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1153</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1154</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1155</td>
          <td class="coverageCount">14</td>
          <td class="srcCell"><span class="srcLine">                request-&gt;failure_code = script_status;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1156</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1157</td>
          <td class="coverageCount">14</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;unsent_status_change = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1158</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1159</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1160</td>
          <td class="coverageCount">3324</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_JOB_ID&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1161</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1162</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">        if(value != NULL &amp;&amp; strlen(value) &gt; 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1163</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1164</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;job_id_string = strdup(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1165</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;original_job_id_string = strdup(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1166</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1167</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1168</td>
          <td class="coverageCount">3231</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_JOB_ACCT_INFO&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1169</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1170</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if(value != NULL &amp;&amp; strlen(value) &gt; 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1171</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1172</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            const char *gk_jm_id_var = &quot;GATEKEEPER_JM_ID&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1173</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            const char *gk_jm_id = globus_libc_getenv(gk_jm_id_var);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1174</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            const char *v = value;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1175</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            char *buf = malloc(strlen(value) + 1);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1176</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            char *b = buf;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1177</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            char c;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1178</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1179</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            while ((*b++ = ((c = *v++) != &#39;\\&#39;) ? c :</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1180</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                           ((c = *v++) != &#39;n&#39; ) ? c : &#39;\n&#39;))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1181</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1182</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1183</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1184</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_request_acct(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1185</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request, &quot;%s %s summary:\n%s\nJMA -- end of summary\n&quot;, gk_jm_id_var,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1186</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                gk_jm_id ? gk_jm_id : &quot;none&quot;, buf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1187</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1188</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            free(buf);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1189</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1190</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1191</td>
          <td class="coverageCount">3231</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_SCRATCH_DIR&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1192</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1193</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        request-&gt;scratchdir = strdup(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1194</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1195</td>
          <td class="coverageCount">3231</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_STAGED_IN&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1196</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1197</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">        globus_l_gram_job_manager_script_staged_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1198</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1199</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_JOB_MANAGER_STAGE_IN,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1200</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1201</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1202</td>
          <td class="coverageCount">3227</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_STAGED_IN_SHARED&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1203</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1204</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">        globus_l_gram_job_manager_script_staged_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1205</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1206</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_JOB_MANAGER_STAGE_IN_SHARED,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1207</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1208</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1209</td>
          <td class="coverageCount">3223</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_STAGED_OUT&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1210</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1211</td>
          <td class="coverageCount">44</td>
          <td class="srcCell"><span class="srcLine">        if(request-&gt;jobmanager_state == starting_jobmanager_state)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1212</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1213</td>
          <td class="coverageCount">44</td>
          <td class="srcCell"><span class="srcLine">            globus_l_gram_job_manager_script_staged_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1214</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1215</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_STAGE_OUT,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1216</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1217</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1218</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1219</td>
          <td class="coverageCount">3179</td>
          <td class="srcCell"><span class="srcLine">    else if (strcmp(variable, &quot;GRAM_SCRIPT_STAGED_STREAM&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1220</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1221</td>
          <td class="coverageCount">173</td>
          <td class="srcCell"><span class="srcLine">        if(request-&gt;jobmanager_state == starting_jobmanager_state)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1222</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1223</td>
          <td class="coverageCount">173</td>
          <td class="srcCell"><span class="srcLine">            globus_l_gram_job_manager_script_staged_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1224</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1225</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_STAGE_STREAMS,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1226</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1227</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1228</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1229</td>
          <td class="coverageCount">3006</td>
          <td class="srcCell"><span class="srcLine">    else if(strncmp(variable, &quot;GRAM_SCRIPT_GT3&quot;, 15) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1230</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1231</td>
          <td class="coverageCount">13</td>
          <td class="srcCell"><span class="srcLine">        if (request-&gt;gt3_failure_type == NULL &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1232</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            strcmp(variable, &quot;GRAM_SCRIPT_GT3_FAILURE_TYPE&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1233</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1234</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;gt3_failure_type = strdup(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1235</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1236</td>
          <td class="coverageCount">10</td>
          <td class="srcCell"><span class="srcLine">        else if (request-&gt;gt3_failure_message == NULL &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1237</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            strcmp(variable, &quot;GRAM_SCRIPT_GT3_FAILURE_MESSAGE&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1238</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1239</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;gt3_failure_message = strdup(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1240</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1241</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">        else if (request-&gt;gt3_failure_source == NULL &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1242</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            strcmp(variable, &quot;GRAM_SCRIPT_GT3_FAILURE_SOURCE&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1243</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1244</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;gt3_failure_source = strdup(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1245</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1246</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">        else if (request-&gt;gt3_failure_destination == NULL &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1247</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            strcmp(variable, &quot;GRAM_SCRIPT_GT3_FAILURE_DESTINATION&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1248</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1249</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;gt3_failure_destination = strdup(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1250</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1251</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1252</td>
          <td class="coverageCount">2996</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_LOG&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1253</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1254</td>
          <td class="coverageCount">2996</td>
          <td class="srcCell"><span class="srcLine">        if (request-&gt;config-&gt;log_levels &amp; GLOBUS_GRAM_JOB_MANAGER_LOG_DEBUG)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1255</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1256</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1257</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1258</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_LOG_DEBUG,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1259</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;event=gram.script.log &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1260</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;level=DEBUG &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1261</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1262</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1263</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1264</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1265</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1266</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    else if(request-&gt;jobmanager_state == starting_jobmanager_state)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1267</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1268</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_job_manager_request_set_status(request, GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1269</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        request-&gt;failure_code = </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1270</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1271</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        request-&gt;unsent_status_change = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1272</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1273</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1274</td>
          <td class="coverageCount">3620</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerRequestUnlock(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1275</td>
          <td class="coverageCount">3620</td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1276</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_default_done() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1277</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1278</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1279</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Completion callback for query-initiated scripts</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1280</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1281</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1282</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1283</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_query_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1284</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              arg,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1285</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1286</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 failure_code,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1287</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 starting_jobmanager_state,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1288</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        variable,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1289</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        value)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1290</td>
          <td class="coverageCount">12</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1291</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 script_status;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1292</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_query_t *   query;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1293</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_reltime_t                    delay;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1294</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1295</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1296</td>
          <td class="coverageCount">12</td>
          <td class="srcCell"><span class="srcLine">    query = arg;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1297</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1298</td>
          <td class="coverageCount">12</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerRequestLock(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1299</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1300</td>
          <td class="coverageCount">12</td>
          <td class="srcCell"><span class="srcLine">    if(failure_code)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1301</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1302</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        request-&gt;failure_code = failure_code;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1303</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1304</td>
          <td class="coverageCount">12</td>
          <td class="srcCell"><span class="srcLine">    if(!variable)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1305</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1306</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">        GlobusTimeReltimeSet(delay, 0, 0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1307</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_gram_job_manager_state_machine_register(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1308</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1309</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1310</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &amp;delay);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1311</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1312</td>
          <td class="coverageCount">9</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_ERROR&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1313</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1314</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        script_status = atoi(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1315</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1316</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if(script_status &lt;= 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1317</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1318</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            query-&gt;failure_code = </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1319</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1320</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1321</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1322</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1323</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            query-&gt;failure_code = script_status;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1324</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1325</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1326</td>
          <td class="coverageCount">9</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_JOB_STATE&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1327</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1328</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">        script_status = atoi(value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1329</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1330</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">        if(script_status &lt;= 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1331</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1332</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            query-&gt;failure_code = </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1333</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1334</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1335</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">        else if((query-&gt;type == GLOBUS_GRAM_JOB_MANAGER_CANCEL ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1336</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                query-&gt;signal == GLOBUS_GRAM_PROTOCOL_JOB_SIGNAL_CANCEL) &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1337</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                (globus_i_gram_job_manager_script_valid_state_change(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1338</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request, script_status)))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1339</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1340</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">            request-&gt;unsent_status_change = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1341</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">            globus_gram_job_manager_request_set_status(request, script_status);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1342</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">            if(request-&gt;status == GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1343</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1344</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">                request-&gt;failure_code =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1345</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_PROTOCOL_ERROR_USER_CANCELLED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1346</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">                query-&gt;failure_code =</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1347</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_PROTOCOL_ERROR_USER_CANCELLED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1348</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1349</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1350</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        else if((query-&gt;signal == GLOBUS_GRAM_PROTOCOL_JOB_SIGNAL_SUSPEND ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1351</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                query-&gt;signal == GLOBUS_GRAM_PROTOCOL_JOB_SIGNAL_RESUME) &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1352</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_i_gram_job_manager_script_valid_state_change(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1353</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                                 request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1354</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                                 script_status))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1355</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1356</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1357</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_request_set_status(request, script_status);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1358</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            request-&gt;unsent_status_change = GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1359</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1360</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1361</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">    else if(strcmp(variable, &quot;GRAM_SCRIPT_LOG&quot;) == 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1362</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1363</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">        if (request-&gt;config-&gt;log_levels &amp; GLOBUS_GRAM_JOB_MANAGER_LOG_DEBUG)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1364</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1365</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1366</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1367</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_LOG_DEBUG,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1368</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;event=gram.script.log &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1369</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;level=DEBUG &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1370</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1371</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1372</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1373</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1374</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1375</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1376</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1377</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        query-&gt;failure_code = </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1378</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_PROTOCOL_ERROR_INVALID_SCRIPT_STATUS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1379</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1380</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1381</td>
          <td class="coverageCount">12</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerRequestUnlock(request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1382</td>
          <td class="coverageCount">12</td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1383</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_default_done() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1384</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1385</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1386</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1387</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_rsl_value(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1388</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1389</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_rsl_value_t *                globus_rsl_value_ptr)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1390</td>
          <td class="coverageCount">15721</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1391</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_rsl_value_t *                tmp_rsl_value_ptr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1392</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *                     tmp_rsl_list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1393</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              prepared;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1394</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              tmp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1395</td>
          <td class="coverageCount">15721</td>
          <td class="srcCell"><span class="srcLine">    int                                 rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1396</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1397</td>
          <td class="coverageCount">15721</td>
          <td class="srcCell"><span class="srcLine">    if (globus_rsl_value_ptr==NULL) return(0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1398</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1399</td>
          <td class="coverageCount">15721</td>
          <td class="srcCell"><span class="srcLine">    switch (globus_rsl_value_ptr-&gt;type)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1400</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1401</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_RSL_VALUE_LITERAL:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1402</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            rc = globus_l_gram_enqueue_string(fifo, &quot;&#39;&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1403</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            tmp = globus_rsl_value_literal_get_string(globus_rsl_value_ptr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1404</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            prepared = globus_l_gram_job_manager_script_prepare_param(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1405</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        tmp);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1406</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            if (!prepared)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1407</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1408</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1409</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1410</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                goto prepare_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1411</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1412</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1413</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            rc = globus_fifo_enqueue(fifo, prepared);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1414</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1415</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1416</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1417</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(prepared);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1418</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1419</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                goto enqueue_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1420</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1421</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            rc = globus_l_gram_enqueue_string(fifo, &quot;&#39;&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1422</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1423</td>
          <td class="coverageCount">9599</td>
          <td class="srcCell"><span class="srcLine">            break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1424</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1425</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_RSL_VALUE_SEQUENCE:</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1426</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1427</td>
          <td class="coverageCount">6122</td>
          <td class="srcCell"><span class="srcLine">            tmp_rsl_list = globus_rsl_value_sequence_get_value_list(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1428</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    globus_rsl_value_ptr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1429</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1430</td>
          <td class="coverageCount">6122</td>
          <td class="srcCell"><span class="srcLine">            rc = globus_l_gram_enqueue_string(fifo, &quot;[&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1431</td>
          <td class="coverageCount">6122</td>
          <td class="srcCell"><span class="srcLine">            if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1432</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1433</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                goto enqueue_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1434</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1435</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1436</td>
          <td class="coverageCount">25581</td>
          <td class="srcCell"><span class="srcLine">            while (! globus_list_empty(tmp_rsl_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1437</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1438</td>
          <td class="coverageCount">13337</td>
          <td class="srcCell"><span class="srcLine">                tmp_rsl_value_ptr = (globus_rsl_value_t *) globus_list_first</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1439</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                     (tmp_rsl_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1440</td>
          <td class="coverageCount">13337</td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_enqueue_rsl_value(fifo, tmp_rsl_value_ptr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1441</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1442</td>
          <td class="coverageCount">13337</td>
          <td class="srcCell"><span class="srcLine">                tmp_rsl_list = globus_list_rest(tmp_rsl_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1443</td>
          <td class="coverageCount">13337</td>
          <td class="srcCell"><span class="srcLine">                if(!globus_list_empty(tmp_rsl_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1444</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1445</td>
          <td class="coverageCount">7215</td>
          <td class="srcCell"><span class="srcLine">                    rc = globus_l_gram_enqueue_string(fifo, &quot;,&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1446</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1447</td>
          <td class="coverageCount">7215</td>
          <td class="srcCell"><span class="srcLine">                    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1448</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1449</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                        goto enqueue_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1450</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1451</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1452</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1453</td>
          <td class="coverageCount">6122</td>
          <td class="srcCell"><span class="srcLine">            rc = globus_l_gram_enqueue_string(fifo, &quot;] &quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1454</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1455</td>
          <td class="coverageCount">6122</td>
          <td class="srcCell"><span class="srcLine">            if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1456</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1457</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                goto enqueue_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1458</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1459</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1460</td>
          <td class="coverageCount">6122</td>
          <td class="srcCell"><span class="srcLine">            break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1461</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1462</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_RSL_VALUE_VARIABLE:</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1463</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_RSL_VALUE_CONCATENATION:</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1464</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        default:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1465</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            rc = GLOBUS_GRAM_PROTOCOL_ERROR_BAD_RSL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1466</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1467</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1468</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1469</td>
          <td class="coverageCount">15721</td>
          <td class="srcCell"><span class="srcLine">enqueue_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1470</td>
          <td class="coverageCount">15721</td>
          <td class="srcCell"><span class="srcLine">prepare_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1471</td>
          <td class="coverageCount">15721</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1472</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1473</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_enqueue_rsl_value() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1474</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1475</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1476</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1477</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_rsl(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1478</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1479</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_rsl_t *                      ast_node)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1480</td>
          <td class="coverageCount">2787</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1481</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *                     tmp_rsl_list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1482</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_rsl_t *                      tmp_rsl_ptr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1483</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1484</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1485</td>
          <td class="coverageCount">2787</td>
          <td class="srcCell"><span class="srcLine">    if (globus_rsl_is_boolean(ast_node))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1486</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1487</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        tmp_rsl_list = globus_rsl_boolean_get_operand_list(ast_node);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1488</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1489</td>
          <td class="coverageCount">2979</td>
          <td class="srcCell"><span class="srcLine">        while (! globus_list_empty(tmp_rsl_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1490</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1491</td>
          <td class="coverageCount">2595</td>
          <td class="srcCell"><span class="srcLine">            tmp_rsl_ptr = (globus_rsl_t *) globus_list_first</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1492</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                 (tmp_rsl_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1493</td>
          <td class="coverageCount">2595</td>
          <td class="srcCell"><span class="srcLine">            rc = globus_l_gram_enqueue_rsl(fifo, tmp_rsl_ptr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1494</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1495</td>
          <td class="coverageCount">2595</td>
          <td class="srcCell"><span class="srcLine">            tmp_rsl_list = globus_list_rest(tmp_rsl_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1496</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1497</td>
          <td class="coverageCount">2595</td>
          <td class="srcCell"><span class="srcLine">            if(!globus_list_empty(tmp_rsl_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1498</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1499</td>
          <td class="coverageCount">2403</td>
          <td class="srcCell"><span class="srcLine">                rc = globus_l_gram_enqueue_string(fifo, &quot;,\n&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1500</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1501</td>
          <td class="coverageCount">2595</td>
          <td class="srcCell"><span class="srcLine">            if(rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1502</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1503</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1504</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1505</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1506</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1507</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1508</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1509</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* Skip these, as they will be over-ridden by the todo lists */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1510</td>
          <td class="coverageCount">2595</td>
          <td class="srcCell"><span class="srcLine">        if((strcmp(globus_rsl_relation_get_attribute(ast_node),</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1511</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;filestagein&quot;) == 0) ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1512</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">           (strcmp(globus_rsl_relation_get_attribute(ast_node),</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1513</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;filestageinshared&quot;) == 0) ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1514</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">           (strcmp(globus_rsl_relation_get_attribute(ast_node),</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1515</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;filestageout&quot;) == 0) ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1516</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">           (strcmp(globus_rsl_relation_get_attribute(ast_node),</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1517</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;filestreamout&quot;) == 0))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1518</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1519</td>
          <td class="coverageCount">211</td>
          <td class="srcCell"><span class="srcLine">            return 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1520</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1521</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                  </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1522</td>
          <td class="coverageCount">2384</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1523</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1524</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;    &#39;%s&#39; =&gt; &quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1525</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_rsl_relation_get_attribute(ast_node));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1526</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1527</td>
          <td class="coverageCount">2384</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_enqueue_rsl_value(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1528</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1529</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_rsl_relation_get_value_sequence(ast_node));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1530</td>
          <td class="coverageCount">2384</td>
          <td class="srcCell"><span class="srcLine">        if(rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1531</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1532</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1533</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1534</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1535</td>
          <td class="coverageCount">2576</td>
          <td class="srcCell"><span class="srcLine">    return 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1536</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1537</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_enqueue_rsl() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1538</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1539</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1540</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1541</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_description(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1542</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1543</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1544</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    va_list                             ap)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1545</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1546</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              attribute;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1547</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char                                format;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1548</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              string_value;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1549</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 int_value;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1550</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              prepared;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1551</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1552</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1553</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1554</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1555</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;$ENV{X509_USER_PROXY} = &#39;%s&#39;;\n&quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1556</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;$ENV{GLOBUS_GRAM_JOB_CONTACT} = &#39;%s&#39;;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1557</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;x509_user_proxy,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1558</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;job_contact);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1559</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1560</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1561</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1562</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;$description =\n{\n&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1563</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1564</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_l_gram_enqueue_rsl(fifo, request-&gt;rsl);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1565</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1566</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Other non-rsl or rsl-override attributes */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1567</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    for (attribute = va_arg(ap, char *);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1568</td>
          <td class="coverageCount">384</td>
          <td class="srcCell"><span class="srcLine">         attribute != NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1569</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          attribute = va_arg(ap, char *))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1570</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1571</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        format = (char) va_arg(ap, int);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1572</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1573</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        switch(format)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1574</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1575</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          case &#39;s&#39;:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1576</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            string_value = va_arg(ap, char *);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1577</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if(string_value)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1578</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1579</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                prepared = globus_l_gram_job_manager_script_prepare_param(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1580</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        string_value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1581</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1582</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1583</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1584</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        &quot;,\n    &#39;%s&#39; =&gt; [ &#39;%s&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1585</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        attribute,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1586</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        prepared);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1587</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(prepared);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1588</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1589</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1590</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1591</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          case &#39;i&#39;:</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1592</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          case &#39;d&#39;:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1593</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            int_value = va_arg(ap, int);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1594</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1595</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1596</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;,\n    &#39;%s&#39; =&gt; [ &#39;%d&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1597</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    attribute,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1598</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    int_value);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1599</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1600</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1601</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1602</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1603</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(request-&gt;uniq_id)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1604</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1605</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1606</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1607</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;,\n    &#39;uniqid&#39; =&gt; [ &#39;%s&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1608</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;uniq_id);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1609</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1610</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(request-&gt;job_id_string)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1611</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1612</td>
          <td class="coverageCount">81</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1613</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1614</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;,\n    &#39;jobid&#39; =&gt; [ &#39;%s&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1615</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;job_id_string);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1616</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1617</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(request-&gt;cache_tag)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1618</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1619</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1620</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1621</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;,\n    &#39;cachetag&#39; =&gt; [ &#39;%s&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1622</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;cache_tag);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1623</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1624</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(request-&gt;config-&gt;condor_os)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1625</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1626</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1627</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1628</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;,\n    &#39;condoros&#39; =&gt; [ &#39;%s&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1629</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;config-&gt;condor_os);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1630</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1631</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(request-&gt;config-&gt;condor_arch)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1632</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1633</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1634</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1635</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;,\n    &#39;condorarch&#39; =&gt; [ &#39;%s&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1636</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;config-&gt;condor_arch);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1637</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1638</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (request-&gt;job_dir)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1639</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1640</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1641</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1642</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;,\n    &#39;jobdir&#39; =&gt; [ &#39;%s&#39; ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1643</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;job_dir);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1644</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1645</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1646</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1647</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1648</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;,\n    &#39;streamingdisabled&#39; =&gt; [ %d ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1649</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;config-&gt;streaming_disabled);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1650</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1651</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1652</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;,\n    &#39;streamingrequested&#39; =&gt; [ %d ]&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1653</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;streaming_requested );</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1654</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1655</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_staging_list(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1656</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1657</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1658</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_STAGE_IN);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1659</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_staging_list(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1660</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1661</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1662</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_STAGE_IN_SHARED);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1663</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_staging_list(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1664</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1665</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1666</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_STAGE_OUT);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1667</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_staging_list(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1668</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1669</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1670</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_STAGE_STREAMS);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1671</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1672</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1673</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1674</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;\n};\n&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1675</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1676</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1677</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1678</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_enqueue_description() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1679</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1680</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1681</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Escape single quotes within a string</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1682</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1683</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param param</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1684</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        Original string to be escaped</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1685</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1686</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1687</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">char *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1688</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_prepare_param(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1689</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        param)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1690</td>
          <td class="coverageCount">10555</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1691</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 i;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1692</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 j;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1693</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              new_param;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1694</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1695</td>
          <td class="coverageCount">10555</td>
          <td class="srcCell"><span class="srcLine">    if (param == NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1696</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1697</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1698</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1699</td>
          <td class="coverageCount">10555</td>
          <td class="srcCell"><span class="srcLine">    new_param = malloc(strlen(param)*2+1);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1700</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1701</td>
          <td class="coverageCount">242417</td>
          <td class="srcCell"><span class="srcLine">    for (i = 0, j = 0; param[i] != &#39;\0&#39;; i++)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1702</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1703</td>
          <td class="coverageCount">231862</td>
          <td class="srcCell"><span class="srcLine">        if(param[i] == &#39;\\&#39; )</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1704</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1705</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">           new_param[j++] = &#39;\\&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1706</td>
          <td class="coverageCount">6</td>
          <td class="srcCell"><span class="srcLine">           new_param[j++] = &#39;\\&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1707</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1708</td>
          <td class="coverageCount">231856</td>
          <td class="srcCell"><span class="srcLine">        else if (param[i] == &#39;\&#39;&#39;)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1709</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1710</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">           new_param[j++] = &#39;\\&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1711</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">           new_param[j++] = &#39;\&#39;&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1712</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1713</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1714</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1715</td>
          <td class="coverageCount">231853</td>
          <td class="srcCell"><span class="srcLine">           new_param[j++] = param[i];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1716</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1717</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1718</td>
          <td class="coverageCount">10555</td>
          <td class="srcCell"><span class="srcLine">    new_param[j] = &#39;\0&#39;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1719</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1720</td>
          <td class="coverageCount">10555</td>
          <td class="srcCell"><span class="srcLine">    return new_param;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1721</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1722</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_script_prepare_param() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1723</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1724</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1725</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Validate that the job manager is properly configured.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1726</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1727</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * This function validates the job scripts needed to handle this job</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1728</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * request exist and are executable.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1729</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1730</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param request</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1731</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        The job request we are submitting. This is used to check</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1732</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        that the job manager type is supported by this installation</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1733</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *        of the job manager, and for logging.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1734</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1735</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1736</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * The job manager is able to submit the job request to the appropriate</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1737</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * scripts.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1738</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_FAILURE</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1739</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * The job manager is unable to submit the job request; the request</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1740</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * failure code will be updated with the reason why the job couldn&#39;t be</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1741</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * submitted.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1742</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1743</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1744</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1745</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_request_validate(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1746</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1747</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1748</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    struct stat                         statbuf;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1749</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char                                script_path[512];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1750</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              location;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1751</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    int                                 rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1752</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1753</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1754</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1755</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_LOG_TRACE,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1756</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;event=gram.request_validate.start &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1757</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;level=TRACE &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1758</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1759</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1760</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;job_contact_path);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1761</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1762</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_assert(request-&gt;config-&gt;jobmanager_type);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1763</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(request-&gt;rsl == NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1764</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1765</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return GLOBUS_GRAM_PROTOCOL_ERROR_BAD_RSL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1766</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1767</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1768</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(globus_location(&amp;location) != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1769</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1770</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        return GLOBUS_GRAM_PROTOCOL_ERROR_JM_SCRIPT_NOT_FOUND;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1771</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1772</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">   /*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1773</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    * test that the scheduler script files exist and</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1774</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    * that the user has permission to execute then.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1775</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1776</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1777</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">   /*---------------- job manager script -----------------*/</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1778</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">   sprintf(script_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1779</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">           &quot;%s/libexec/globus-job-manager-script.pl&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1780</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">           request-&gt;config-&gt;globus_location);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1781</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1782</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (stat(script_path, &amp;statbuf) != 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1783</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1784</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_JM_SCRIPT_NOT_FOUND;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1785</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1786</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1787</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1788</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_JOB_MANAGER_LOG_ERROR,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1789</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;event=gram.request_validate.end &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1790</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;level=ERROR &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1791</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1792</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;path=\&quot;%s/libexec/globus-job-manager-script.pl\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1793</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;msg=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1794</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;status=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1795</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;errno=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1796</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;reason=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1797</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1798</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1799</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;config-&gt;globus_location,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1800</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;Script status failed&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1801</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                -rc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1802</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                errno,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1803</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                strerror(errno));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1804</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1805</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto free_location_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1806</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">   }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1807</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1808</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">   if (!(statbuf.st_mode &amp; 0111))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1809</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">   {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1810</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">       rc = GLOBUS_GRAM_PROTOCOL_ERROR_JM_SCRIPT_PERMISSIONS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1811</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1812</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1813</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1814</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_JOB_MANAGER_LOG_ERROR,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1815</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;event=gram.request_validate.end &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1816</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;level=ERROR &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1817</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1818</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;path=\&quot;%s/libexec/globus-job-manager-script.pl\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1819</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;msg=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1820</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;status=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1821</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1822</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1823</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;config-&gt;globus_location,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1824</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;Script not executable&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1825</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                -rc);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1826</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1827</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">       goto free_location_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1828</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">   }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1829</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1830</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">   /*</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1831</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    * Verify existence/executableness of scheduler specific script.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1832</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1833</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    sprintf(script_path, &quot;%s/lib/perl/Globus/GRAM/JobManager/%s.pm&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1834</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        location,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1835</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                        request-&gt;config-&gt;jobmanager_type);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1836</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1837</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if(stat(script_path, &amp;statbuf) != 0)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1838</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1839</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_JM_SCRIPT_NOT_FOUND;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1840</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1841</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1842</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1843</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_JOB_MANAGER_LOG_ERROR,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1844</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;event=gram.request_validate.end &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1845</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;level=ERROR &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1846</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1847</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;path=\&quot;%s/lib/perl/Globus/GRAM/JobManager/%s.pm\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1848</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;msg=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1849</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;status=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1850</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;errno=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1851</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;reason=\&quot;%s\&quot; &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1852</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1853</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1854</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;config-&gt;globus_location,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1855</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request-&gt;config-&gt;jobmanager_type,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1856</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;Script status failed&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1857</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                -rc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1858</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                errno,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1859</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                strerror(errno));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1860</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        </span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1861</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto free_location_exit;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1862</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1863</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1864</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_request_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1865</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1866</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_LOG_TRACE,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1867</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;event=gram.request_validate.end &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1868</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;level=TRACE &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1869</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;gramid=%s &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1870</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;status=%d\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1871</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request-&gt;job_contact_path,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1872</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1873</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1874</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">free_location_exit:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1875</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    free(location);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1876</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1877</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1878</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_request_validate() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1879</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1880</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1881</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1882</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1883</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1884</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        format,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1885</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    ...)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1886</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1887</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    va_list                             ap;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1888</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              tmp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1889</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1890</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1891</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">    va_start(ap, format);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1892</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">    tmp = globus_common_v_create_string(format, ap);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1893</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">    va_end(ap);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1894</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1895</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">    if (!tmp)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1896</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1897</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1898</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1899</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto create_string_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1900</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1901</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1902</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_fifo_enqueue(fifo, tmp);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1903</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1904</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1905</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1906</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        free(tmp);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1907</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1908</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto fifo_enqueue_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1909</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1910</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1911</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">fifo_enqueue_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1912</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">create_string_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1913</td>
          <td class="coverageCount">47459</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1914</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1915</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_enqueue_string() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1916</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1917</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1918</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1919</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_enqueue_staging_list(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1920</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1921</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1922</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_staging_type_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1923</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        type)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1924</td>
          <td class="coverageCount">768</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1925</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t *                     tmp_list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1926</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              attribute;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1927</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              from;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1928</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              to;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1929</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_staging_info_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1930</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        info;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1931</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1932</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1933</td>
          <td class="coverageCount">768</td>
          <td class="srcCell"><span class="srcLine">    switch(type)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1934</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1935</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">      case GLOBUS_GRAM_JOB_MANAGER_STAGE_IN:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1936</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        tmp_list = request-&gt;stage_in_todo;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1937</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        attribute = GLOBUS_GRAM_PROTOCOL_FILE_STAGE_IN_PARAM;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1938</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1939</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">      case GLOBUS_GRAM_JOB_MANAGER_STAGE_IN_SHARED:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1940</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        tmp_list = request-&gt;stage_in_shared_todo;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1941</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        attribute = GLOBUS_GRAM_PROTOCOL_FILE_STAGE_IN_SHARED_PARAM;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1942</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1943</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">      case GLOBUS_GRAM_JOB_MANAGER_STAGE_OUT:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1944</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        tmp_list = request-&gt;stage_out_todo;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1945</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        attribute = GLOBUS_GRAM_PROTOCOL_FILE_STAGE_OUT_PARAM;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1946</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1947</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    case GLOBUS_GRAM_JOB_MANAGER_STAGE_STREAMS:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1948</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        tmp_list = request-&gt;stage_stream_todo;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1949</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        attribute = &quot;filestreamout&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1950</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        break;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1951</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1952</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    /* Always write the attribute to the script arg file, even if</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1953</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * it&#39;s empty---if we were restarted during staging, then we</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1954</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * may have files listed in the original RSL which have been staged</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1955</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     * completely.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1956</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">     */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1957</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1958</td>
          <td class="coverageCount">768</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string( fifo, &quot;,\n    &#39;%s&#39; =&gt; [&quot;, attribute);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1959</td>
          <td class="coverageCount">768</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1960</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1961</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto enqueue_string_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1962</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1963</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1964</td>
          <td class="coverageCount">2014</td>
          <td class="srcCell"><span class="srcLine">    while(!globus_list_empty(tmp_list))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1965</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1966</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        info = globus_list_first(tmp_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1967</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        tmp_list = globus_list_rest(tmp_list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1968</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        from = globus_l_gram_job_manager_script_prepare_param(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1969</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                info-&gt;evaled_from);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1970</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        to  = globus_l_gram_job_manager_script_prepare_param(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1971</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                info-&gt;evaled_to);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1972</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1973</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        rc = globus_l_gram_enqueue_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1974</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1975</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot; [&#39;%s&#39;, &#39;%s&#39;]%s&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1976</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                from,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1977</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                to,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1978</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_list_empty(tmp_list) ? &quot;\n&quot; : &quot;,\n&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1979</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1980</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        free(from);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1981</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        free(to);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1982</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1983</td>
          <td class="coverageCount">478</td>
          <td class="srcCell"><span class="srcLine">        if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1984</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1985</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto enqueue_string_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1986</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1987</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1988</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1989</td>
          <td class="coverageCount">768</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_l_gram_enqueue_string(fifo, &quot; ]&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1990</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1991</td>
          <td class="coverageCount">768</td>
          <td class="srcCell"><span class="srcLine">enqueue_string_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">1992</td>
          <td class="coverageCount">768</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1993</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1994</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_enqueue_staging_list() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1995</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1996</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1997</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1998</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">1999</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_staged_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2000</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2001</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_staging_type_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2002</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        type,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2003</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    const char *                        value)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2004</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2005</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              from;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2006</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              to;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2007</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2008</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">    from = malloc(strlen(value)+1);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2009</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">    to = malloc(strlen(value)+1);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2010</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">    sscanf(value, &quot;%s %s&quot;, from, to);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2011</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2012</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_staging_remove(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2013</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2014</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            type,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2015</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            from,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2016</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            to);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2017</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2018</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">    if(request-&gt;jobmanager_state != GLOBUS_GRAM_JOB_MANAGER_STATE_STOP)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2019</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2020</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">        globus_gram_job_manager_state_file_write(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2021</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                request);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2022</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2023</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2024</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">    free(from);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2025</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">    free(to);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2026</td>
          <td class="coverageCount">225</td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2027</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_script_staged_done() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2028</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2029</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_bool_t</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2030</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_i_gram_job_manager_script_valid_state_change(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2031</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_jobmanager_request_t *  request,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2032</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_protocol_job_state_t    new_state)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2033</td>
          <td class="coverageCount">370</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2034</td>
          <td class="coverageCount">370</td>
          <td class="srcCell"><span class="srcLine">    switch(request-&gt;status)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2035</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2036</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_PENDING:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2037</td>
          <td class="coverageCount">185</td>
          <td class="srcCell"><span class="srcLine">          if(new_state != GLOBUS_GRAM_PROTOCOL_JOB_STATE_PENDING)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2038</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2039</td>
          <td class="coverageCount">93</td>
          <td class="srcCell"><span class="srcLine">              return GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2040</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2041</td>
          <td class="coverageCount">92</td>
          <td class="srcCell"><span class="srcLine">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2042</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_ACTIVE:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2043</td>
          <td class="coverageCount">92</td>
          <td class="srcCell"><span class="srcLine">          if(new_state != GLOBUS_GRAM_PROTOCOL_JOB_STATE_PENDING &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2044</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">             new_state != GLOBUS_GRAM_PROTOCOL_JOB_STATE_ACTIVE)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2045</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2046</td>
          <td class="coverageCount">92</td>
          <td class="srcCell"><span class="srcLine">              return GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2047</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2048</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2049</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2050</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2051</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_DONE:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2052</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2053</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_SUSPENDED:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2054</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          if(new_state != GLOBUS_GRAM_PROTOCOL_JOB_STATE_PENDING &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2055</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">             new_state != GLOBUS_GRAM_PROTOCOL_JOB_STATE_SUSPENDED)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2056</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2057</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">              return GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2058</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2059</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2060</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_UNSUBMITTED:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2061</td>
          <td class="coverageCount">88</td>
          <td class="srcCell"><span class="srcLine">          if(new_state != GLOBUS_GRAM_PROTOCOL_JOB_STATE_UNSUBMITTED)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2062</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2063</td>
          <td class="coverageCount">88</td>
          <td class="srcCell"><span class="srcLine">              return GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2064</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2065</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2066</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_STAGE_IN:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2067</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">          if(new_state != GLOBUS_GRAM_PROTOCOL_JOB_STATE_STAGE_IN)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2068</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2069</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">              return GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2070</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2071</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2072</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        case GLOBUS_GRAM_PROTOCOL_JOB_STATE_STAGE_OUT:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2073</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          if(new_state == GLOBUS_GRAM_PROTOCOL_JOB_STATE_DONE ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2074</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">             new_state == GLOBUS_GRAM_PROTOCOL_JOB_STATE_FAILED)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2075</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2076</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">              return GLOBUS_TRUE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2077</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">          }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2078</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2079</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        default:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2080</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">          return GLOBUS_FALSE;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2081</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2082</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2083</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_script_valid_state_change() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2084</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2085</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2086</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Queue and perhaps start a job manager script</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2087</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2088</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * If the job manager isn&#39;t currently running too many simultaneous scripts, </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2089</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * start the script described in the @a context parameter. Otherwise, queue</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2090</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * it in the manager&#39;s script fifo and it will start when another one finishes.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2091</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2092</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param manager</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2093</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Manager state</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2094</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param context</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2095</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Script context</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2096</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2097</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2098</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Success</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2099</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2100</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Error opening jobmanager script</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2101</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2102</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2103</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2104</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_script_queue(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2105</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2106</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_script_context_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2107</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                                        context)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2108</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2109</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2110</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2111</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerLock(manager);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2112</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    rc = globus_fifo_enqueue(&amp;manager-&gt;script_fifo, context);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2113</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2114</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2115</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2116</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2117</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto fifo_enqueue_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2118</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2119</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2120</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_l_gram_process_script_queue_locked(manager);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2121</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2122</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">fifo_enqueue_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2123</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerUnlock(manager);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2124</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2125</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2126</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2127</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_script_queue() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2128</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2129</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2130</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Start processing queued script commands on XIO handles.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2131</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2132</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * For each script context queued in the script fifo, either write its command</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2133</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * to an existing XIO handle or create a new XIO handle to process the script,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2134</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * provided there are slots available for running more scripts. </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2135</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2136</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * The mutex associated with the @a manager parameter must be locked when this</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2137</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * procedure is called.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2138</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2139</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param manager</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2140</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Job manager state</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2141</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2142</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2143</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2144</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_process_script_queue_locked(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2145</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2146</td>
          <td class="coverageCount">384</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2147</td>
          <td class="coverageCount">384</td>
          <td class="srcCell"><span class="srcLine">    int                                 rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2148</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_script_context_t *</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2149</td>
          <td class="coverageCount">384</td>
          <td class="srcCell"><span class="srcLine">                                        head = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2150</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 i, total_iov_contents;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2151</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     result;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2152</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_reltime_t                    delay;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2153</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2154</td>
          <td class="coverageCount">960</td>
          <td class="srcCell"><span class="srcLine">    while ((!globus_fifo_empty(&amp;manager-&gt;script_fifo)) &amp;&amp;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2155</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">           (manager-&gt;script_slots_available &gt; 0 ||</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2156</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            !globus_fifo_empty(&amp;manager-&gt;script_handles)))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2157</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2158</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* head may be non-null if we fail due to an I/O error below (see</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2159</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         * the &quot;continue&quot; statements</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2160</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">         */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2161</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        if (head == NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2162</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2163</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">            head = globus_fifo_peek(&amp;manager-&gt;script_fifo);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2164</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2165</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2166</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        /* Prefer to reuse a handle to the script */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2167</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        if (!globus_fifo_empty(&amp;manager-&gt;script_handles))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2168</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2169</td>
          <td class="coverageCount">191</td>
          <td class="srcCell"><span class="srcLine">            head-&gt;handle = globus_fifo_dequeue(&amp;manager-&gt;script_handles);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2170</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2171</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        else </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2172</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2173</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            /* Create a new script if more slots are available */</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2174</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">            assert(manager-&gt;script_slots_available &gt; 0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2175</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">            rc = globus_gram_job_manager_script_handle_init(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2176</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2177</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &amp;head-&gt;handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2178</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">            if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2179</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2180</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2181</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2182</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">            manager-&gt;script_slots_available--;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2183</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2184</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2185</td>
          <td class="coverageCount">57250</td>
          <td class="srcCell"><span class="srcLine">        for (i = 0, total_iov_contents = 0; i &lt; head-&gt;iovcnt; i++)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2186</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2187</td>
          <td class="coverageCount">57058</td>
          <td class="srcCell"><span class="srcLine">            total_iov_contents += head-&gt;iov[i].iov_len;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2188</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2189</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        result = globus_xio_register_writev(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2190</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                head-&gt;handle-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2191</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                head-&gt;iov,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2192</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                head-&gt;iovcnt,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2193</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                total_iov_contents,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2194</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2195</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2196</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2197</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2198</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2199</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">	    char *errstr = globus_error_print_friendly(</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2200</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                    globus_error_peek(result));</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2201</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            char *escaped_errstr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2202</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2203</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            escaped_errstr = globus_gram_prepare_log_string(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2204</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2205</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_gram_job_manager_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2206</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2207</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    GLOBUS_GRAM_JOB_MANAGER_LOG_ERROR,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2208</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;event=gram.script.write.end level=ERROR &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2209</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;msg=\&quot;%s\&quot; status=%d reason=\&quot;%s\&quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2210</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    &quot;error writing to script input&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2211</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    -1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2212</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">		    escaped_errstr ? escaped_errstr : &quot;&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2213</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (errstr)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2214</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2215</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2216</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2217</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            if (escaped_errstr)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2218</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2219</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">                free(escaped_errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2220</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2221</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_xio_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2222</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    head-&gt;handle-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2223</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2224</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    globus_l_script_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2225</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    head-&gt;handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2226</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            head-&gt;handle = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2227</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            manager-&gt;script_slots_available++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2228</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2229</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2230</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2231</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        result = globus_xio_register_read(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2232</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                head-&gt;handle-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2233</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                head-&gt;handle-&gt;return_buf,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2234</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                sizeof(head-&gt;handle-&gt;return_buf),</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2235</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                1,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2236</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2237</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_gram_job_manager_script_read,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2238</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                head);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2239</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2240</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2241</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            GlobusTimeReltimeSet(delay, 0, 0);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2242</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2243</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            globus_xio_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2244</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    head-&gt;handle-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2245</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2246</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    globus_l_script_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2247</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                    head-&gt;handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2248</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            head-&gt;handle = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2249</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            manager-&gt;script_slots_available++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2250</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2251</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            continue;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2252</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2253</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        globus_fifo_dequeue(&amp;manager-&gt;script_fifo);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2254</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        head = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2255</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2256</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2257</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2258</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2259</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_process_script_queue_locked() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2260</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2261</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2262</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Convert a fifo of NULL-terminated strings into an array of iovec structs</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2263</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2264</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param fifo</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2265</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Fifo of strings. All strings will be removed from this fifo, but it</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2266</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     will not be destroyed.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2267</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param iov</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2268</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Pointer to an array of iovec structs. A new array will be allocated</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2269</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     to hold the values of @a fifo.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2270</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param num_iov</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2271</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Pointer to the number of iovec structs in the resulting string.</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2272</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2273</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_SUCCESS</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2274</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Success</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2275</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @retval GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2276</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Malloc failed</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2277</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2278</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2279</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2280</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_fifo_to_iovec(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2281</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_fifo_t *                     fifo,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2282</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    struct iovec **                     iov,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2283</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int *                               num_iov)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2284</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2285</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_list_t                       *list;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2286</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    size_t                              len;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2287</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              str;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2288</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 i;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2289</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    int                                 rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2290</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2291</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    len = globus_fifo_size(fifo);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2292</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    list = globus_fifo_convert_to_list(fifo);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2293</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2294</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    *iov = malloc(len * sizeof(struct iovec));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2295</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (*iov == NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2296</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2297</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2298</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto malloc_iov_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2299</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2300</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    *num_iov = len;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2301</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2302</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    i = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2303</td>
          <td class="coverageCount">57250</td>
          <td class="srcCell"><span class="srcLine">    for (; list != NULL; i++)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2304</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2305</td>
          <td class="coverageCount">57058</td>
          <td class="srcCell"><span class="srcLine">        str = globus_list_remove(&amp;list, list);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2306</td>
          <td class="coverageCount">57058</td>
          <td class="srcCell"><span class="srcLine">        (*iov)[i].iov_base = str;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2307</td>
          <td class="coverageCount">57058</td>
          <td class="srcCell"><span class="srcLine">        (*iov)[i].iov_len = strlen(str);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2308</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2309</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2310</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2311</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2312</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">malloc_iov_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2313</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        *iov = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2314</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        *num_iov = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2315</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2316</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2317</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2318</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2319</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_fifo_to_iovec() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2320</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2321</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2322</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/**</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2323</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * Finished processing a script, start another if one is queued</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2324</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2325</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @param manager</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2326</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> *     Job manager state</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2327</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * </span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2328</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> * @return void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2329</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"> */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2330</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2331</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2332</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_gram_job_manager_script_done(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2333</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2334</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_script_handle_t         handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2335</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2336</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerLock(manager);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2337</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2338</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    if (handle-&gt;result == GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2339</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2340</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">        globus_fifo_enqueue(&amp;manager-&gt;script_handles, handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2341</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2342</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    else</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2343</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2344</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_xio_register_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2345</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                handle-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2346</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2347</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                globus_l_script_close_callback,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2348</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2349</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        manager-&gt;script_slots_available++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2350</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2351</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2352</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    globus_l_gram_process_script_queue_locked(manager);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2353</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2354</td>
          <td class="coverageCount">192</td>
          <td class="srcCell"><span class="srcLine">    GlobusGramJobManagerUnlock(manager);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2355</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2356</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    return;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2357</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2358</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_l_gram_job_manager_script_done() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2359</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2360</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2361</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2362</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_close_all(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2363</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2364</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2365</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_script_handle_t         handle;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2366</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2367</td>
          <td class="coverageCount">3</td>
          <td class="srcCell"><span class="srcLine">    while (!globus_fifo_empty(&amp;manager-&gt;script_handles))</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2368</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2369</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">        handle = globus_fifo_dequeue(&amp;manager-&gt;script_handles);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2370</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2371</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">        globus_xio_close(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2372</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                handle-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2373</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2374</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">        free(handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2375</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">        manager-&gt;script_slots_available++;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2376</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2377</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2378</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_close_all() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2379</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2380</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">int</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2381</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_gram_job_manager_script_handle_init(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2382</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_t *         manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2383</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_gram_script_handle_t *       handle)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2384</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2385</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     result;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2386</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    int                                 rc = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2387</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_attr_t                   attr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2388</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              pipe_cmd[6];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2389</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    char *                              env[7];</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2390</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    int                                 i;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2391</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2392</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    pipe_cmd[0] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2393</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;%s/libexec/globus-job-manager-script.pl&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2394</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            manager-&gt;config-&gt;globus_location);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2395</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (pipe_cmd[0] == NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2396</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2397</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2398</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2399</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto script_path_malloc_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2400</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2401</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    globus_gram_job_manager_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2402</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2403</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_GRAM_JOB_MANAGER_LOG_DEBUG,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2404</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;event=gram.script.start level=DEBUG\n&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2405</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2406</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    pipe_cmd[1] = &quot;-m&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2407</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    pipe_cmd[2] = manager-&gt;config-&gt;jobmanager_type;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2408</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    pipe_cmd[3] = &quot;-c&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2409</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    pipe_cmd[4] = &quot;interactive&quot;;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2410</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    pipe_cmd[5] = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2411</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2412</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    memset(env, 0, sizeof(env));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2413</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    i = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2414</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    env[i++] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2415</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;GLOBUS_LOCATION=%s&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2416</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            manager-&gt;config-&gt;globus_location);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2417</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    env[i++] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2418</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;GLOBUS_SPOOL_DIR=%s&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2419</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            manager-&gt;config-&gt;job_state_file_dir);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2420</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    env[i++] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2421</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;HOME=%s&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2422</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            manager-&gt;config-&gt;home);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2423</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    env[i++] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2424</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &quot;LOGNAME=%s&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2425</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            manager-&gt;config-&gt;logname);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2426</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (manager-&gt;config-&gt;x509_cert_dir)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2427</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2428</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        env[i++] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2429</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;X509_CERT_DIR=%s&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2430</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                manager-&gt;config-&gt;x509_cert_dir);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2431</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2432</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (manager-&gt;config-&gt;tcp_port_range)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2433</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2434</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        env[i++] = globus_common_create_string(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2435</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;GLOBUS_TCP_PORT_RANGE=%s&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2436</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                manager-&gt;config-&gt;tcp_port_range);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2437</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2438</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    env[i] = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2439</td>
          <td class="coverageCount">5</td>
          <td class="srcCell"><span class="srcLine">    for (--i; i &gt;= 0; i--)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2440</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2441</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">        if (!env[i])</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2442</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2443</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            rc = GLOBUS_GRAM_PROTOCOL_ERROR_MALLOC_FAILED;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2444</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2445</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            goto env_strings_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2446</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2447</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2448</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2449</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    result = globus_xio_attr_init(&amp;attr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2450</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2451</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2452</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_OPENING_JOBMANAGER_SCRIPT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2453</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto attr_init_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2454</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2455</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    result = globus_xio_attr_cntl(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2456</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2457</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            globus_i_gram_job_manager_popen_driver,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2458</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_XIO_POPEN_SET_PROGRAM,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2459</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            pipe_cmd);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2460</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2461</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2462</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_OPENING_JOBMANAGER_SCRIPT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2463</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto attr_cntl_program_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2464</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2465</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    result = globus_xio_attr_cntl(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2466</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2467</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            globus_i_gram_job_manager_popen_driver,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2468</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_XIO_POPEN_SET_CHILD_ENV,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2469</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            env);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2470</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2471</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2472</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_OPENING_JOBMANAGER_SCRIPT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2473</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto attr_cntl_env_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2474</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2475</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    result = globus_xio_attr_cntl(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2476</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            attr,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2477</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            globus_i_gram_job_manager_popen_driver,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2478</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            GLOBUS_XIO_POPEN_SET_BLOCKING_IO,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2479</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            1);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2480</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2481</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2482</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_OPENING_JOBMANAGER_SCRIPT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2483</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto attr_cntl_blocking_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2484</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2485</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    *handle = malloc(sizeof(struct globus_gram_script_handle_s));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2486</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    (*handle)-&gt;return_buf[0] = 0;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2487</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    (*handle)-&gt;result = GLOBUS_SUCCESS;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2488</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2489</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    result = globus_xio_handle_create(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2490</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            &amp;(*handle)-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2491</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            globus_i_gram_job_manager_popen_stack);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2492</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2493</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2494</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_OPENING_JOBMANAGER_SCRIPT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2495</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto handle_create_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2496</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2497</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    result = globus_xio_open(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2498</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            (*handle)-&gt;handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2499</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            NULL,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2500</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">            attr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2501</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2502</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (result != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2503</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2504</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        char *                          errstr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2505</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        char *                          escaped_errstr;</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2506</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        rc = GLOBUS_GRAM_PROTOCOL_ERROR_OPENING_JOBMANAGER_SCRIPT;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2507</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2508</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        errstr = globus_error_print_friendly(globus_error_peek(result));</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2509</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        escaped_errstr = globus_gram_prepare_log_string(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2510</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2511</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_gram_job_manager_log(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2512</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                manager,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2513</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                GLOBUS_GRAM_JOB_MANAGER_LOG_ERROR,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2514</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;event=gram.script.end level=ERROR msg=\&quot;%s\&quot; status=%d &quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2515</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;reason=\&quot;%s\&quot;\n&quot;,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2516</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                &quot;failed opening script handle&quot;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2517</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                -rc,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2518</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">                escaped_errstr ? escaped_errstr : &quot;&quot;);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2519</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2520</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if (errstr)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2521</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2522</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            free(errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2523</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2524</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        if (escaped_errstr)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2525</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2526</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">            free(escaped_errstr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2527</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2528</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2529</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        goto xio_open_failed;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2530</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2531</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2532</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2533</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2534</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">xio_open_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2535</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        globus_xio_close((*handle)-&gt;handle, NULL);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2536</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">handle_create_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2537</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        free(*handle);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2538</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2539</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">attr_cntl_blocking_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2540</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">attr_cntl_env_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2541</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">attr_cntl_program_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2542</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    globus_xio_attr_destroy(attr);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2543</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2544</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">attr_init_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2545</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">env_strings_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2546</td>
          <td class="coverageCount">8</td>
          <td class="srcCell"><span class="srcLine">    for (i = 0; i &lt; 7; i++)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2547</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2548</td>
          <td class="coverageCount">7</td>
          <td class="srcCell"><span class="srcLine">        if (env[i] != NULL)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2549</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2550</td>
          <td class="coverageCount">4</td>
          <td class="srcCell"><span class="srcLine">            free(env[i]);</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2551</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">        }</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2552</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2553</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    free(pipe_cmd[0]);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2554</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">script_path_malloc_failed:</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2555</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    if (rc != GLOBUS_SUCCESS)</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2556</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    {</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2557</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">        *handle = NULL;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2558</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    }</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2559</td>
          <td class="coverageCount">1</td>
          <td class="srcCell"><span class="srcLine">    return rc;</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2560</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">}</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2561</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">/* globus_gram_job_manager_script_handle_init() */</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2562</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine"></span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2563</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">static</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2564</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">void</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2565</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">globus_l_script_close_callback(</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2566</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_xio_handle_t                 handle,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2567</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    globus_result_t                     result,</span></td>
        </tr>
      
        <tr>
          <td class="lineCount">2568</td>
          <td class="coverageCount"></td>
          <td class="srcCell"><span class="srcLine">    void *                              user_arg)</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2569</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">{</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2570</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">    free(user_arg);</span></td>
        </tr>
      
        <tr>
          <td class="lineCountHilight">2571</td>
          <td class="coverageCountHilight">0</td>
          <td class="srcCell"><span class="srcLineHilight">}</span></td>
        </tr>
      
      </table>
  </body>
</html>
